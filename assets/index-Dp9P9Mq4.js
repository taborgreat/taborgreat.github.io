(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();var $c={exports:{}},xo={},Uc={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yh;function v0(){if(yh)return Xe;yh=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),h=Symbol.iterator;function g(M){return M===null||typeof M!="object"?null:(M=h&&M[h]||M["@@iterator"],typeof M=="function"?M:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,C={};function x(M,q,te){this.props=M,this.context=q,this.refs=C,this.updater=te||y}x.prototype.isReactComponent={},x.prototype.setState=function(M,q){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,q,"setState")},x.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function E(){}E.prototype=x.prototype;function k(M,q,te){this.props=M,this.context=q,this.refs=C,this.updater=te||y}var b=k.prototype=new E;b.constructor=k,m(b,x.prototype),b.isPureReactComponent=!0;var T=Array.isArray,R=Object.prototype.hasOwnProperty,N={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function I(M,q,te){var ie,se={},ue=null,ce=null;if(q!=null)for(ie in q.ref!==void 0&&(ce=q.ref),q.key!==void 0&&(ue=""+q.key),q)R.call(q,ie)&&!D.hasOwnProperty(ie)&&(se[ie]=q[ie]);var ae=arguments.length-2;if(ae===1)se.children=te;else if(1<ae){for(var Q=Array(ae),le=0;le<ae;le++)Q[le]=arguments[le+2];se.children=Q}if(M&&M.defaultProps)for(ie in ae=M.defaultProps,ae)se[ie]===void 0&&(se[ie]=ae[ie]);return{$$typeof:t,type:M,key:ue,ref:ce,props:se,_owner:N.current}}function B(M,q){return{$$typeof:t,type:M.type,key:q,ref:M.ref,props:M.props,_owner:M._owner}}function F(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function A(M){var q={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(te){return q[te]})}var j=/\/+/g;function _(M,q){return typeof M=="object"&&M!==null&&M.key!=null?A(""+M.key):q.toString(36)}function L(M,q,te,ie,se){var ue=typeof M;(ue==="undefined"||ue==="boolean")&&(M=null);var ce=!1;if(M===null)ce=!0;else switch(ue){case"string":case"number":ce=!0;break;case"object":switch(M.$$typeof){case t:case e:ce=!0}}if(ce)return ce=M,se=se(ce),M=ie===""?"."+_(ce,0):ie,T(se)?(te="",M!=null&&(te=M.replace(j,"$&/")+"/"),L(se,q,te,"",function(le){return le})):se!=null&&(F(se)&&(se=B(se,te+(!se.key||ce&&ce.key===se.key?"":(""+se.key).replace(j,"$&/")+"/")+M)),q.push(se)),1;if(ce=0,ie=ie===""?".":ie+":",T(M))for(var ae=0;ae<M.length;ae++){ue=M[ae];var Q=ie+_(ue,ae);ce+=L(ue,q,te,Q,se)}else if(Q=g(M),typeof Q=="function")for(M=Q.call(M),ae=0;!(ue=M.next()).done;)ue=ue.value,Q=ie+_(ue,ae++),ce+=L(ue,q,te,Q,se);else if(ue==="object")throw q=String(M),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return ce}function $(M,q,te){if(M==null)return M;var ie=[],se=0;return L(M,ie,"","",function(ue){return q.call(te,ue,se++)}),ie}function V(M){if(M._status===-1){var q=M._result;q=q(),q.then(function(te){(M._status===0||M._status===-1)&&(M._status=1,M._result=te)},function(te){(M._status===0||M._status===-1)&&(M._status=2,M._result=te)}),M._status===-1&&(M._status=0,M._result=q)}if(M._status===1)return M._result.default;throw M._result}var U={current:null},H={transition:null},K={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:H,ReactCurrentOwner:N};function Y(){throw Error("act(...) is not supported in production builds of React.")}return Xe.Children={map:$,forEach:function(M,q,te){$(M,function(){q.apply(this,arguments)},te)},count:function(M){var q=0;return $(M,function(){q++}),q},toArray:function(M){return $(M,function(q){return q})||[]},only:function(M){if(!F(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Xe.Component=x,Xe.Fragment=r,Xe.Profiler=o,Xe.PureComponent=k,Xe.StrictMode=a,Xe.Suspense=d,Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,Xe.act=Y,Xe.cloneElement=function(M,q,te){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var ie=m({},M.props),se=M.key,ue=M.ref,ce=M._owner;if(q!=null){if(q.ref!==void 0&&(ue=q.ref,ce=N.current),q.key!==void 0&&(se=""+q.key),M.type&&M.type.defaultProps)var ae=M.type.defaultProps;for(Q in q)R.call(q,Q)&&!D.hasOwnProperty(Q)&&(ie[Q]=q[Q]===void 0&&ae!==void 0?ae[Q]:q[Q])}var Q=arguments.length-2;if(Q===1)ie.children=te;else if(1<Q){ae=Array(Q);for(var le=0;le<Q;le++)ae[le]=arguments[le+2];ie.children=ae}return{$$typeof:t,type:M.type,key:se,ref:ue,props:ie,_owner:ce}},Xe.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:s,_context:M},M.Consumer=M},Xe.createElement=I,Xe.createFactory=function(M){var q=I.bind(null,M);return q.type=M,q},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(M){return{$$typeof:u,render:M}},Xe.isValidElement=F,Xe.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:V}},Xe.memo=function(M,q){return{$$typeof:f,type:M,compare:q===void 0?null:q}},Xe.startTransition=function(M){var q=H.transition;H.transition={};try{M()}finally{H.transition=q}},Xe.unstable_act=Y,Xe.useCallback=function(M,q){return U.current.useCallback(M,q)},Xe.useContext=function(M){return U.current.useContext(M)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(M){return U.current.useDeferredValue(M)},Xe.useEffect=function(M,q){return U.current.useEffect(M,q)},Xe.useId=function(){return U.current.useId()},Xe.useImperativeHandle=function(M,q,te){return U.current.useImperativeHandle(M,q,te)},Xe.useInsertionEffect=function(M,q){return U.current.useInsertionEffect(M,q)},Xe.useLayoutEffect=function(M,q){return U.current.useLayoutEffect(M,q)},Xe.useMemo=function(M,q){return U.current.useMemo(M,q)},Xe.useReducer=function(M,q,te){return U.current.useReducer(M,q,te)},Xe.useRef=function(M){return U.current.useRef(M)},Xe.useState=function(M){return U.current.useState(M)},Xe.useSyncExternalStore=function(M,q,te){return U.current.useSyncExternalStore(M,q,te)},Xe.useTransition=function(){return U.current.useTransition()},Xe.version="18.3.1",Xe}var wh;function kf(){return wh||(wh=1,Uc.exports=v0()),Uc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xh;function h0(){if(xh)return xo;xh=1;var t=kf(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var v,h={},g=null,y=null;f!==void 0&&(g=""+f),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(y=d.ref);for(v in d)a.call(d,v)&&!s.hasOwnProperty(v)&&(h[v]=d[v]);if(u&&u.defaultProps)for(v in d=u.defaultProps,d)h[v]===void 0&&(h[v]=d[v]);return{$$typeof:e,type:u,key:g,ref:y,props:h,_owner:o.current}}return xo.Fragment=r,xo.jsx=l,xo.jsxs=l,xo}var Eh;function p0(){return Eh||(Eh=1,$c.exports=h0()),$c.exports}var O=p0(),Se=kf(),cl={},Hc={exports:{}},Dr={},qc={exports:{}},Wc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sh;function g0(){return Sh||(Sh=1,function(t){function e(H,K){var Y=H.length;H.push(K);e:for(;0<Y;){var M=Y-1>>>1,q=H[M];if(0<o(q,K))H[M]=K,H[Y]=q,Y=M;else break e}}function r(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var K=H[0],Y=H.pop();if(Y!==K){H[0]=Y;e:for(var M=0,q=H.length,te=q>>>1;M<te;){var ie=2*(M+1)-1,se=H[ie],ue=ie+1,ce=H[ue];if(0>o(se,Y))ue<q&&0>o(ce,se)?(H[M]=ce,H[ue]=Y,M=ue):(H[M]=se,H[ie]=Y,M=ie);else if(ue<q&&0>o(ce,Y))H[M]=ce,H[ue]=Y,M=ue;else break e}}return K}function o(H,K){var Y=H.sortIndex-K.sortIndex;return Y!==0?Y:H.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],f=[],v=1,h=null,g=3,y=!1,m=!1,C=!1,x=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(H){for(var K=r(f);K!==null;){if(K.callback===null)a(f);else if(K.startTime<=H)a(f),K.sortIndex=K.expirationTime,e(d,K);else break;K=r(f)}}function T(H){if(C=!1,b(H),!m)if(r(d)!==null)m=!0,V(R);else{var K=r(f);K!==null&&U(T,K.startTime-H)}}function R(H,K){m=!1,C&&(C=!1,E(I),I=-1),y=!0;var Y=g;try{for(b(K),h=r(d);h!==null&&(!(h.expirationTime>K)||H&&!A());){var M=h.callback;if(typeof M=="function"){h.callback=null,g=h.priorityLevel;var q=M(h.expirationTime<=K);K=t.unstable_now(),typeof q=="function"?h.callback=q:h===r(d)&&a(d),b(K)}else a(d);h=r(d)}if(h!==null)var te=!0;else{var ie=r(f);ie!==null&&U(T,ie.startTime-K),te=!1}return te}finally{h=null,g=Y,y=!1}}var N=!1,D=null,I=-1,B=5,F=-1;function A(){return!(t.unstable_now()-F<B)}function j(){if(D!==null){var H=t.unstable_now();F=H;var K=!0;try{K=D(!0,H)}finally{K?_():(N=!1,D=null)}}else N=!1}var _;if(typeof k=="function")_=function(){k(j)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,$=L.port2;L.port1.onmessage=j,_=function(){$.postMessage(null)}}else _=function(){x(j,0)};function V(H){D=H,N||(N=!0,_())}function U(H,K){I=x(function(){H(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){m||y||(m=!0,V(R))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(H){switch(g){case 1:case 2:case 3:var K=3;break;default:K=g}var Y=g;g=K;try{return H()}finally{g=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,K){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Y=g;g=H;try{return K()}finally{g=Y}},t.unstable_scheduleCallback=function(H,K,Y){var M=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?M+Y:M):Y=M,H){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=Y+q,H={id:v++,callback:K,priorityLevel:H,startTime:Y,expirationTime:q,sortIndex:-1},Y>M?(H.sortIndex=Y,e(f,H),r(d)===null&&H===r(f)&&(C?(E(I),I=-1):C=!0,U(T,Y-M))):(H.sortIndex=q,e(d,H),m||y||(m=!0,V(R))),H},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(H){var K=g;return function(){var Y=g;g=K;try{return H.apply(this,arguments)}finally{g=Y}}}}(Wc)),Wc}var Ch;function m0(){return Ch||(Ch=1,qc.exports=g0()),qc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kh;function y0(){if(kh)return Dr;kh=1;var t=kf(),e=m0();function r(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function s(n,i){l(n,i),l(n+"Capture",i)}function l(n,i){for(o[n]=i,n=0;n<i.length;n++)a.add(i[n])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},h={};function g(n){return d.call(h,n)?!0:d.call(v,n)?!1:f.test(n)?h[n]=!0:(v[n]=!0,!1)}function y(n,i,c,p){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function m(n,i,c,p){if(i===null||typeof i>"u"||y(n,i,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function C(n,i,c,p,w,S,P){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=p,this.attributeNamespace=w,this.mustUseProperty=c,this.propertyName=n,this.type=i,this.sanitizeURL=S,this.removeEmptyString=P}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){x[n]=new C(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];x[i]=new C(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){x[n]=new C(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){x[n]=new C(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){x[n]=new C(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){x[n]=new C(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){x[n]=new C(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){x[n]=new C(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){x[n]=new C(n,5,!1,n.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function k(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(E,k);x[i]=new C(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(E,k);x[i]=new C(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(E,k);x[i]=new C(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){x[n]=new C(n,1,!1,n.toLowerCase(),null,!1,!1)}),x.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){x[n]=new C(n,1,!1,n.toLowerCase(),null,!0,!0)});function b(n,i,c,p){var w=x.hasOwnProperty(i)?x[i]:null;(w!==null?w.type!==0:p||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(m(i,c,w,p)&&(c=null),p||w===null?g(i)&&(c===null?n.removeAttribute(i):n.setAttribute(i,""+c)):w.mustUseProperty?n[w.propertyName]=c===null?w.type===3?!1:"":c:(i=w.attributeName,p=w.attributeNamespace,c===null?n.removeAttribute(i):(w=w.type,c=w===3||w===4&&c===!0?"":""+c,p?n.setAttributeNS(p,i,c):n.setAttribute(i,c))))}var T=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),N=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),A=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),H=Symbol.iterator;function K(n){return n===null||typeof n!="object"?null:(n=H&&n[H]||n["@@iterator"],typeof n=="function"?n:null)}var Y=Object.assign,M;function q(n){if(M===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);M=i&&i[1]||""}return`
`+M+n}var te=!1;function ie(n,i){if(!n||te)return"";te=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(oe){var p=oe}Reflect.construct(n,[],i)}else{try{i.call()}catch(oe){p=oe}n.call(i.prototype)}else{try{throw Error()}catch(oe){p=oe}n()}}catch(oe){if(oe&&p&&typeof oe.stack=="string"){for(var w=oe.stack.split(`
`),S=p.stack.split(`
`),P=w.length-1,W=S.length-1;1<=P&&0<=W&&w[P]!==S[W];)W--;for(;1<=P&&0<=W;P--,W--)if(w[P]!==S[W]){if(P!==1||W!==1)do if(P--,W--,0>W||w[P]!==S[W]){var G=`
`+w[P].replace(" at new "," at ");return n.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",n.displayName)),G}while(1<=P&&0<=W);break}}}finally{te=!1,Error.prepareStackTrace=c}return(n=n?n.displayName||n.name:"")?q(n):""}function se(n){switch(n.tag){case 5:return q(n.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return n=ie(n.type,!1),n;case 11:return n=ie(n.type.render,!1),n;case 1:return n=ie(n.type,!0),n;default:return""}}function ue(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case D:return"Fragment";case N:return"Portal";case B:return"Profiler";case I:return"StrictMode";case _:return"Suspense";case L:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case A:return(n.displayName||"Context")+".Consumer";case F:return(n._context.displayName||"Context")+".Provider";case j:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case $:return i=n.displayName||null,i!==null?i:ue(n.type)||"Memo";case V:i=n._payload,n=n._init;try{return ue(n(i))}catch{}}return null}function ce(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(i);case 8:return i===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ae(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Q(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function le(n){var i=Q(n)?"checked":"value",c=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),p=""+n[i];if(!n.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var w=c.get,S=c.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return w.call(this)},set:function(P){p=""+P,S.call(this,P)}}),Object.defineProperty(n,i,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(P){p=""+P},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function de(n){n._valueTracker||(n._valueTracker=le(n))}function Ee(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var c=i.getValue(),p="";return n&&(p=Q(n)?n.checked?"true":"false":n.value),n=p,n!==c?(i.setValue(n),!0):!1}function ze(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function xe(n,i){var c=i.checked;return Y({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??n._wrapperState.initialChecked})}function we(n,i){var c=i.defaultValue==null?"":i.defaultValue,p=i.checked!=null?i.checked:i.defaultChecked;c=ae(i.value!=null?i.value:c),n._wrapperState={initialChecked:p,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Re(n,i){i=i.checked,i!=null&&b(n,"checked",i,!1)}function Pe(n,i){Re(n,i);var c=ae(i.value),p=i.type;if(c!=null)p==="number"?(c===0&&n.value===""||n.value!=c)&&(n.value=""+c):n.value!==""+c&&(n.value=""+c);else if(p==="submit"||p==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?Ae(n,i.type,c):i.hasOwnProperty("defaultValue")&&Ae(n,i.type,ae(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Te(n,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var p=i.type;if(!(p!=="submit"&&p!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,c||i===n.value||(n.value=i),n.defaultValue=i}c=n.name,c!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,c!==""&&(n.name=c)}function Ae(n,i,c){(i!=="number"||ze(n.ownerDocument)!==n)&&(c==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+c&&(n.defaultValue=""+c))}var Ze=Array.isArray;function Qe(n,i,c,p){if(n=n.options,i){i={};for(var w=0;w<c.length;w++)i["$"+c[w]]=!0;for(c=0;c<n.length;c++)w=i.hasOwnProperty("$"+n[c].value),n[c].selected!==w&&(n[c].selected=w),w&&p&&(n[c].defaultSelected=!0)}else{for(c=""+ae(c),i=null,w=0;w<n.length;w++){if(n[w].value===c){n[w].selected=!0,p&&(n[w].defaultSelected=!0);return}i!==null||n[w].disabled||(i=n[w])}i!==null&&(i.selected=!0)}}function Ge(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return Y({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function at(n,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(r(92));if(Ze(c)){if(1<c.length)throw Error(r(93));c=c[0]}i=c}i==null&&(i=""),c=i}n._wrapperState={initialValue:ae(c)}}function Ye(n,i){var c=ae(i.value),p=ae(i.defaultValue);c!=null&&(c=""+c,c!==n.value&&(n.value=c),i.defaultValue==null&&n.defaultValue!==c&&(n.defaultValue=c)),p!=null&&(n.defaultValue=""+p)}function Je(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function ge(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function z(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?ge(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ee,fe=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,p,w){MSApp.execUnsafeLocalFunction(function(){return n(i,c,p,w)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(ee=ee||document.createElement("div"),ee.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=ee.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Z(n,i){if(i){var c=n.firstChild;if(c&&c===n.lastChild&&c.nodeType===3){c.nodeValue=i;return}}n.textContent=i}var ne={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];Object.keys(ne).forEach(function(n){be.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),ne[i]=ne[n]})});function ve(n,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||ne.hasOwnProperty(n)&&ne[n]?(""+i).trim():i+"px"}function Ce(n,i){n=n.style;for(var c in i)if(i.hasOwnProperty(c)){var p=c.indexOf("--")===0,w=ve(c,i[c],p);c==="float"&&(c="cssFloat"),p?n.setProperty(c,w):n[c]=w}}var je=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function We(n,i){if(i){if(je[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function Be(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var He=null;function qe(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ve=null,et=null,lt=null;function rr(n){if(n=ao(n)){if(typeof Ve!="function")throw Error(r(280));var i=n.stateNode;i&&(i=bs(i),Ve(n.stateNode,n.type,i))}}function nr(n){et?lt?lt.push(n):lt=[n]:et=n}function Tt(){if(et){var n=et,i=lt;if(lt=et=null,rr(n),i)for(n=0;n<i.length;n++)rr(i[n])}}function Rt(n,i){return n(i)}function Bt(){}var zt=!1;function Ut(n,i,c){if(zt)return n(i,c);zt=!0;try{return Rt(n,i,c)}finally{zt=!1,(et!==null||lt!==null)&&(Bt(),Tt())}}function ar(n,i){var c=n.stateNode;if(c===null)return null;var p=bs(c);if(p===null)return null;c=p[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(n=n.type,p=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!p;break e;default:n=!1}if(n)return null;if(c&&typeof c!="function")throw Error(r(231,i,typeof c));return c}var ir=!1;if(u)try{var or={};Object.defineProperty(or,"passive",{get:function(){ir=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch{ir=!1}function Kr(n,i,c,p,w,S,P,W,G){var oe=Array.prototype.slice.call(arguments,3);try{i.apply(c,oe)}catch(pe){this.onError(pe)}}var mr=!1,Mt=null,St=!1,Ht=null,_a={onError:function(n){mr=!0,Mt=n}};function zr(n,i,c,p,w,S,P,W,G){mr=!1,Mt=null,Kr.apply(_a,arguments)}function Jo(n,i,c,p,w,S,P,W,G){if(zr.apply(this,arguments),mr){if(mr){var oe=Mt;mr=!1,Mt=null}else throw Error(r(198));St||(St=!0,Ht=oe)}}function mn(n){var i=n,c=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,i.flags&4098&&(c=i.return),n=i.return;while(n)}return i.tag===3?c:null}function es(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function ts(n){if(mn(n)!==n)throw Error(r(188))}function lu(n){var i=n.alternate;if(!i){if(i=mn(n),i===null)throw Error(r(188));return i!==n?null:n}for(var c=n,p=i;;){var w=c.return;if(w===null)break;var S=w.alternate;if(S===null){if(p=w.return,p!==null){c=p;continue}break}if(w.child===S.child){for(S=w.child;S;){if(S===c)return ts(w),n;if(S===p)return ts(w),i;S=S.sibling}throw Error(r(188))}if(c.return!==p.return)c=w,p=S;else{for(var P=!1,W=w.child;W;){if(W===c){P=!0,c=w,p=S;break}if(W===p){P=!0,p=w,c=S;break}W=W.sibling}if(!P){for(W=S.child;W;){if(W===c){P=!0,c=S,p=w;break}if(W===p){P=!0,p=S,c=w;break}W=W.sibling}if(!P)throw Error(r(189))}}if(c.alternate!==p)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?n:i}function rs(n){return n=lu(n),n!==null?ns(n):null}function ns(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=ns(n);if(i!==null)return i;n=n.sibling}return null}var as=e.unstable_scheduleCallback,Bn=e.unstable_cancelCallback,Fi=e.unstable_shouldYield,$a=e.unstable_requestPaint,xt=e.unstable_now,is=e.unstable_getCurrentPriorityLevel,ji=e.unstable_ImmediatePriority,Er=e.unstable_UserBlockingPriority,Mn=e.unstable_NormalPriority,os=e.unstable_LowPriority,In=e.unstable_IdlePriority,sr=null,Ar=null;function Pm(n){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(sr,n,void 0,(n.current.flags&128)===128)}catch{}}var Gr=Math.clz32?Math.clz32:Rm,Nm=Math.log,Lm=Math.LN2;function Rm(n){return n>>>=0,n===0?32:31-(Nm(n)/Lm|0)|0}var ss=64,ls=4194304;function Vi(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function us(n,i){var c=n.pendingLanes;if(c===0)return 0;var p=0,w=n.suspendedLanes,S=n.pingedLanes,P=c&268435455;if(P!==0){var W=P&~w;W!==0?p=Vi(W):(S&=P,S!==0&&(p=Vi(S)))}else P=c&~w,P!==0?p=Vi(P):S!==0&&(p=Vi(S));if(p===0)return 0;if(i!==0&&i!==p&&!(i&w)&&(w=p&-p,S=i&-i,w>=S||w===16&&(S&4194240)!==0))return i;if(p&4&&(p|=c&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=p;0<i;)c=31-Gr(i),w=1<<c,p|=n[c],i&=~w;return p}function Bm(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mm(n,i){for(var c=n.suspendedLanes,p=n.pingedLanes,w=n.expirationTimes,S=n.pendingLanes;0<S;){var P=31-Gr(S),W=1<<P,G=w[P];G===-1?(!(W&c)||W&p)&&(w[P]=Bm(W,i)):G<=i&&(n.expiredLanes|=W),S&=~W}}function uu(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Yf(){var n=ss;return ss<<=1,!(ss&4194240)&&(ss=64),n}function cu(n){for(var i=[],c=0;31>c;c++)i.push(n);return i}function _i(n,i,c){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-Gr(i),n[i]=c}function Im(n,i){var c=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var p=n.eventTimes;for(n=n.expirationTimes;0<c;){var w=31-Gr(c),S=1<<w;i[w]=0,p[w]=-1,n[w]=-1,c&=~S}}function fu(n,i){var c=n.entangledLanes|=i;for(n=n.entanglements;c;){var p=31-Gr(c),w=1<<p;w&i|n[p]&i&&(n[p]|=i),c&=~w}}var ft=0;function Qf(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Xf,du,Zf,Jf,ed,vu=!1,cs=[],On=null,zn=null,An=null,$i=new Map,Ui=new Map,Fn=[],Om="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function td(n,i){switch(n){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":$i.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ui.delete(i.pointerId)}}function Hi(n,i,c,p,w,S){return n===null||n.nativeEvent!==S?(n={blockedOn:i,domEventName:c,eventSystemFlags:p,nativeEvent:S,targetContainers:[w]},i!==null&&(i=ao(i),i!==null&&du(i)),n):(n.eventSystemFlags|=p,i=n.targetContainers,w!==null&&i.indexOf(w)===-1&&i.push(w),n)}function zm(n,i,c,p,w){switch(i){case"focusin":return On=Hi(On,n,i,c,p,w),!0;case"dragenter":return zn=Hi(zn,n,i,c,p,w),!0;case"mouseover":return An=Hi(An,n,i,c,p,w),!0;case"pointerover":var S=w.pointerId;return $i.set(S,Hi($i.get(S)||null,n,i,c,p,w)),!0;case"gotpointercapture":return S=w.pointerId,Ui.set(S,Hi(Ui.get(S)||null,n,i,c,p,w)),!0}return!1}function rd(n){var i=va(n.target);if(i!==null){var c=mn(i);if(c!==null){if(i=c.tag,i===13){if(i=es(c),i!==null){n.blockedOn=i,ed(n.priority,function(){Zf(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){n.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}n.blockedOn=null}function fs(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var c=pu(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(c===null){c=n.nativeEvent;var p=new c.constructor(c.type,c);He=p,c.target.dispatchEvent(p),He=null}else return i=ao(c),i!==null&&du(i),n.blockedOn=c,!1;i.shift()}return!0}function nd(n,i,c){fs(n)&&c.delete(i)}function Am(){vu=!1,On!==null&&fs(On)&&(On=null),zn!==null&&fs(zn)&&(zn=null),An!==null&&fs(An)&&(An=null),$i.forEach(nd),Ui.forEach(nd)}function qi(n,i){n.blockedOn===i&&(n.blockedOn=null,vu||(vu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Am)))}function Wi(n){function i(w){return qi(w,n)}if(0<cs.length){qi(cs[0],n);for(var c=1;c<cs.length;c++){var p=cs[c];p.blockedOn===n&&(p.blockedOn=null)}}for(On!==null&&qi(On,n),zn!==null&&qi(zn,n),An!==null&&qi(An,n),$i.forEach(i),Ui.forEach(i),c=0;c<Fn.length;c++)p=Fn[c],p.blockedOn===n&&(p.blockedOn=null);for(;0<Fn.length&&(c=Fn[0],c.blockedOn===null);)rd(c),c.blockedOn===null&&Fn.shift()}var Ua=T.ReactCurrentBatchConfig,ds=!0;function Fm(n,i,c,p){var w=ft,S=Ua.transition;Ua.transition=null;try{ft=1,hu(n,i,c,p)}finally{ft=w,Ua.transition=S}}function jm(n,i,c,p){var w=ft,S=Ua.transition;Ua.transition=null;try{ft=4,hu(n,i,c,p)}finally{ft=w,Ua.transition=S}}function hu(n,i,c,p){if(ds){var w=pu(n,i,c,p);if(w===null)Bu(n,i,p,vs,c),td(n,p);else if(zm(w,n,i,c,p))p.stopPropagation();else if(td(n,p),i&4&&-1<Om.indexOf(n)){for(;w!==null;){var S=ao(w);if(S!==null&&Xf(S),S=pu(n,i,c,p),S===null&&Bu(n,i,p,vs,c),S===w)break;w=S}w!==null&&p.stopPropagation()}else Bu(n,i,p,null,c)}}var vs=null;function pu(n,i,c,p){if(vs=null,n=qe(p),n=va(n),n!==null)if(i=mn(n),i===null)n=null;else if(c=i.tag,c===13){if(n=es(i),n!==null)return n;n=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return vs=n,null}function ad(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(is()){case ji:return 1;case Er:return 4;case Mn:case os:return 16;case In:return 536870912;default:return 16}default:return 16}}var jn=null,gu=null,hs=null;function id(){if(hs)return hs;var n,i=gu,c=i.length,p,w="value"in jn?jn.value:jn.textContent,S=w.length;for(n=0;n<c&&i[n]===w[n];n++);var P=c-n;for(p=1;p<=P&&i[c-p]===w[S-p];p++);return hs=w.slice(n,1<p?1-p:void 0)}function ps(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function gs(){return!0}function od(){return!1}function Lr(n){function i(c,p,w,S,P){this._reactName=c,this._targetInst=w,this.type=p,this.nativeEvent=S,this.target=P,this.currentTarget=null;for(var W in n)n.hasOwnProperty(W)&&(c=n[W],this[W]=c?c(S):S[W]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?gs:od,this.isPropagationStopped=od,this}return Y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),i}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mu=Lr(Ha),Ki=Y({},Ha,{view:0,detail:0}),Vm=Lr(Ki),yu,wu,Gi,ms=Y({},Ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Gi&&(Gi&&n.type==="mousemove"?(yu=n.screenX-Gi.screenX,wu=n.screenY-Gi.screenY):wu=yu=0,Gi=n),yu)},movementY:function(n){return"movementY"in n?n.movementY:wu}}),sd=Lr(ms),_m=Y({},ms,{dataTransfer:0}),$m=Lr(_m),Um=Y({},Ki,{relatedTarget:0}),xu=Lr(Um),Hm=Y({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),qm=Lr(Hm),Wm=Y({},Ha,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Km=Lr(Wm),Gm=Y({},Ha,{data:0}),ld=Lr(Gm),Ym={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zm(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Xm[n])?!!i[n]:!1}function Eu(){return Zm}var Jm=Y({},Ki,{key:function(n){if(n.key){var i=Ym[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ps(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Qm[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eu,charCode:function(n){return n.type==="keypress"?ps(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ps(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ey=Lr(Jm),ty=Y({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ud=Lr(ty),ry=Y({},Ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eu}),ny=Lr(ry),ay=Y({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),iy=Lr(ay),oy=Y({},ms,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),sy=Lr(oy),ly=[9,13,27,32],Su=u&&"CompositionEvent"in window,Yi=null;u&&"documentMode"in document&&(Yi=document.documentMode);var uy=u&&"TextEvent"in window&&!Yi,cd=u&&(!Su||Yi&&8<Yi&&11>=Yi),fd=" ",dd=!1;function vd(n,i){switch(n){case"keyup":return ly.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hd(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var qa=!1;function cy(n,i){switch(n){case"compositionend":return hd(i);case"keypress":return i.which!==32?null:(dd=!0,fd);case"textInput":return n=i.data,n===fd&&dd?null:n;default:return null}}function fy(n,i){if(qa)return n==="compositionend"||!Su&&vd(n,i)?(n=id(),hs=gu=jn=null,qa=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return cd&&i.locale!=="ko"?null:i.data;default:return null}}var dy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!dy[n.type]:i==="textarea"}function gd(n,i,c,p){nr(p),i=Ss(i,"onChange"),0<i.length&&(c=new mu("onChange","change",null,c,p),n.push({event:c,listeners:i}))}var Qi=null,Xi=null;function vy(n){Id(n,0)}function ys(n){var i=Qa(n);if(Ee(i))return n}function hy(n,i){if(n==="change")return i}var md=!1;if(u){var Cu;if(u){var ku="oninput"in document;if(!ku){var yd=document.createElement("div");yd.setAttribute("oninput","return;"),ku=typeof yd.oninput=="function"}Cu=ku}else Cu=!1;md=Cu&&(!document.documentMode||9<document.documentMode)}function wd(){Qi&&(Qi.detachEvent("onpropertychange",xd),Xi=Qi=null)}function xd(n){if(n.propertyName==="value"&&ys(Xi)){var i=[];gd(i,Xi,n,qe(n)),Ut(vy,i)}}function py(n,i,c){n==="focusin"?(wd(),Qi=i,Xi=c,Qi.attachEvent("onpropertychange",xd)):n==="focusout"&&wd()}function gy(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ys(Xi)}function my(n,i){if(n==="click")return ys(i)}function yy(n,i){if(n==="input"||n==="change")return ys(i)}function wy(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Yr=typeof Object.is=="function"?Object.is:wy;function Zi(n,i){if(Yr(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var c=Object.keys(n),p=Object.keys(i);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var w=c[p];if(!d.call(i,w)||!Yr(n[w],i[w]))return!1}return!0}function Ed(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Sd(n,i){var c=Ed(n);n=0;for(var p;c;){if(c.nodeType===3){if(p=n+c.textContent.length,n<=i&&p>=i)return{node:c,offset:i-n};n=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Ed(c)}}function Cd(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Cd(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function kd(){for(var n=window,i=ze();i instanceof n.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)n=i.contentWindow;else break;i=ze(n.document)}return i}function bu(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function xy(n){var i=kd(),c=n.focusedElem,p=n.selectionRange;if(i!==c&&c&&c.ownerDocument&&Cd(c.ownerDocument.documentElement,c)){if(p!==null&&bu(c)){if(i=p.start,n=p.end,n===void 0&&(n=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(n,c.value.length);else if(n=(i=c.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var w=c.textContent.length,S=Math.min(p.start,w);p=p.end===void 0?S:Math.min(p.end,w),!n.extend&&S>p&&(w=p,p=S,S=w),w=Sd(c,S);var P=Sd(c,p);w&&P&&(n.rangeCount!==1||n.anchorNode!==w.node||n.anchorOffset!==w.offset||n.focusNode!==P.node||n.focusOffset!==P.offset)&&(i=i.createRange(),i.setStart(w.node,w.offset),n.removeAllRanges(),S>p?(n.addRange(i),n.extend(P.node,P.offset)):(i.setEnd(P.node,P.offset),n.addRange(i)))}}for(i=[],n=c;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)n=i[c],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Ey=u&&"documentMode"in document&&11>=document.documentMode,Wa=null,Tu=null,Ji=null,Du=!1;function bd(n,i,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Du||Wa==null||Wa!==ze(p)||(p=Wa,"selectionStart"in p&&bu(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Ji&&Zi(Ji,p)||(Ji=p,p=Ss(Tu,"onSelect"),0<p.length&&(i=new mu("onSelect","select",null,i,c),n.push({event:i,listeners:p}),i.target=Wa)))}function ws(n,i){var c={};return c[n.toLowerCase()]=i.toLowerCase(),c["Webkit"+n]="webkit"+i,c["Moz"+n]="moz"+i,c}var Ka={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionend:ws("Transition","TransitionEnd")},Pu={},Td={};u&&(Td=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function xs(n){if(Pu[n])return Pu[n];if(!Ka[n])return n;var i=Ka[n],c;for(c in i)if(i.hasOwnProperty(c)&&c in Td)return Pu[n]=i[c];return n}var Dd=xs("animationend"),Pd=xs("animationiteration"),Nd=xs("animationstart"),Ld=xs("transitionend"),Rd=new Map,Bd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vn(n,i){Rd.set(n,i),s(i,[n])}for(var Nu=0;Nu<Bd.length;Nu++){var Lu=Bd[Nu],Sy=Lu.toLowerCase(),Cy=Lu[0].toUpperCase()+Lu.slice(1);Vn(Sy,"on"+Cy)}Vn(Dd,"onAnimationEnd"),Vn(Pd,"onAnimationIteration"),Vn(Nd,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(Ld,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ky=new Set("cancel close invalid load scroll toggle".split(" ").concat(eo));function Md(n,i,c){var p=n.type||"unknown-event";n.currentTarget=c,Jo(p,i,void 0,n),n.currentTarget=null}function Id(n,i){i=(i&4)!==0;for(var c=0;c<n.length;c++){var p=n[c],w=p.event;p=p.listeners;e:{var S=void 0;if(i)for(var P=p.length-1;0<=P;P--){var W=p[P],G=W.instance,oe=W.currentTarget;if(W=W.listener,G!==S&&w.isPropagationStopped())break e;Md(w,W,oe),S=G}else for(P=0;P<p.length;P++){if(W=p[P],G=W.instance,oe=W.currentTarget,W=W.listener,G!==S&&w.isPropagationStopped())break e;Md(w,W,oe),S=G}}}if(St)throw n=Ht,St=!1,Ht=null,n}function mt(n,i){var c=i[Fu];c===void 0&&(c=i[Fu]=new Set);var p=n+"__bubble";c.has(p)||(Od(i,n,2,!1),c.add(p))}function Ru(n,i,c){var p=0;i&&(p|=4),Od(c,n,p,i)}var Es="_reactListening"+Math.random().toString(36).slice(2);function to(n){if(!n[Es]){n[Es]=!0,a.forEach(function(c){c!=="selectionchange"&&(ky.has(c)||Ru(c,!1,n),Ru(c,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Es]||(i[Es]=!0,Ru("selectionchange",!1,i))}}function Od(n,i,c,p){switch(ad(i)){case 1:var w=Fm;break;case 4:w=jm;break;default:w=hu}c=w.bind(null,i,c,n),w=void 0,!ir||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(w=!0),p?w!==void 0?n.addEventListener(i,c,{capture:!0,passive:w}):n.addEventListener(i,c,!0):w!==void 0?n.addEventListener(i,c,{passive:w}):n.addEventListener(i,c,!1)}function Bu(n,i,c,p,w){var S=p;if(!(i&1)&&!(i&2)&&p!==null)e:for(;;){if(p===null)return;var P=p.tag;if(P===3||P===4){var W=p.stateNode.containerInfo;if(W===w||W.nodeType===8&&W.parentNode===w)break;if(P===4)for(P=p.return;P!==null;){var G=P.tag;if((G===3||G===4)&&(G=P.stateNode.containerInfo,G===w||G.nodeType===8&&G.parentNode===w))return;P=P.return}for(;W!==null;){if(P=va(W),P===null)return;if(G=P.tag,G===5||G===6){p=S=P;continue e}W=W.parentNode}}p=p.return}Ut(function(){var oe=S,pe=qe(c),me=[];e:{var he=Rd.get(n);if(he!==void 0){var De=mu,Me=n;switch(n){case"keypress":if(ps(c)===0)break e;case"keydown":case"keyup":De=ey;break;case"focusin":Me="focus",De=xu;break;case"focusout":Me="blur",De=xu;break;case"beforeblur":case"afterblur":De=xu;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=sd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=$m;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=ny;break;case Dd:case Pd:case Nd:De=qm;break;case Ld:De=iy;break;case"scroll":De=Vm;break;case"wheel":De=sy;break;case"copy":case"cut":case"paste":De=Km;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=ud}var Ie=(i&4)!==0,It=!Ie&&n==="scroll",J=Ie?he!==null?he+"Capture":null:he;Ie=[];for(var X=oe,re;X!==null;){re=X;var ye=re.stateNode;if(re.tag===5&&ye!==null&&(re=ye,J!==null&&(ye=ar(X,J),ye!=null&&Ie.push(ro(X,ye,re)))),It)break;X=X.return}0<Ie.length&&(he=new De(he,Me,null,c,pe),me.push({event:he,listeners:Ie}))}}if(!(i&7)){e:{if(he=n==="mouseover"||n==="pointerover",De=n==="mouseout"||n==="pointerout",he&&c!==He&&(Me=c.relatedTarget||c.fromElement)&&(va(Me)||Me[yn]))break e;if((De||he)&&(he=pe.window===pe?pe:(he=pe.ownerDocument)?he.defaultView||he.parentWindow:window,De?(Me=c.relatedTarget||c.toElement,De=oe,Me=Me?va(Me):null,Me!==null&&(It=mn(Me),Me!==It||Me.tag!==5&&Me.tag!==6)&&(Me=null)):(De=null,Me=oe),De!==Me)){if(Ie=sd,ye="onMouseLeave",J="onMouseEnter",X="mouse",(n==="pointerout"||n==="pointerover")&&(Ie=ud,ye="onPointerLeave",J="onPointerEnter",X="pointer"),It=De==null?he:Qa(De),re=Me==null?he:Qa(Me),he=new Ie(ye,X+"leave",De,c,pe),he.target=It,he.relatedTarget=re,ye=null,va(pe)===oe&&(Ie=new Ie(J,X+"enter",Me,c,pe),Ie.target=re,Ie.relatedTarget=It,ye=Ie),It=ye,De&&Me)t:{for(Ie=De,J=Me,X=0,re=Ie;re;re=Ga(re))X++;for(re=0,ye=J;ye;ye=Ga(ye))re++;for(;0<X-re;)Ie=Ga(Ie),X--;for(;0<re-X;)J=Ga(J),re--;for(;X--;){if(Ie===J||J!==null&&Ie===J.alternate)break t;Ie=Ga(Ie),J=Ga(J)}Ie=null}else Ie=null;De!==null&&zd(me,he,De,Ie,!1),Me!==null&&It!==null&&zd(me,It,Me,Ie,!0)}}e:{if(he=oe?Qa(oe):window,De=he.nodeName&&he.nodeName.toLowerCase(),De==="select"||De==="input"&&he.type==="file")var Oe=hy;else if(pd(he))if(md)Oe=yy;else{Oe=gy;var _e=py}else(De=he.nodeName)&&De.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&(Oe=my);if(Oe&&(Oe=Oe(n,oe))){gd(me,Oe,c,pe);break e}_e&&_e(n,he,oe),n==="focusout"&&(_e=he._wrapperState)&&_e.controlled&&he.type==="number"&&Ae(he,"number",he.value)}switch(_e=oe?Qa(oe):window,n){case"focusin":(pd(_e)||_e.contentEditable==="true")&&(Wa=_e,Tu=oe,Ji=null);break;case"focusout":Ji=Tu=Wa=null;break;case"mousedown":Du=!0;break;case"contextmenu":case"mouseup":case"dragend":Du=!1,bd(me,c,pe);break;case"selectionchange":if(Ey)break;case"keydown":case"keyup":bd(me,c,pe)}var $e;if(Su)e:{switch(n){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else qa?vd(n,c)&&(Ke="onCompositionEnd"):n==="keydown"&&c.keyCode===229&&(Ke="onCompositionStart");Ke&&(cd&&c.locale!=="ko"&&(qa||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&qa&&($e=id()):(jn=pe,gu="value"in jn?jn.value:jn.textContent,qa=!0)),_e=Ss(oe,Ke),0<_e.length&&(Ke=new ld(Ke,n,null,c,pe),me.push({event:Ke,listeners:_e}),$e?Ke.data=$e:($e=hd(c),$e!==null&&(Ke.data=$e)))),($e=uy?cy(n,c):fy(n,c))&&(oe=Ss(oe,"onBeforeInput"),0<oe.length&&(pe=new ld("onBeforeInput","beforeinput",null,c,pe),me.push({event:pe,listeners:oe}),pe.data=$e))}Id(me,i)})}function ro(n,i,c){return{instance:n,listener:i,currentTarget:c}}function Ss(n,i){for(var c=i+"Capture",p=[];n!==null;){var w=n,S=w.stateNode;w.tag===5&&S!==null&&(w=S,S=ar(n,c),S!=null&&p.unshift(ro(n,S,w)),S=ar(n,i),S!=null&&p.push(ro(n,S,w))),n=n.return}return p}function Ga(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function zd(n,i,c,p,w){for(var S=i._reactName,P=[];c!==null&&c!==p;){var W=c,G=W.alternate,oe=W.stateNode;if(G!==null&&G===p)break;W.tag===5&&oe!==null&&(W=oe,w?(G=ar(c,S),G!=null&&P.unshift(ro(c,G,W))):w||(G=ar(c,S),G!=null&&P.push(ro(c,G,W)))),c=c.return}P.length!==0&&n.push({event:i,listeners:P})}var by=/\r\n?/g,Ty=/\u0000|\uFFFD/g;function Ad(n){return(typeof n=="string"?n:""+n).replace(by,`
`).replace(Ty,"")}function Cs(n,i,c){if(i=Ad(i),Ad(n)!==i&&c)throw Error(r(425))}function ks(){}var Mu=null,Iu=null;function Ou(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var zu=typeof setTimeout=="function"?setTimeout:void 0,Dy=typeof clearTimeout=="function"?clearTimeout:void 0,Fd=typeof Promise=="function"?Promise:void 0,Py=typeof queueMicrotask=="function"?queueMicrotask:typeof Fd<"u"?function(n){return Fd.resolve(null).then(n).catch(Ny)}:zu;function Ny(n){setTimeout(function(){throw n})}function Au(n,i){var c=i,p=0;do{var w=c.nextSibling;if(n.removeChild(c),w&&w.nodeType===8)if(c=w.data,c==="/$"){if(p===0){n.removeChild(w),Wi(i);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=w}while(c);Wi(i)}function _n(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function jd(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var c=n.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return n;i--}else c==="/$"&&i++}n=n.previousSibling}return null}var Ya=Math.random().toString(36).slice(2),on="__reactFiber$"+Ya,no="__reactProps$"+Ya,yn="__reactContainer$"+Ya,Fu="__reactEvents$"+Ya,Ly="__reactListeners$"+Ya,Ry="__reactHandles$"+Ya;function va(n){var i=n[on];if(i)return i;for(var c=n.parentNode;c;){if(i=c[yn]||c[on]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(n=jd(n);n!==null;){if(c=n[on])return c;n=jd(n)}return i}n=c,c=n.parentNode}return null}function ao(n){return n=n[on]||n[yn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Qa(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function bs(n){return n[no]||null}var ju=[],Xa=-1;function $n(n){return{current:n}}function yt(n){0>Xa||(n.current=ju[Xa],ju[Xa]=null,Xa--)}function ht(n,i){Xa++,ju[Xa]=n.current,n.current=i}var Un={},lr=$n(Un),Sr=$n(!1),ha=Un;function Za(n,i){var c=n.type.contextTypes;if(!c)return Un;var p=n.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===i)return p.__reactInternalMemoizedMaskedChildContext;var w={},S;for(S in c)w[S]=i[S];return p&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=w),w}function Cr(n){return n=n.childContextTypes,n!=null}function Ts(){yt(Sr),yt(lr)}function Vd(n,i,c){if(lr.current!==Un)throw Error(r(168));ht(lr,i),ht(Sr,c)}function _d(n,i,c){var p=n.stateNode;if(i=i.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var w in p)if(!(w in i))throw Error(r(108,ce(n)||"Unknown",w));return Y({},c,p)}function Ds(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Un,ha=lr.current,ht(lr,n),ht(Sr,Sr.current),!0}function $d(n,i,c){var p=n.stateNode;if(!p)throw Error(r(169));c?(n=_d(n,i,ha),p.__reactInternalMemoizedMergedChildContext=n,yt(Sr),yt(lr),ht(lr,n)):yt(Sr),ht(Sr,c)}var wn=null,Ps=!1,Vu=!1;function Ud(n){wn===null?wn=[n]:wn.push(n)}function By(n){Ps=!0,Ud(n)}function Hn(){if(!Vu&&wn!==null){Vu=!0;var n=0,i=ft;try{var c=wn;for(ft=1;n<c.length;n++){var p=c[n];do p=p(!0);while(p!==null)}wn=null,Ps=!1}catch(w){throw wn!==null&&(wn=wn.slice(n+1)),as(ji,Hn),w}finally{ft=i,Vu=!1}}return null}var Ja=[],ei=0,Ns=null,Ls=0,Fr=[],jr=0,pa=null,xn=1,En="";function ga(n,i){Ja[ei++]=Ls,Ja[ei++]=Ns,Ns=n,Ls=i}function Hd(n,i,c){Fr[jr++]=xn,Fr[jr++]=En,Fr[jr++]=pa,pa=n;var p=xn;n=En;var w=32-Gr(p)-1;p&=~(1<<w),c+=1;var S=32-Gr(i)+w;if(30<S){var P=w-w%5;S=(p&(1<<P)-1).toString(32),p>>=P,w-=P,xn=1<<32-Gr(i)+w|c<<w|p,En=S+n}else xn=1<<S|c<<w|p,En=n}function _u(n){n.return!==null&&(ga(n,1),Hd(n,1,0))}function $u(n){for(;n===Ns;)Ns=Ja[--ei],Ja[ei]=null,Ls=Ja[--ei],Ja[ei]=null;for(;n===pa;)pa=Fr[--jr],Fr[jr]=null,En=Fr[--jr],Fr[jr]=null,xn=Fr[--jr],Fr[jr]=null}var Rr=null,Br=null,Et=!1,Qr=null;function qd(n,i){var c=Ur(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=n,i=n.deletions,i===null?(n.deletions=[c],n.flags|=16):i.push(c)}function Wd(n,i){switch(n.tag){case 5:var c=n.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,Rr=n,Br=_n(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,Rr=n,Br=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=pa!==null?{id:xn,overflow:En}:null,n.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=Ur(18,null,null,0),c.stateNode=i,c.return=n,n.child=c,Rr=n,Br=null,!0):!1;default:return!1}}function Uu(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Hu(n){if(Et){var i=Br;if(i){var c=i;if(!Wd(n,i)){if(Uu(n))throw Error(r(418));i=_n(c.nextSibling);var p=Rr;i&&Wd(n,i)?qd(p,c):(n.flags=n.flags&-4097|2,Et=!1,Rr=n)}}else{if(Uu(n))throw Error(r(418));n.flags=n.flags&-4097|2,Et=!1,Rr=n}}}function Kd(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Rr=n}function Rs(n){if(n!==Rr)return!1;if(!Et)return Kd(n),Et=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Ou(n.type,n.memoizedProps)),i&&(i=Br)){if(Uu(n))throw Gd(),Error(r(418));for(;i;)qd(n,i),i=_n(i.nextSibling)}if(Kd(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var c=n.data;if(c==="/$"){if(i===0){Br=_n(n.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}n=n.nextSibling}Br=null}}else Br=Rr?_n(n.stateNode.nextSibling):null;return!0}function Gd(){for(var n=Br;n;)n=_n(n.nextSibling)}function ti(){Br=Rr=null,Et=!1}function qu(n){Qr===null?Qr=[n]:Qr.push(n)}var My=T.ReactCurrentBatchConfig;function io(n,i,c){if(n=c.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(r(309));var p=c.stateNode}if(!p)throw Error(r(147,n));var w=p,S=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===S?i.ref:(i=function(P){var W=w.refs;P===null?delete W[S]:W[S]=P},i._stringRef=S,i)}if(typeof n!="string")throw Error(r(284));if(!c._owner)throw Error(r(290,n))}return n}function Bs(n,i){throw n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Yd(n){var i=n._init;return i(n._payload)}function Qd(n){function i(J,X){if(n){var re=J.deletions;re===null?(J.deletions=[X],J.flags|=16):re.push(X)}}function c(J,X){if(!n)return null;for(;X!==null;)i(J,X),X=X.sibling;return null}function p(J,X){for(J=new Map;X!==null;)X.key!==null?J.set(X.key,X):J.set(X.index,X),X=X.sibling;return J}function w(J,X){return J=Zn(J,X),J.index=0,J.sibling=null,J}function S(J,X,re){return J.index=re,n?(re=J.alternate,re!==null?(re=re.index,re<X?(J.flags|=2,X):re):(J.flags|=2,X)):(J.flags|=1048576,X)}function P(J){return n&&J.alternate===null&&(J.flags|=2),J}function W(J,X,re,ye){return X===null||X.tag!==6?(X=zc(re,J.mode,ye),X.return=J,X):(X=w(X,re),X.return=J,X)}function G(J,X,re,ye){var Oe=re.type;return Oe===D?pe(J,X,re.props.children,ye,re.key):X!==null&&(X.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===V&&Yd(Oe)===X.type)?(ye=w(X,re.props),ye.ref=io(J,X,re),ye.return=J,ye):(ye=rl(re.type,re.key,re.props,null,J.mode,ye),ye.ref=io(J,X,re),ye.return=J,ye)}function oe(J,X,re,ye){return X===null||X.tag!==4||X.stateNode.containerInfo!==re.containerInfo||X.stateNode.implementation!==re.implementation?(X=Ac(re,J.mode,ye),X.return=J,X):(X=w(X,re.children||[]),X.return=J,X)}function pe(J,X,re,ye,Oe){return X===null||X.tag!==7?(X=ka(re,J.mode,ye,Oe),X.return=J,X):(X=w(X,re),X.return=J,X)}function me(J,X,re){if(typeof X=="string"&&X!==""||typeof X=="number")return X=zc(""+X,J.mode,re),X.return=J,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case R:return re=rl(X.type,X.key,X.props,null,J.mode,re),re.ref=io(J,null,X),re.return=J,re;case N:return X=Ac(X,J.mode,re),X.return=J,X;case V:var ye=X._init;return me(J,ye(X._payload),re)}if(Ze(X)||K(X))return X=ka(X,J.mode,re,null),X.return=J,X;Bs(J,X)}return null}function he(J,X,re,ye){var Oe=X!==null?X.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return Oe!==null?null:W(J,X,""+re,ye);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case R:return re.key===Oe?G(J,X,re,ye):null;case N:return re.key===Oe?oe(J,X,re,ye):null;case V:return Oe=re._init,he(J,X,Oe(re._payload),ye)}if(Ze(re)||K(re))return Oe!==null?null:pe(J,X,re,ye,null);Bs(J,re)}return null}function De(J,X,re,ye,Oe){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return J=J.get(re)||null,W(X,J,""+ye,Oe);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case R:return J=J.get(ye.key===null?re:ye.key)||null,G(X,J,ye,Oe);case N:return J=J.get(ye.key===null?re:ye.key)||null,oe(X,J,ye,Oe);case V:var _e=ye._init;return De(J,X,re,_e(ye._payload),Oe)}if(Ze(ye)||K(ye))return J=J.get(re)||null,pe(X,J,ye,Oe,null);Bs(X,ye)}return null}function Me(J,X,re,ye){for(var Oe=null,_e=null,$e=X,Ke=X=0,Kt=null;$e!==null&&Ke<re.length;Ke++){$e.index>Ke?(Kt=$e,$e=null):Kt=$e.sibling;var it=he(J,$e,re[Ke],ye);if(it===null){$e===null&&($e=Kt);break}n&&$e&&it.alternate===null&&i(J,$e),X=S(it,X,Ke),_e===null?Oe=it:_e.sibling=it,_e=it,$e=Kt}if(Ke===re.length)return c(J,$e),Et&&ga(J,Ke),Oe;if($e===null){for(;Ke<re.length;Ke++)$e=me(J,re[Ke],ye),$e!==null&&(X=S($e,X,Ke),_e===null?Oe=$e:_e.sibling=$e,_e=$e);return Et&&ga(J,Ke),Oe}for($e=p(J,$e);Ke<re.length;Ke++)Kt=De($e,J,Ke,re[Ke],ye),Kt!==null&&(n&&Kt.alternate!==null&&$e.delete(Kt.key===null?Ke:Kt.key),X=S(Kt,X,Ke),_e===null?Oe=Kt:_e.sibling=Kt,_e=Kt);return n&&$e.forEach(function(Jn){return i(J,Jn)}),Et&&ga(J,Ke),Oe}function Ie(J,X,re,ye){var Oe=K(re);if(typeof Oe!="function")throw Error(r(150));if(re=Oe.call(re),re==null)throw Error(r(151));for(var _e=Oe=null,$e=X,Ke=X=0,Kt=null,it=re.next();$e!==null&&!it.done;Ke++,it=re.next()){$e.index>Ke?(Kt=$e,$e=null):Kt=$e.sibling;var Jn=he(J,$e,it.value,ye);if(Jn===null){$e===null&&($e=Kt);break}n&&$e&&Jn.alternate===null&&i(J,$e),X=S(Jn,X,Ke),_e===null?Oe=Jn:_e.sibling=Jn,_e=Jn,$e=Kt}if(it.done)return c(J,$e),Et&&ga(J,Ke),Oe;if($e===null){for(;!it.done;Ke++,it=re.next())it=me(J,it.value,ye),it!==null&&(X=S(it,X,Ke),_e===null?Oe=it:_e.sibling=it,_e=it);return Et&&ga(J,Ke),Oe}for($e=p(J,$e);!it.done;Ke++,it=re.next())it=De($e,J,Ke,it.value,ye),it!==null&&(n&&it.alternate!==null&&$e.delete(it.key===null?Ke:it.key),X=S(it,X,Ke),_e===null?Oe=it:_e.sibling=it,_e=it);return n&&$e.forEach(function(d0){return i(J,d0)}),Et&&ga(J,Ke),Oe}function It(J,X,re,ye){if(typeof re=="object"&&re!==null&&re.type===D&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case R:e:{for(var Oe=re.key,_e=X;_e!==null;){if(_e.key===Oe){if(Oe=re.type,Oe===D){if(_e.tag===7){c(J,_e.sibling),X=w(_e,re.props.children),X.return=J,J=X;break e}}else if(_e.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===V&&Yd(Oe)===_e.type){c(J,_e.sibling),X=w(_e,re.props),X.ref=io(J,_e,re),X.return=J,J=X;break e}c(J,_e);break}else i(J,_e);_e=_e.sibling}re.type===D?(X=ka(re.props.children,J.mode,ye,re.key),X.return=J,J=X):(ye=rl(re.type,re.key,re.props,null,J.mode,ye),ye.ref=io(J,X,re),ye.return=J,J=ye)}return P(J);case N:e:{for(_e=re.key;X!==null;){if(X.key===_e)if(X.tag===4&&X.stateNode.containerInfo===re.containerInfo&&X.stateNode.implementation===re.implementation){c(J,X.sibling),X=w(X,re.children||[]),X.return=J,J=X;break e}else{c(J,X);break}else i(J,X);X=X.sibling}X=Ac(re,J.mode,ye),X.return=J,J=X}return P(J);case V:return _e=re._init,It(J,X,_e(re._payload),ye)}if(Ze(re))return Me(J,X,re,ye);if(K(re))return Ie(J,X,re,ye);Bs(J,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,X!==null&&X.tag===6?(c(J,X.sibling),X=w(X,re),X.return=J,J=X):(c(J,X),X=zc(re,J.mode,ye),X.return=J,J=X),P(J)):c(J,X)}return It}var ri=Qd(!0),Xd=Qd(!1),Ms=$n(null),Is=null,ni=null,Wu=null;function Ku(){Wu=ni=Is=null}function Gu(n){var i=Ms.current;yt(Ms),n._currentValue=i}function Yu(n,i,c){for(;n!==null;){var p=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,p!==null&&(p.childLanes|=i)):p!==null&&(p.childLanes&i)!==i&&(p.childLanes|=i),n===c)break;n=n.return}}function ai(n,i){Is=n,Wu=ni=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&i&&(kr=!0),n.firstContext=null)}function Vr(n){var i=n._currentValue;if(Wu!==n)if(n={context:n,memoizedValue:i,next:null},ni===null){if(Is===null)throw Error(r(308));ni=n,Is.dependencies={lanes:0,firstContext:n}}else ni=ni.next=n;return i}var ma=null;function Qu(n){ma===null?ma=[n]:ma.push(n)}function Zd(n,i,c,p){var w=i.interleaved;return w===null?(c.next=c,Qu(i)):(c.next=w.next,w.next=c),i.interleaved=c,Sn(n,p)}function Sn(n,i){n.lanes|=i;var c=n.alternate;for(c!==null&&(c.lanes|=i),c=n,n=n.return;n!==null;)n.childLanes|=i,c=n.alternate,c!==null&&(c.childLanes|=i),c=n,n=n.return;return c.tag===3?c.stateNode:null}var qn=!1;function Xu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Cn(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Wn(n,i,c){var p=n.updateQueue;if(p===null)return null;if(p=p.shared,tt&2){var w=p.pending;return w===null?i.next=i:(i.next=w.next,w.next=i),p.pending=i,Sn(n,c)}return w=p.interleaved,w===null?(i.next=i,Qu(p)):(i.next=w.next,w.next=i),p.interleaved=i,Sn(n,c)}function Os(n,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var p=i.lanes;p&=n.pendingLanes,c|=p,i.lanes=c,fu(n,c)}}function ev(n,i){var c=n.updateQueue,p=n.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var w=null,S=null;if(c=c.firstBaseUpdate,c!==null){do{var P={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};S===null?w=S=P:S=S.next=P,c=c.next}while(c!==null);S===null?w=S=i:S=S.next=i}else w=S=i;c={baseState:p.baseState,firstBaseUpdate:w,lastBaseUpdate:S,shared:p.shared,effects:p.effects},n.updateQueue=c;return}n=c.lastBaseUpdate,n===null?c.firstBaseUpdate=i:n.next=i,c.lastBaseUpdate=i}function zs(n,i,c,p){var w=n.updateQueue;qn=!1;var S=w.firstBaseUpdate,P=w.lastBaseUpdate,W=w.shared.pending;if(W!==null){w.shared.pending=null;var G=W,oe=G.next;G.next=null,P===null?S=oe:P.next=oe,P=G;var pe=n.alternate;pe!==null&&(pe=pe.updateQueue,W=pe.lastBaseUpdate,W!==P&&(W===null?pe.firstBaseUpdate=oe:W.next=oe,pe.lastBaseUpdate=G))}if(S!==null){var me=w.baseState;P=0,pe=oe=G=null,W=S;do{var he=W.lane,De=W.eventTime;if((p&he)===he){pe!==null&&(pe=pe.next={eventTime:De,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var Me=n,Ie=W;switch(he=i,De=c,Ie.tag){case 1:if(Me=Ie.payload,typeof Me=="function"){me=Me.call(De,me,he);break e}me=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Ie.payload,he=typeof Me=="function"?Me.call(De,me,he):Me,he==null)break e;me=Y({},me,he);break e;case 2:qn=!0}}W.callback!==null&&W.lane!==0&&(n.flags|=64,he=w.effects,he===null?w.effects=[W]:he.push(W))}else De={eventTime:De,lane:he,tag:W.tag,payload:W.payload,callback:W.callback,next:null},pe===null?(oe=pe=De,G=me):pe=pe.next=De,P|=he;if(W=W.next,W===null){if(W=w.shared.pending,W===null)break;he=W,W=he.next,he.next=null,w.lastBaseUpdate=he,w.shared.pending=null}}while(!0);if(pe===null&&(G=me),w.baseState=G,w.firstBaseUpdate=oe,w.lastBaseUpdate=pe,i=w.shared.interleaved,i!==null){w=i;do P|=w.lane,w=w.next;while(w!==i)}else S===null&&(w.shared.lanes=0);xa|=P,n.lanes=P,n.memoizedState=me}}function tv(n,i,c){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var p=n[i],w=p.callback;if(w!==null){if(p.callback=null,p=c,typeof w!="function")throw Error(r(191,w));w.call(p)}}}var oo={},sn=$n(oo),so=$n(oo),lo=$n(oo);function ya(n){if(n===oo)throw Error(r(174));return n}function Zu(n,i){switch(ht(lo,i),ht(so,n),ht(sn,oo),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:z(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=z(i,n)}yt(sn),ht(sn,i)}function ii(){yt(sn),yt(so),yt(lo)}function rv(n){ya(lo.current);var i=ya(sn.current),c=z(i,n.type);i!==c&&(ht(so,n),ht(sn,c))}function Ju(n){so.current===n&&(yt(sn),yt(so))}var Ct=$n(0);function As(n){for(var i=n;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ec=[];function tc(){for(var n=0;n<ec.length;n++)ec[n]._workInProgressVersionPrimary=null;ec.length=0}var Fs=T.ReactCurrentDispatcher,rc=T.ReactCurrentBatchConfig,wa=0,kt=null,At=null,qt=null,js=!1,uo=!1,co=0,Iy=0;function ur(){throw Error(r(321))}function nc(n,i){if(i===null)return!1;for(var c=0;c<i.length&&c<n.length;c++)if(!Yr(n[c],i[c]))return!1;return!0}function ac(n,i,c,p,w,S){if(wa=S,kt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Fs.current=n===null||n.memoizedState===null?Fy:jy,n=c(p,w),uo){S=0;do{if(uo=!1,co=0,25<=S)throw Error(r(301));S+=1,qt=At=null,i.updateQueue=null,Fs.current=Vy,n=c(p,w)}while(uo)}if(Fs.current=$s,i=At!==null&&At.next!==null,wa=0,qt=At=kt=null,js=!1,i)throw Error(r(300));return n}function ic(){var n=co!==0;return co=0,n}function ln(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?kt.memoizedState=qt=n:qt=qt.next=n,qt}function _r(){if(At===null){var n=kt.alternate;n=n!==null?n.memoizedState:null}else n=At.next;var i=qt===null?kt.memoizedState:qt.next;if(i!==null)qt=i,At=n;else{if(n===null)throw Error(r(310));At=n,n={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},qt===null?kt.memoizedState=qt=n:qt=qt.next=n}return qt}function fo(n,i){return typeof i=="function"?i(n):i}function oc(n){var i=_r(),c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=n;var p=At,w=p.baseQueue,S=c.pending;if(S!==null){if(w!==null){var P=w.next;w.next=S.next,S.next=P}p.baseQueue=w=S,c.pending=null}if(w!==null){S=w.next,p=p.baseState;var W=P=null,G=null,oe=S;do{var pe=oe.lane;if((wa&pe)===pe)G!==null&&(G=G.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),p=oe.hasEagerState?oe.eagerState:n(p,oe.action);else{var me={lane:pe,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};G===null?(W=G=me,P=p):G=G.next=me,kt.lanes|=pe,xa|=pe}oe=oe.next}while(oe!==null&&oe!==S);G===null?P=p:G.next=W,Yr(p,i.memoizedState)||(kr=!0),i.memoizedState=p,i.baseState=P,i.baseQueue=G,c.lastRenderedState=p}if(n=c.interleaved,n!==null){w=n;do S=w.lane,kt.lanes|=S,xa|=S,w=w.next;while(w!==n)}else w===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function sc(n){var i=_r(),c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=n;var p=c.dispatch,w=c.pending,S=i.memoizedState;if(w!==null){c.pending=null;var P=w=w.next;do S=n(S,P.action),P=P.next;while(P!==w);Yr(S,i.memoizedState)||(kr=!0),i.memoizedState=S,i.baseQueue===null&&(i.baseState=S),c.lastRenderedState=S}return[S,p]}function nv(){}function av(n,i){var c=kt,p=_r(),w=i(),S=!Yr(p.memoizedState,w);if(S&&(p.memoizedState=w,kr=!0),p=p.queue,lc(sv.bind(null,c,p,n),[n]),p.getSnapshot!==i||S||qt!==null&&qt.memoizedState.tag&1){if(c.flags|=2048,vo(9,ov.bind(null,c,p,w,i),void 0,null),Wt===null)throw Error(r(349));wa&30||iv(c,i,w)}return w}function iv(n,i,c){n.flags|=16384,n={getSnapshot:i,value:c},i=kt.updateQueue,i===null?(i={lastEffect:null,stores:null},kt.updateQueue=i,i.stores=[n]):(c=i.stores,c===null?i.stores=[n]:c.push(n))}function ov(n,i,c,p){i.value=c,i.getSnapshot=p,lv(i)&&uv(n)}function sv(n,i,c){return c(function(){lv(i)&&uv(n)})}function lv(n){var i=n.getSnapshot;n=n.value;try{var c=i();return!Yr(n,c)}catch{return!0}}function uv(n){var i=Sn(n,1);i!==null&&en(i,n,1,-1)}function cv(n){var i=ln();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:n},i.queue=n,n=n.dispatch=Ay.bind(null,kt,n),[i.memoizedState,n]}function vo(n,i,c,p){return n={tag:n,create:i,destroy:c,deps:p,next:null},i=kt.updateQueue,i===null?(i={lastEffect:null,stores:null},kt.updateQueue=i,i.lastEffect=n.next=n):(c=i.lastEffect,c===null?i.lastEffect=n.next=n:(p=c.next,c.next=n,n.next=p,i.lastEffect=n)),n}function fv(){return _r().memoizedState}function Vs(n,i,c,p){var w=ln();kt.flags|=n,w.memoizedState=vo(1|i,c,void 0,p===void 0?null:p)}function _s(n,i,c,p){var w=_r();p=p===void 0?null:p;var S=void 0;if(At!==null){var P=At.memoizedState;if(S=P.destroy,p!==null&&nc(p,P.deps)){w.memoizedState=vo(i,c,S,p);return}}kt.flags|=n,w.memoizedState=vo(1|i,c,S,p)}function dv(n,i){return Vs(8390656,8,n,i)}function lc(n,i){return _s(2048,8,n,i)}function vv(n,i){return _s(4,2,n,i)}function hv(n,i){return _s(4,4,n,i)}function pv(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function gv(n,i,c){return c=c!=null?c.concat([n]):null,_s(4,4,pv.bind(null,i,n),c)}function uc(){}function mv(n,i){var c=_r();i=i===void 0?null:i;var p=c.memoizedState;return p!==null&&i!==null&&nc(i,p[1])?p[0]:(c.memoizedState=[n,i],n)}function yv(n,i){var c=_r();i=i===void 0?null:i;var p=c.memoizedState;return p!==null&&i!==null&&nc(i,p[1])?p[0]:(n=n(),c.memoizedState=[n,i],n)}function wv(n,i,c){return wa&21?(Yr(c,i)||(c=Yf(),kt.lanes|=c,xa|=c,n.baseState=!0),i):(n.baseState&&(n.baseState=!1,kr=!0),n.memoizedState=c)}function Oy(n,i){var c=ft;ft=c!==0&&4>c?c:4,n(!0);var p=rc.transition;rc.transition={};try{n(!1),i()}finally{ft=c,rc.transition=p}}function xv(){return _r().memoizedState}function zy(n,i,c){var p=Qn(n);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},Ev(n))Sv(i,c);else if(c=Zd(n,i,c,p),c!==null){var w=wr();en(c,n,p,w),Cv(c,i,p)}}function Ay(n,i,c){var p=Qn(n),w={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(Ev(n))Sv(i,w);else{var S=n.alternate;if(n.lanes===0&&(S===null||S.lanes===0)&&(S=i.lastRenderedReducer,S!==null))try{var P=i.lastRenderedState,W=S(P,c);if(w.hasEagerState=!0,w.eagerState=W,Yr(W,P)){var G=i.interleaved;G===null?(w.next=w,Qu(i)):(w.next=G.next,G.next=w),i.interleaved=w;return}}catch{}finally{}c=Zd(n,i,w,p),c!==null&&(w=wr(),en(c,n,p,w),Cv(c,i,p))}}function Ev(n){var i=n.alternate;return n===kt||i!==null&&i===kt}function Sv(n,i){uo=js=!0;var c=n.pending;c===null?i.next=i:(i.next=c.next,c.next=i),n.pending=i}function Cv(n,i,c){if(c&4194240){var p=i.lanes;p&=n.pendingLanes,c|=p,i.lanes=c,fu(n,c)}}var $s={readContext:Vr,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useInsertionEffect:ur,useLayoutEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useMutableSource:ur,useSyncExternalStore:ur,useId:ur,unstable_isNewReconciler:!1},Fy={readContext:Vr,useCallback:function(n,i){return ln().memoizedState=[n,i===void 0?null:i],n},useContext:Vr,useEffect:dv,useImperativeHandle:function(n,i,c){return c=c!=null?c.concat([n]):null,Vs(4194308,4,pv.bind(null,i,n),c)},useLayoutEffect:function(n,i){return Vs(4194308,4,n,i)},useInsertionEffect:function(n,i){return Vs(4,2,n,i)},useMemo:function(n,i){var c=ln();return i=i===void 0?null:i,n=n(),c.memoizedState=[n,i],n},useReducer:function(n,i,c){var p=ln();return i=c!==void 0?c(i):i,p.memoizedState=p.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},p.queue=n,n=n.dispatch=zy.bind(null,kt,n),[p.memoizedState,n]},useRef:function(n){var i=ln();return n={current:n},i.memoizedState=n},useState:cv,useDebugValue:uc,useDeferredValue:function(n){return ln().memoizedState=n},useTransition:function(){var n=cv(!1),i=n[0];return n=Oy.bind(null,n[1]),ln().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,c){var p=kt,w=ln();if(Et){if(c===void 0)throw Error(r(407));c=c()}else{if(c=i(),Wt===null)throw Error(r(349));wa&30||iv(p,i,c)}w.memoizedState=c;var S={value:c,getSnapshot:i};return w.queue=S,dv(sv.bind(null,p,S,n),[n]),p.flags|=2048,vo(9,ov.bind(null,p,S,c,i),void 0,null),c},useId:function(){var n=ln(),i=Wt.identifierPrefix;if(Et){var c=En,p=xn;c=(p&~(1<<32-Gr(p)-1)).toString(32)+c,i=":"+i+"R"+c,c=co++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=Iy++,i=":"+i+"r"+c.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},jy={readContext:Vr,useCallback:mv,useContext:Vr,useEffect:lc,useImperativeHandle:gv,useInsertionEffect:vv,useLayoutEffect:hv,useMemo:yv,useReducer:oc,useRef:fv,useState:function(){return oc(fo)},useDebugValue:uc,useDeferredValue:function(n){var i=_r();return wv(i,At.memoizedState,n)},useTransition:function(){var n=oc(fo)[0],i=_r().memoizedState;return[n,i]},useMutableSource:nv,useSyncExternalStore:av,useId:xv,unstable_isNewReconciler:!1},Vy={readContext:Vr,useCallback:mv,useContext:Vr,useEffect:lc,useImperativeHandle:gv,useInsertionEffect:vv,useLayoutEffect:hv,useMemo:yv,useReducer:sc,useRef:fv,useState:function(){return sc(fo)},useDebugValue:uc,useDeferredValue:function(n){var i=_r();return At===null?i.memoizedState=n:wv(i,At.memoizedState,n)},useTransition:function(){var n=sc(fo)[0],i=_r().memoizedState;return[n,i]},useMutableSource:nv,useSyncExternalStore:av,useId:xv,unstable_isNewReconciler:!1};function Xr(n,i){if(n&&n.defaultProps){i=Y({},i),n=n.defaultProps;for(var c in n)i[c]===void 0&&(i[c]=n[c]);return i}return i}function cc(n,i,c,p){i=n.memoizedState,c=c(p,i),c=c==null?i:Y({},i,c),n.memoizedState=c,n.lanes===0&&(n.updateQueue.baseState=c)}var Us={isMounted:function(n){return(n=n._reactInternals)?mn(n)===n:!1},enqueueSetState:function(n,i,c){n=n._reactInternals;var p=wr(),w=Qn(n),S=Cn(p,w);S.payload=i,c!=null&&(S.callback=c),i=Wn(n,S,w),i!==null&&(en(i,n,w,p),Os(i,n,w))},enqueueReplaceState:function(n,i,c){n=n._reactInternals;var p=wr(),w=Qn(n),S=Cn(p,w);S.tag=1,S.payload=i,c!=null&&(S.callback=c),i=Wn(n,S,w),i!==null&&(en(i,n,w,p),Os(i,n,w))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var c=wr(),p=Qn(n),w=Cn(c,p);w.tag=2,i!=null&&(w.callback=i),i=Wn(n,w,p),i!==null&&(en(i,n,p,c),Os(i,n,p))}};function kv(n,i,c,p,w,S,P){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(p,S,P):i.prototype&&i.prototype.isPureReactComponent?!Zi(c,p)||!Zi(w,S):!0}function bv(n,i,c){var p=!1,w=Un,S=i.contextType;return typeof S=="object"&&S!==null?S=Vr(S):(w=Cr(i)?ha:lr.current,p=i.contextTypes,S=(p=p!=null)?Za(n,w):Un),i=new i(c,S),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Us,n.stateNode=i,i._reactInternals=n,p&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=w,n.__reactInternalMemoizedMaskedChildContext=S),i}function Tv(n,i,c,p){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,p),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,p),i.state!==n&&Us.enqueueReplaceState(i,i.state,null)}function fc(n,i,c,p){var w=n.stateNode;w.props=c,w.state=n.memoizedState,w.refs={},Xu(n);var S=i.contextType;typeof S=="object"&&S!==null?w.context=Vr(S):(S=Cr(i)?ha:lr.current,w.context=Za(n,S)),w.state=n.memoizedState,S=i.getDerivedStateFromProps,typeof S=="function"&&(cc(n,i,S,c),w.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(i=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),i!==w.state&&Us.enqueueReplaceState(w,w.state,null),zs(n,c,w,p),w.state=n.memoizedState),typeof w.componentDidMount=="function"&&(n.flags|=4194308)}function oi(n,i){try{var c="",p=i;do c+=se(p),p=p.return;while(p);var w=c}catch(S){w=`
Error generating stack: `+S.message+`
`+S.stack}return{value:n,source:i,stack:w,digest:null}}function dc(n,i,c){return{value:n,source:null,stack:c??null,digest:i??null}}function vc(n,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var _y=typeof WeakMap=="function"?WeakMap:Map;function Dv(n,i,c){c=Cn(-1,c),c.tag=3,c.payload={element:null};var p=i.value;return c.callback=function(){Qs||(Qs=!0,Pc=p),vc(n,i)},c}function Pv(n,i,c){c=Cn(-1,c),c.tag=3;var p=n.type.getDerivedStateFromError;if(typeof p=="function"){var w=i.value;c.payload=function(){return p(w)},c.callback=function(){vc(n,i)}}var S=n.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(c.callback=function(){vc(n,i),typeof p!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var P=i.stack;this.componentDidCatch(i.value,{componentStack:P!==null?P:""})}),c}function Nv(n,i,c){var p=n.pingCache;if(p===null){p=n.pingCache=new _y;var w=new Set;p.set(i,w)}else w=p.get(i),w===void 0&&(w=new Set,p.set(i,w));w.has(c)||(w.add(c),n=t0.bind(null,n,i,c),i.then(n,n))}function Lv(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Rv(n,i,c,p,w){return n.mode&1?(n.flags|=65536,n.lanes=w,n):(n===i?n.flags|=65536:(n.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=Cn(-1,1),i.tag=2,Wn(c,i,1))),c.lanes|=1),n)}var $y=T.ReactCurrentOwner,kr=!1;function yr(n,i,c,p){i.child=n===null?Xd(i,null,c,p):ri(i,n.child,c,p)}function Bv(n,i,c,p,w){c=c.render;var S=i.ref;return ai(i,w),p=ac(n,i,c,p,S,w),c=ic(),n!==null&&!kr?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~w,kn(n,i,w)):(Et&&c&&_u(i),i.flags|=1,yr(n,i,p,w),i.child)}function Mv(n,i,c,p,w){if(n===null){var S=c.type;return typeof S=="function"&&!Oc(S)&&S.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=S,Iv(n,i,S,p,w)):(n=rl(c.type,null,p,i,i.mode,w),n.ref=i.ref,n.return=i,i.child=n)}if(S=n.child,!(n.lanes&w)){var P=S.memoizedProps;if(c=c.compare,c=c!==null?c:Zi,c(P,p)&&n.ref===i.ref)return kn(n,i,w)}return i.flags|=1,n=Zn(S,p),n.ref=i.ref,n.return=i,i.child=n}function Iv(n,i,c,p,w){if(n!==null){var S=n.memoizedProps;if(Zi(S,p)&&n.ref===i.ref)if(kr=!1,i.pendingProps=p=S,(n.lanes&w)!==0)n.flags&131072&&(kr=!0);else return i.lanes=n.lanes,kn(n,i,w)}return hc(n,i,c,p,w)}function Ov(n,i,c){var p=i.pendingProps,w=p.children,S=n!==null?n.memoizedState:null;if(p.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(li,Mr),Mr|=c;else{if(!(c&1073741824))return n=S!==null?S.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,ht(li,Mr),Mr|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=S!==null?S.baseLanes:c,ht(li,Mr),Mr|=p}else S!==null?(p=S.baseLanes|c,i.memoizedState=null):p=c,ht(li,Mr),Mr|=p;return yr(n,i,w,c),i.child}function zv(n,i){var c=i.ref;(n===null&&c!==null||n!==null&&n.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function hc(n,i,c,p,w){var S=Cr(c)?ha:lr.current;return S=Za(i,S),ai(i,w),c=ac(n,i,c,p,S,w),p=ic(),n!==null&&!kr?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~w,kn(n,i,w)):(Et&&p&&_u(i),i.flags|=1,yr(n,i,c,w),i.child)}function Av(n,i,c,p,w){if(Cr(c)){var S=!0;Ds(i)}else S=!1;if(ai(i,w),i.stateNode===null)qs(n,i),bv(i,c,p),fc(i,c,p,w),p=!0;else if(n===null){var P=i.stateNode,W=i.memoizedProps;P.props=W;var G=P.context,oe=c.contextType;typeof oe=="object"&&oe!==null?oe=Vr(oe):(oe=Cr(c)?ha:lr.current,oe=Za(i,oe));var pe=c.getDerivedStateFromProps,me=typeof pe=="function"||typeof P.getSnapshotBeforeUpdate=="function";me||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(W!==p||G!==oe)&&Tv(i,P,p,oe),qn=!1;var he=i.memoizedState;P.state=he,zs(i,p,P,w),G=i.memoizedState,W!==p||he!==G||Sr.current||qn?(typeof pe=="function"&&(cc(i,c,pe,p),G=i.memoizedState),(W=qn||kv(i,c,W,p,he,G,oe))?(me||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(i.flags|=4194308)):(typeof P.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=p,i.memoizedState=G),P.props=p,P.state=G,P.context=oe,p=W):(typeof P.componentDidMount=="function"&&(i.flags|=4194308),p=!1)}else{P=i.stateNode,Jd(n,i),W=i.memoizedProps,oe=i.type===i.elementType?W:Xr(i.type,W),P.props=oe,me=i.pendingProps,he=P.context,G=c.contextType,typeof G=="object"&&G!==null?G=Vr(G):(G=Cr(c)?ha:lr.current,G=Za(i,G));var De=c.getDerivedStateFromProps;(pe=typeof De=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(W!==me||he!==G)&&Tv(i,P,p,G),qn=!1,he=i.memoizedState,P.state=he,zs(i,p,P,w);var Me=i.memoizedState;W!==me||he!==Me||Sr.current||qn?(typeof De=="function"&&(cc(i,c,De,p),Me=i.memoizedState),(oe=qn||kv(i,c,oe,p,he,Me,G)||!1)?(pe||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(p,Me,G),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(p,Me,G)),typeof P.componentDidUpdate=="function"&&(i.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof P.componentDidUpdate!="function"||W===n.memoizedProps&&he===n.memoizedState||(i.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||W===n.memoizedProps&&he===n.memoizedState||(i.flags|=1024),i.memoizedProps=p,i.memoizedState=Me),P.props=p,P.state=Me,P.context=G,p=oe):(typeof P.componentDidUpdate!="function"||W===n.memoizedProps&&he===n.memoizedState||(i.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||W===n.memoizedProps&&he===n.memoizedState||(i.flags|=1024),p=!1)}return pc(n,i,c,p,S,w)}function pc(n,i,c,p,w,S){zv(n,i);var P=(i.flags&128)!==0;if(!p&&!P)return w&&$d(i,c,!1),kn(n,i,S);p=i.stateNode,$y.current=i;var W=P&&typeof c.getDerivedStateFromError!="function"?null:p.render();return i.flags|=1,n!==null&&P?(i.child=ri(i,n.child,null,S),i.child=ri(i,null,W,S)):yr(n,i,W,S),i.memoizedState=p.state,w&&$d(i,c,!0),i.child}function Fv(n){var i=n.stateNode;i.pendingContext?Vd(n,i.pendingContext,i.pendingContext!==i.context):i.context&&Vd(n,i.context,!1),Zu(n,i.containerInfo)}function jv(n,i,c,p,w){return ti(),qu(w),i.flags|=256,yr(n,i,c,p),i.child}var gc={dehydrated:null,treeContext:null,retryLane:0};function mc(n){return{baseLanes:n,cachePool:null,transitions:null}}function Vv(n,i,c){var p=i.pendingProps,w=Ct.current,S=!1,P=(i.flags&128)!==0,W;if((W=P)||(W=n!==null&&n.memoizedState===null?!1:(w&2)!==0),W?(S=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(w|=1),ht(Ct,w&1),n===null)return Hu(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(i.mode&1?n.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(P=p.children,n=p.fallback,S?(p=i.mode,S=i.child,P={mode:"hidden",children:P},!(p&1)&&S!==null?(S.childLanes=0,S.pendingProps=P):S=nl(P,p,0,null),n=ka(n,p,c,null),S.return=i,n.return=i,S.sibling=n,i.child=S,i.child.memoizedState=mc(c),i.memoizedState=gc,n):yc(i,P));if(w=n.memoizedState,w!==null&&(W=w.dehydrated,W!==null))return Uy(n,i,P,p,W,w,c);if(S){S=p.fallback,P=i.mode,w=n.child,W=w.sibling;var G={mode:"hidden",children:p.children};return!(P&1)&&i.child!==w?(p=i.child,p.childLanes=0,p.pendingProps=G,i.deletions=null):(p=Zn(w,G),p.subtreeFlags=w.subtreeFlags&14680064),W!==null?S=Zn(W,S):(S=ka(S,P,c,null),S.flags|=2),S.return=i,p.return=i,p.sibling=S,i.child=p,p=S,S=i.child,P=n.child.memoizedState,P=P===null?mc(c):{baseLanes:P.baseLanes|c,cachePool:null,transitions:P.transitions},S.memoizedState=P,S.childLanes=n.childLanes&~c,i.memoizedState=gc,p}return S=n.child,n=S.sibling,p=Zn(S,{mode:"visible",children:p.children}),!(i.mode&1)&&(p.lanes=c),p.return=i,p.sibling=null,n!==null&&(c=i.deletions,c===null?(i.deletions=[n],i.flags|=16):c.push(n)),i.child=p,i.memoizedState=null,p}function yc(n,i){return i=nl({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Hs(n,i,c,p){return p!==null&&qu(p),ri(i,n.child,null,c),n=yc(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Uy(n,i,c,p,w,S,P){if(c)return i.flags&256?(i.flags&=-257,p=dc(Error(r(422))),Hs(n,i,P,p)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(S=p.fallback,w=i.mode,p=nl({mode:"visible",children:p.children},w,0,null),S=ka(S,w,P,null),S.flags|=2,p.return=i,S.return=i,p.sibling=S,i.child=p,i.mode&1&&ri(i,n.child,null,P),i.child.memoizedState=mc(P),i.memoizedState=gc,S);if(!(i.mode&1))return Hs(n,i,P,null);if(w.data==="$!"){if(p=w.nextSibling&&w.nextSibling.dataset,p)var W=p.dgst;return p=W,S=Error(r(419)),p=dc(S,p,void 0),Hs(n,i,P,p)}if(W=(P&n.childLanes)!==0,kr||W){if(p=Wt,p!==null){switch(P&-P){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=w&(p.suspendedLanes|P)?0:w,w!==0&&w!==S.retryLane&&(S.retryLane=w,Sn(n,w),en(p,n,w,-1))}return Ic(),p=dc(Error(r(421))),Hs(n,i,P,p)}return w.data==="$?"?(i.flags|=128,i.child=n.child,i=r0.bind(null,n),w._reactRetry=i,null):(n=S.treeContext,Br=_n(w.nextSibling),Rr=i,Et=!0,Qr=null,n!==null&&(Fr[jr++]=xn,Fr[jr++]=En,Fr[jr++]=pa,xn=n.id,En=n.overflow,pa=i),i=yc(i,p.children),i.flags|=4096,i)}function _v(n,i,c){n.lanes|=i;var p=n.alternate;p!==null&&(p.lanes|=i),Yu(n.return,i,c)}function wc(n,i,c,p,w){var S=n.memoizedState;S===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:w}:(S.isBackwards=i,S.rendering=null,S.renderingStartTime=0,S.last=p,S.tail=c,S.tailMode=w)}function $v(n,i,c){var p=i.pendingProps,w=p.revealOrder,S=p.tail;if(yr(n,i,p.children,c),p=Ct.current,p&2)p=p&1|2,i.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&_v(n,c,i);else if(n.tag===19)_v(n,c,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}p&=1}if(ht(Ct,p),!(i.mode&1))i.memoizedState=null;else switch(w){case"forwards":for(c=i.child,w=null;c!==null;)n=c.alternate,n!==null&&As(n)===null&&(w=c),c=c.sibling;c=w,c===null?(w=i.child,i.child=null):(w=c.sibling,c.sibling=null),wc(i,!1,w,c,S);break;case"backwards":for(c=null,w=i.child,i.child=null;w!==null;){if(n=w.alternate,n!==null&&As(n)===null){i.child=w;break}n=w.sibling,w.sibling=c,c=w,w=n}wc(i,!0,c,null,S);break;case"together":wc(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function qs(n,i){!(i.mode&1)&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function kn(n,i,c){if(n!==null&&(i.dependencies=n.dependencies),xa|=i.lanes,!(c&i.childLanes))return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,c=Zn(n,n.pendingProps),i.child=c,c.return=i;n.sibling!==null;)n=n.sibling,c=c.sibling=Zn(n,n.pendingProps),c.return=i;c.sibling=null}return i.child}function Hy(n,i,c){switch(i.tag){case 3:Fv(i),ti();break;case 5:rv(i);break;case 1:Cr(i.type)&&Ds(i);break;case 4:Zu(i,i.stateNode.containerInfo);break;case 10:var p=i.type._context,w=i.memoizedProps.value;ht(Ms,p._currentValue),p._currentValue=w;break;case 13:if(p=i.memoizedState,p!==null)return p.dehydrated!==null?(ht(Ct,Ct.current&1),i.flags|=128,null):c&i.child.childLanes?Vv(n,i,c):(ht(Ct,Ct.current&1),n=kn(n,i,c),n!==null?n.sibling:null);ht(Ct,Ct.current&1);break;case 19:if(p=(c&i.childLanes)!==0,n.flags&128){if(p)return $v(n,i,c);i.flags|=128}if(w=i.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),ht(Ct,Ct.current),p)break;return null;case 22:case 23:return i.lanes=0,Ov(n,i,c)}return kn(n,i,c)}var Uv,xc,Hv,qv;Uv=function(n,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)n.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},xc=function(){},Hv=function(n,i,c,p){var w=n.memoizedProps;if(w!==p){n=i.stateNode,ya(sn.current);var S=null;switch(c){case"input":w=xe(n,w),p=xe(n,p),S=[];break;case"select":w=Y({},w,{value:void 0}),p=Y({},p,{value:void 0}),S=[];break;case"textarea":w=Ge(n,w),p=Ge(n,p),S=[];break;default:typeof w.onClick!="function"&&typeof p.onClick=="function"&&(n.onclick=ks)}We(c,p);var P;c=null;for(oe in w)if(!p.hasOwnProperty(oe)&&w.hasOwnProperty(oe)&&w[oe]!=null)if(oe==="style"){var W=w[oe];for(P in W)W.hasOwnProperty(P)&&(c||(c={}),c[P]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(o.hasOwnProperty(oe)?S||(S=[]):(S=S||[]).push(oe,null));for(oe in p){var G=p[oe];if(W=w!=null?w[oe]:void 0,p.hasOwnProperty(oe)&&G!==W&&(G!=null||W!=null))if(oe==="style")if(W){for(P in W)!W.hasOwnProperty(P)||G&&G.hasOwnProperty(P)||(c||(c={}),c[P]="");for(P in G)G.hasOwnProperty(P)&&W[P]!==G[P]&&(c||(c={}),c[P]=G[P])}else c||(S||(S=[]),S.push(oe,c)),c=G;else oe==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,W=W?W.__html:void 0,G!=null&&W!==G&&(S=S||[]).push(oe,G)):oe==="children"?typeof G!="string"&&typeof G!="number"||(S=S||[]).push(oe,""+G):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(o.hasOwnProperty(oe)?(G!=null&&oe==="onScroll"&&mt("scroll",n),S||W===G||(S=[])):(S=S||[]).push(oe,G))}c&&(S=S||[]).push("style",c);var oe=S;(i.updateQueue=oe)&&(i.flags|=4)}},qv=function(n,i,c,p){c!==p&&(i.flags|=4)};function ho(n,i){if(!Et)switch(n.tailMode){case"hidden":i=n.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?n.tail=null:c.sibling=null;break;case"collapsed":c=n.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:p.sibling=null}}function cr(n){var i=n.alternate!==null&&n.alternate.child===n.child,c=0,p=0;if(i)for(var w=n.child;w!==null;)c|=w.lanes|w.childLanes,p|=w.subtreeFlags&14680064,p|=w.flags&14680064,w.return=n,w=w.sibling;else for(w=n.child;w!==null;)c|=w.lanes|w.childLanes,p|=w.subtreeFlags,p|=w.flags,w.return=n,w=w.sibling;return n.subtreeFlags|=p,n.childLanes=c,i}function qy(n,i,c){var p=i.pendingProps;switch($u(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cr(i),null;case 1:return Cr(i.type)&&Ts(),cr(i),null;case 3:return p=i.stateNode,ii(),yt(Sr),yt(lr),tc(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(n===null||n.child===null)&&(Rs(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Qr!==null&&(Rc(Qr),Qr=null))),xc(n,i),cr(i),null;case 5:Ju(i);var w=ya(lo.current);if(c=i.type,n!==null&&i.stateNode!=null)Hv(n,i,c,p,w),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!p){if(i.stateNode===null)throw Error(r(166));return cr(i),null}if(n=ya(sn.current),Rs(i)){p=i.stateNode,c=i.type;var S=i.memoizedProps;switch(p[on]=i,p[no]=S,n=(i.mode&1)!==0,c){case"dialog":mt("cancel",p),mt("close",p);break;case"iframe":case"object":case"embed":mt("load",p);break;case"video":case"audio":for(w=0;w<eo.length;w++)mt(eo[w],p);break;case"source":mt("error",p);break;case"img":case"image":case"link":mt("error",p),mt("load",p);break;case"details":mt("toggle",p);break;case"input":we(p,S),mt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!S.multiple},mt("invalid",p);break;case"textarea":at(p,S),mt("invalid",p)}We(c,S),w=null;for(var P in S)if(S.hasOwnProperty(P)){var W=S[P];P==="children"?typeof W=="string"?p.textContent!==W&&(S.suppressHydrationWarning!==!0&&Cs(p.textContent,W,n),w=["children",W]):typeof W=="number"&&p.textContent!==""+W&&(S.suppressHydrationWarning!==!0&&Cs(p.textContent,W,n),w=["children",""+W]):o.hasOwnProperty(P)&&W!=null&&P==="onScroll"&&mt("scroll",p)}switch(c){case"input":de(p),Te(p,S,!0);break;case"textarea":de(p),Je(p);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(p.onclick=ks)}p=w,i.updateQueue=p,p!==null&&(i.flags|=4)}else{P=w.nodeType===9?w:w.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ge(c)),n==="http://www.w3.org/1999/xhtml"?c==="script"?(n=P.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof p.is=="string"?n=P.createElement(c,{is:p.is}):(n=P.createElement(c),c==="select"&&(P=n,p.multiple?P.multiple=!0:p.size&&(P.size=p.size))):n=P.createElementNS(n,c),n[on]=i,n[no]=p,Uv(n,i,!1,!1),i.stateNode=n;e:{switch(P=Be(c,p),c){case"dialog":mt("cancel",n),mt("close",n),w=p;break;case"iframe":case"object":case"embed":mt("load",n),w=p;break;case"video":case"audio":for(w=0;w<eo.length;w++)mt(eo[w],n);w=p;break;case"source":mt("error",n),w=p;break;case"img":case"image":case"link":mt("error",n),mt("load",n),w=p;break;case"details":mt("toggle",n),w=p;break;case"input":we(n,p),w=xe(n,p),mt("invalid",n);break;case"option":w=p;break;case"select":n._wrapperState={wasMultiple:!!p.multiple},w=Y({},p,{value:void 0}),mt("invalid",n);break;case"textarea":at(n,p),w=Ge(n,p),mt("invalid",n);break;default:w=p}We(c,w),W=w;for(S in W)if(W.hasOwnProperty(S)){var G=W[S];S==="style"?Ce(n,G):S==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&fe(n,G)):S==="children"?typeof G=="string"?(c!=="textarea"||G!=="")&&Z(n,G):typeof G=="number"&&Z(n,""+G):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(o.hasOwnProperty(S)?G!=null&&S==="onScroll"&&mt("scroll",n):G!=null&&b(n,S,G,P))}switch(c){case"input":de(n),Te(n,p,!1);break;case"textarea":de(n),Je(n);break;case"option":p.value!=null&&n.setAttribute("value",""+ae(p.value));break;case"select":n.multiple=!!p.multiple,S=p.value,S!=null?Qe(n,!!p.multiple,S,!1):p.defaultValue!=null&&Qe(n,!!p.multiple,p.defaultValue,!0);break;default:typeof w.onClick=="function"&&(n.onclick=ks)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return cr(i),null;case 6:if(n&&i.stateNode!=null)qv(n,i,n.memoizedProps,p);else{if(typeof p!="string"&&i.stateNode===null)throw Error(r(166));if(c=ya(lo.current),ya(sn.current),Rs(i)){if(p=i.stateNode,c=i.memoizedProps,p[on]=i,(S=p.nodeValue!==c)&&(n=Rr,n!==null))switch(n.tag){case 3:Cs(p.nodeValue,c,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Cs(p.nodeValue,c,(n.mode&1)!==0)}S&&(i.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[on]=i,i.stateNode=p}return cr(i),null;case 13:if(yt(Ct),p=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Et&&Br!==null&&i.mode&1&&!(i.flags&128))Gd(),ti(),i.flags|=98560,S=!1;else if(S=Rs(i),p!==null&&p.dehydrated!==null){if(n===null){if(!S)throw Error(r(318));if(S=i.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[on]=i}else ti(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;cr(i),S=!1}else Qr!==null&&(Rc(Qr),Qr=null),S=!0;if(!S)return i.flags&65536?i:null}return i.flags&128?(i.lanes=c,i):(p=p!==null,p!==(n!==null&&n.memoizedState!==null)&&p&&(i.child.flags|=8192,i.mode&1&&(n===null||Ct.current&1?Ft===0&&(Ft=3):Ic())),i.updateQueue!==null&&(i.flags|=4),cr(i),null);case 4:return ii(),xc(n,i),n===null&&to(i.stateNode.containerInfo),cr(i),null;case 10:return Gu(i.type._context),cr(i),null;case 17:return Cr(i.type)&&Ts(),cr(i),null;case 19:if(yt(Ct),S=i.memoizedState,S===null)return cr(i),null;if(p=(i.flags&128)!==0,P=S.rendering,P===null)if(p)ho(S,!1);else{if(Ft!==0||n!==null&&n.flags&128)for(n=i.child;n!==null;){if(P=As(n),P!==null){for(i.flags|=128,ho(S,!1),p=P.updateQueue,p!==null&&(i.updateQueue=p,i.flags|=4),i.subtreeFlags=0,p=c,c=i.child;c!==null;)S=c,n=p,S.flags&=14680066,P=S.alternate,P===null?(S.childLanes=0,S.lanes=n,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=P.childLanes,S.lanes=P.lanes,S.child=P.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=P.memoizedProps,S.memoizedState=P.memoizedState,S.updateQueue=P.updateQueue,S.type=P.type,n=P.dependencies,S.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),c=c.sibling;return ht(Ct,Ct.current&1|2),i.child}n=n.sibling}S.tail!==null&&xt()>ui&&(i.flags|=128,p=!0,ho(S,!1),i.lanes=4194304)}else{if(!p)if(n=As(P),n!==null){if(i.flags|=128,p=!0,c=n.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),ho(S,!0),S.tail===null&&S.tailMode==="hidden"&&!P.alternate&&!Et)return cr(i),null}else 2*xt()-S.renderingStartTime>ui&&c!==1073741824&&(i.flags|=128,p=!0,ho(S,!1),i.lanes=4194304);S.isBackwards?(P.sibling=i.child,i.child=P):(c=S.last,c!==null?c.sibling=P:i.child=P,S.last=P)}return S.tail!==null?(i=S.tail,S.rendering=i,S.tail=i.sibling,S.renderingStartTime=xt(),i.sibling=null,c=Ct.current,ht(Ct,p?c&1|2:c&1),i):(cr(i),null);case 22:case 23:return Mc(),p=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==p&&(i.flags|=8192),p&&i.mode&1?Mr&1073741824&&(cr(i),i.subtreeFlags&6&&(i.flags|=8192)):cr(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function Wy(n,i){switch($u(i),i.tag){case 1:return Cr(i.type)&&Ts(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return ii(),yt(Sr),yt(lr),tc(),n=i.flags,n&65536&&!(n&128)?(i.flags=n&-65537|128,i):null;case 5:return Ju(i),null;case 13:if(yt(Ct),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));ti()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return yt(Ct),null;case 4:return ii(),null;case 10:return Gu(i.type._context),null;case 22:case 23:return Mc(),null;case 24:return null;default:return null}}var Ws=!1,fr=!1,Ky=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function si(n,i){var c=n.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){Dt(n,i,p)}else c.current=null}function Ec(n,i,c){try{c()}catch(p){Dt(n,i,p)}}var Wv=!1;function Gy(n,i){if(Mu=ds,n=kd(),bu(n)){if("selectionStart"in n)var c={start:n.selectionStart,end:n.selectionEnd};else e:{c=(c=n.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var w=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{c.nodeType,S.nodeType}catch{c=null;break e}var P=0,W=-1,G=-1,oe=0,pe=0,me=n,he=null;t:for(;;){for(var De;me!==c||w!==0&&me.nodeType!==3||(W=P+w),me!==S||p!==0&&me.nodeType!==3||(G=P+p),me.nodeType===3&&(P+=me.nodeValue.length),(De=me.firstChild)!==null;)he=me,me=De;for(;;){if(me===n)break t;if(he===c&&++oe===w&&(W=P),he===S&&++pe===p&&(G=P),(De=me.nextSibling)!==null)break;me=he,he=me.parentNode}me=De}c=W===-1||G===-1?null:{start:W,end:G}}else c=null}c=c||{start:0,end:0}}else c=null;for(Iu={focusedElem:n,selectionRange:c},ds=!1,Ne=i;Ne!==null;)if(i=Ne,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Ne=n;else for(;Ne!==null;){i=Ne;try{var Me=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Me!==null){var Ie=Me.memoizedProps,It=Me.memoizedState,J=i.stateNode,X=J.getSnapshotBeforeUpdate(i.elementType===i.type?Ie:Xr(i.type,Ie),It);J.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var re=i.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ye){Dt(i,i.return,ye)}if(n=i.sibling,n!==null){n.return=i.return,Ne=n;break}Ne=i.return}return Me=Wv,Wv=!1,Me}function po(n,i,c){var p=i.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var w=p=p.next;do{if((w.tag&n)===n){var S=w.destroy;w.destroy=void 0,S!==void 0&&Ec(i,c,S)}w=w.next}while(w!==p)}}function Ks(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&n)===n){var p=c.create;c.destroy=p()}c=c.next}while(c!==i)}}function Sc(n){var i=n.ref;if(i!==null){var c=n.stateNode;switch(n.tag){case 5:n=c;break;default:n=c}typeof i=="function"?i(n):i.current=n}}function Kv(n){var i=n.alternate;i!==null&&(n.alternate=null,Kv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[on],delete i[no],delete i[Fu],delete i[Ly],delete i[Ry])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Gv(n){return n.tag===5||n.tag===3||n.tag===4}function Yv(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Gv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Cc(n,i,c){var p=n.tag;if(p===5||p===6)n=n.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(n,i):c.insertBefore(n,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(n,c)):(i=c,i.appendChild(n)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=ks));else if(p!==4&&(n=n.child,n!==null))for(Cc(n,i,c),n=n.sibling;n!==null;)Cc(n,i,c),n=n.sibling}function kc(n,i,c){var p=n.tag;if(p===5||p===6)n=n.stateNode,i?c.insertBefore(n,i):c.appendChild(n);else if(p!==4&&(n=n.child,n!==null))for(kc(n,i,c),n=n.sibling;n!==null;)kc(n,i,c),n=n.sibling}var Yt=null,Zr=!1;function Kn(n,i,c){for(c=c.child;c!==null;)Qv(n,i,c),c=c.sibling}function Qv(n,i,c){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(sr,c)}catch{}switch(c.tag){case 5:fr||si(c,i);case 6:var p=Yt,w=Zr;Yt=null,Kn(n,i,c),Yt=p,Zr=w,Yt!==null&&(Zr?(n=Yt,c=c.stateNode,n.nodeType===8?n.parentNode.removeChild(c):n.removeChild(c)):Yt.removeChild(c.stateNode));break;case 18:Yt!==null&&(Zr?(n=Yt,c=c.stateNode,n.nodeType===8?Au(n.parentNode,c):n.nodeType===1&&Au(n,c),Wi(n)):Au(Yt,c.stateNode));break;case 4:p=Yt,w=Zr,Yt=c.stateNode.containerInfo,Zr=!0,Kn(n,i,c),Yt=p,Zr=w;break;case 0:case 11:case 14:case 15:if(!fr&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){w=p=p.next;do{var S=w,P=S.destroy;S=S.tag,P!==void 0&&(S&2||S&4)&&Ec(c,i,P),w=w.next}while(w!==p)}Kn(n,i,c);break;case 1:if(!fr&&(si(c,i),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(W){Dt(c,i,W)}Kn(n,i,c);break;case 21:Kn(n,i,c);break;case 22:c.mode&1?(fr=(p=fr)||c.memoizedState!==null,Kn(n,i,c),fr=p):Kn(n,i,c);break;default:Kn(n,i,c)}}function Xv(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var c=n.stateNode;c===null&&(c=n.stateNode=new Ky),i.forEach(function(p){var w=n0.bind(null,n,p);c.has(p)||(c.add(p),p.then(w,w))})}}function Jr(n,i){var c=i.deletions;if(c!==null)for(var p=0;p<c.length;p++){var w=c[p];try{var S=n,P=i,W=P;e:for(;W!==null;){switch(W.tag){case 5:Yt=W.stateNode,Zr=!1;break e;case 3:Yt=W.stateNode.containerInfo,Zr=!0;break e;case 4:Yt=W.stateNode.containerInfo,Zr=!0;break e}W=W.return}if(Yt===null)throw Error(r(160));Qv(S,P,w),Yt=null,Zr=!1;var G=w.alternate;G!==null&&(G.return=null),w.return=null}catch(oe){Dt(w,i,oe)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Zv(i,n),i=i.sibling}function Zv(n,i){var c=n.alternate,p=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Jr(i,n),un(n),p&4){try{po(3,n,n.return),Ks(3,n)}catch(Ie){Dt(n,n.return,Ie)}try{po(5,n,n.return)}catch(Ie){Dt(n,n.return,Ie)}}break;case 1:Jr(i,n),un(n),p&512&&c!==null&&si(c,c.return);break;case 5:if(Jr(i,n),un(n),p&512&&c!==null&&si(c,c.return),n.flags&32){var w=n.stateNode;try{Z(w,"")}catch(Ie){Dt(n,n.return,Ie)}}if(p&4&&(w=n.stateNode,w!=null)){var S=n.memoizedProps,P=c!==null?c.memoizedProps:S,W=n.type,G=n.updateQueue;if(n.updateQueue=null,G!==null)try{W==="input"&&S.type==="radio"&&S.name!=null&&Re(w,S),Be(W,P);var oe=Be(W,S);for(P=0;P<G.length;P+=2){var pe=G[P],me=G[P+1];pe==="style"?Ce(w,me):pe==="dangerouslySetInnerHTML"?fe(w,me):pe==="children"?Z(w,me):b(w,pe,me,oe)}switch(W){case"input":Pe(w,S);break;case"textarea":Ye(w,S);break;case"select":var he=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!S.multiple;var De=S.value;De!=null?Qe(w,!!S.multiple,De,!1):he!==!!S.multiple&&(S.defaultValue!=null?Qe(w,!!S.multiple,S.defaultValue,!0):Qe(w,!!S.multiple,S.multiple?[]:"",!1))}w[no]=S}catch(Ie){Dt(n,n.return,Ie)}}break;case 6:if(Jr(i,n),un(n),p&4){if(n.stateNode===null)throw Error(r(162));w=n.stateNode,S=n.memoizedProps;try{w.nodeValue=S}catch(Ie){Dt(n,n.return,Ie)}}break;case 3:if(Jr(i,n),un(n),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Wi(i.containerInfo)}catch(Ie){Dt(n,n.return,Ie)}break;case 4:Jr(i,n),un(n);break;case 13:Jr(i,n),un(n),w=n.child,w.flags&8192&&(S=w.memoizedState!==null,w.stateNode.isHidden=S,!S||w.alternate!==null&&w.alternate.memoizedState!==null||(Dc=xt())),p&4&&Xv(n);break;case 22:if(pe=c!==null&&c.memoizedState!==null,n.mode&1?(fr=(oe=fr)||pe,Jr(i,n),fr=oe):Jr(i,n),un(n),p&8192){if(oe=n.memoizedState!==null,(n.stateNode.isHidden=oe)&&!pe&&n.mode&1)for(Ne=n,pe=n.child;pe!==null;){for(me=Ne=pe;Ne!==null;){switch(he=Ne,De=he.child,he.tag){case 0:case 11:case 14:case 15:po(4,he,he.return);break;case 1:si(he,he.return);var Me=he.stateNode;if(typeof Me.componentWillUnmount=="function"){p=he,c=he.return;try{i=p,Me.props=i.memoizedProps,Me.state=i.memoizedState,Me.componentWillUnmount()}catch(Ie){Dt(p,c,Ie)}}break;case 5:si(he,he.return);break;case 22:if(he.memoizedState!==null){th(me);continue}}De!==null?(De.return=he,Ne=De):th(me)}pe=pe.sibling}e:for(pe=null,me=n;;){if(me.tag===5){if(pe===null){pe=me;try{w=me.stateNode,oe?(S=w.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(W=me.stateNode,G=me.memoizedProps.style,P=G!=null&&G.hasOwnProperty("display")?G.display:null,W.style.display=ve("display",P))}catch(Ie){Dt(n,n.return,Ie)}}}else if(me.tag===6){if(pe===null)try{me.stateNode.nodeValue=oe?"":me.memoizedProps}catch(Ie){Dt(n,n.return,Ie)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===n)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===n)break e;for(;me.sibling===null;){if(me.return===null||me.return===n)break e;pe===me&&(pe=null),me=me.return}pe===me&&(pe=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:Jr(i,n),un(n),p&4&&Xv(n);break;case 21:break;default:Jr(i,n),un(n)}}function un(n){var i=n.flags;if(i&2){try{e:{for(var c=n.return;c!==null;){if(Gv(c)){var p=c;break e}c=c.return}throw Error(r(160))}switch(p.tag){case 5:var w=p.stateNode;p.flags&32&&(Z(w,""),p.flags&=-33);var S=Yv(n);kc(n,S,w);break;case 3:case 4:var P=p.stateNode.containerInfo,W=Yv(n);Cc(n,W,P);break;default:throw Error(r(161))}}catch(G){Dt(n,n.return,G)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Yy(n,i,c){Ne=n,Jv(n)}function Jv(n,i,c){for(var p=(n.mode&1)!==0;Ne!==null;){var w=Ne,S=w.child;if(w.tag===22&&p){var P=w.memoizedState!==null||Ws;if(!P){var W=w.alternate,G=W!==null&&W.memoizedState!==null||fr;W=Ws;var oe=fr;if(Ws=P,(fr=G)&&!oe)for(Ne=w;Ne!==null;)P=Ne,G=P.child,P.tag===22&&P.memoizedState!==null?rh(w):G!==null?(G.return=P,Ne=G):rh(w);for(;S!==null;)Ne=S,Jv(S),S=S.sibling;Ne=w,Ws=W,fr=oe}eh(n)}else w.subtreeFlags&8772&&S!==null?(S.return=w,Ne=S):eh(n)}}function eh(n){for(;Ne!==null;){var i=Ne;if(i.flags&8772){var c=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:fr||Ks(5,i);break;case 1:var p=i.stateNode;if(i.flags&4&&!fr)if(c===null)p.componentDidMount();else{var w=i.elementType===i.type?c.memoizedProps:Xr(i.type,c.memoizedProps);p.componentDidUpdate(w,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var S=i.updateQueue;S!==null&&tv(i,S,p);break;case 3:var P=i.updateQueue;if(P!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}tv(i,P,c)}break;case 5:var W=i.stateNode;if(c===null&&i.flags&4){c=W;var G=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&c.focus();break;case"img":G.src&&(c.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var oe=i.alternate;if(oe!==null){var pe=oe.memoizedState;if(pe!==null){var me=pe.dehydrated;me!==null&&Wi(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}fr||i.flags&512&&Sc(i)}catch(he){Dt(i,i.return,he)}}if(i===n){Ne=null;break}if(c=i.sibling,c!==null){c.return=i.return,Ne=c;break}Ne=i.return}}function th(n){for(;Ne!==null;){var i=Ne;if(i===n){Ne=null;break}var c=i.sibling;if(c!==null){c.return=i.return,Ne=c;break}Ne=i.return}}function rh(n){for(;Ne!==null;){var i=Ne;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{Ks(4,i)}catch(G){Dt(i,c,G)}break;case 1:var p=i.stateNode;if(typeof p.componentDidMount=="function"){var w=i.return;try{p.componentDidMount()}catch(G){Dt(i,w,G)}}var S=i.return;try{Sc(i)}catch(G){Dt(i,S,G)}break;case 5:var P=i.return;try{Sc(i)}catch(G){Dt(i,P,G)}}}catch(G){Dt(i,i.return,G)}if(i===n){Ne=null;break}var W=i.sibling;if(W!==null){W.return=i.return,Ne=W;break}Ne=i.return}}var Qy=Math.ceil,Gs=T.ReactCurrentDispatcher,bc=T.ReactCurrentOwner,$r=T.ReactCurrentBatchConfig,tt=0,Wt=null,Ot=null,Qt=0,Mr=0,li=$n(0),Ft=0,go=null,xa=0,Ys=0,Tc=0,mo=null,br=null,Dc=0,ui=1/0,bn=null,Qs=!1,Pc=null,Gn=null,Xs=!1,Yn=null,Zs=0,yo=0,Nc=null,Js=-1,el=0;function wr(){return tt&6?xt():Js!==-1?Js:Js=xt()}function Qn(n){return n.mode&1?tt&2&&Qt!==0?Qt&-Qt:My.transition!==null?(el===0&&(el=Yf()),el):(n=ft,n!==0||(n=window.event,n=n===void 0?16:ad(n.type)),n):1}function en(n,i,c,p){if(50<yo)throw yo=0,Nc=null,Error(r(185));_i(n,c,p),(!(tt&2)||n!==Wt)&&(n===Wt&&(!(tt&2)&&(Ys|=c),Ft===4&&Xn(n,Qt)),Tr(n,p),c===1&&tt===0&&!(i.mode&1)&&(ui=xt()+500,Ps&&Hn()))}function Tr(n,i){var c=n.callbackNode;Mm(n,i);var p=us(n,n===Wt?Qt:0);if(p===0)c!==null&&Bn(c),n.callbackNode=null,n.callbackPriority=0;else if(i=p&-p,n.callbackPriority!==i){if(c!=null&&Bn(c),i===1)n.tag===0?By(ah.bind(null,n)):Ud(ah.bind(null,n)),Py(function(){!(tt&6)&&Hn()}),c=null;else{switch(Qf(p)){case 1:c=ji;break;case 4:c=Er;break;case 16:c=Mn;break;case 536870912:c=In;break;default:c=Mn}c=dh(c,nh.bind(null,n))}n.callbackPriority=i,n.callbackNode=c}}function nh(n,i){if(Js=-1,el=0,tt&6)throw Error(r(327));var c=n.callbackNode;if(ci()&&n.callbackNode!==c)return null;var p=us(n,n===Wt?Qt:0);if(p===0)return null;if(p&30||p&n.expiredLanes||i)i=tl(n,p);else{i=p;var w=tt;tt|=2;var S=oh();(Wt!==n||Qt!==i)&&(bn=null,ui=xt()+500,Sa(n,i));do try{Jy();break}catch(W){ih(n,W)}while(!0);Ku(),Gs.current=S,tt=w,Ot!==null?i=0:(Wt=null,Qt=0,i=Ft)}if(i!==0){if(i===2&&(w=uu(n),w!==0&&(p=w,i=Lc(n,w))),i===1)throw c=go,Sa(n,0),Xn(n,p),Tr(n,xt()),c;if(i===6)Xn(n,p);else{if(w=n.current.alternate,!(p&30)&&!Xy(w)&&(i=tl(n,p),i===2&&(S=uu(n),S!==0&&(p=S,i=Lc(n,S))),i===1))throw c=go,Sa(n,0),Xn(n,p),Tr(n,xt()),c;switch(n.finishedWork=w,n.finishedLanes=p,i){case 0:case 1:throw Error(r(345));case 2:Ca(n,br,bn);break;case 3:if(Xn(n,p),(p&130023424)===p&&(i=Dc+500-xt(),10<i)){if(us(n,0)!==0)break;if(w=n.suspendedLanes,(w&p)!==p){wr(),n.pingedLanes|=n.suspendedLanes&w;break}n.timeoutHandle=zu(Ca.bind(null,n,br,bn),i);break}Ca(n,br,bn);break;case 4:if(Xn(n,p),(p&4194240)===p)break;for(i=n.eventTimes,w=-1;0<p;){var P=31-Gr(p);S=1<<P,P=i[P],P>w&&(w=P),p&=~S}if(p=w,p=xt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*Qy(p/1960))-p,10<p){n.timeoutHandle=zu(Ca.bind(null,n,br,bn),p);break}Ca(n,br,bn);break;case 5:Ca(n,br,bn);break;default:throw Error(r(329))}}}return Tr(n,xt()),n.callbackNode===c?nh.bind(null,n):null}function Lc(n,i){var c=mo;return n.current.memoizedState.isDehydrated&&(Sa(n,i).flags|=256),n=tl(n,i),n!==2&&(i=br,br=c,i!==null&&Rc(i)),n}function Rc(n){br===null?br=n:br.push.apply(br,n)}function Xy(n){for(var i=n;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var w=c[p],S=w.getSnapshot;w=w.value;try{if(!Yr(S(),w))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xn(n,i){for(i&=~Tc,i&=~Ys,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var c=31-Gr(i),p=1<<c;n[c]=-1,i&=~p}}function ah(n){if(tt&6)throw Error(r(327));ci();var i=us(n,0);if(!(i&1))return Tr(n,xt()),null;var c=tl(n,i);if(n.tag!==0&&c===2){var p=uu(n);p!==0&&(i=p,c=Lc(n,p))}if(c===1)throw c=go,Sa(n,0),Xn(n,i),Tr(n,xt()),c;if(c===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Ca(n,br,bn),Tr(n,xt()),null}function Bc(n,i){var c=tt;tt|=1;try{return n(i)}finally{tt=c,tt===0&&(ui=xt()+500,Ps&&Hn())}}function Ea(n){Yn!==null&&Yn.tag===0&&!(tt&6)&&ci();var i=tt;tt|=1;var c=$r.transition,p=ft;try{if($r.transition=null,ft=1,n)return n()}finally{ft=p,$r.transition=c,tt=i,!(tt&6)&&Hn()}}function Mc(){Mr=li.current,yt(li)}function Sa(n,i){n.finishedWork=null,n.finishedLanes=0;var c=n.timeoutHandle;if(c!==-1&&(n.timeoutHandle=-1,Dy(c)),Ot!==null)for(c=Ot.return;c!==null;){var p=c;switch($u(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Ts();break;case 3:ii(),yt(Sr),yt(lr),tc();break;case 5:Ju(p);break;case 4:ii();break;case 13:yt(Ct);break;case 19:yt(Ct);break;case 10:Gu(p.type._context);break;case 22:case 23:Mc()}c=c.return}if(Wt=n,Ot=n=Zn(n.current,null),Qt=Mr=i,Ft=0,go=null,Tc=Ys=xa=0,br=mo=null,ma!==null){for(i=0;i<ma.length;i++)if(c=ma[i],p=c.interleaved,p!==null){c.interleaved=null;var w=p.next,S=c.pending;if(S!==null){var P=S.next;S.next=w,p.next=P}c.pending=p}ma=null}return n}function ih(n,i){do{var c=Ot;try{if(Ku(),Fs.current=$s,js){for(var p=kt.memoizedState;p!==null;){var w=p.queue;w!==null&&(w.pending=null),p=p.next}js=!1}if(wa=0,qt=At=kt=null,uo=!1,co=0,bc.current=null,c===null||c.return===null){Ft=1,go=i,Ot=null;break}e:{var S=n,P=c.return,W=c,G=i;if(i=Qt,W.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var oe=G,pe=W,me=pe.tag;if(!(pe.mode&1)&&(me===0||me===11||me===15)){var he=pe.alternate;he?(pe.updateQueue=he.updateQueue,pe.memoizedState=he.memoizedState,pe.lanes=he.lanes):(pe.updateQueue=null,pe.memoizedState=null)}var De=Lv(P);if(De!==null){De.flags&=-257,Rv(De,P,W,S,i),De.mode&1&&Nv(S,oe,i),i=De,G=oe;var Me=i.updateQueue;if(Me===null){var Ie=new Set;Ie.add(G),i.updateQueue=Ie}else Me.add(G);break e}else{if(!(i&1)){Nv(S,oe,i),Ic();break e}G=Error(r(426))}}else if(Et&&W.mode&1){var It=Lv(P);if(It!==null){!(It.flags&65536)&&(It.flags|=256),Rv(It,P,W,S,i),qu(oi(G,W));break e}}S=G=oi(G,W),Ft!==4&&(Ft=2),mo===null?mo=[S]:mo.push(S),S=P;do{switch(S.tag){case 3:S.flags|=65536,i&=-i,S.lanes|=i;var J=Dv(S,G,i);ev(S,J);break e;case 1:W=G;var X=S.type,re=S.stateNode;if(!(S.flags&128)&&(typeof X.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(Gn===null||!Gn.has(re)))){S.flags|=65536,i&=-i,S.lanes|=i;var ye=Pv(S,W,i);ev(S,ye);break e}}S=S.return}while(S!==null)}lh(c)}catch(Oe){i=Oe,Ot===c&&c!==null&&(Ot=c=c.return);continue}break}while(!0)}function oh(){var n=Gs.current;return Gs.current=$s,n===null?$s:n}function Ic(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Wt===null||!(xa&268435455)&&!(Ys&268435455)||Xn(Wt,Qt)}function tl(n,i){var c=tt;tt|=2;var p=oh();(Wt!==n||Qt!==i)&&(bn=null,Sa(n,i));do try{Zy();break}catch(w){ih(n,w)}while(!0);if(Ku(),tt=c,Gs.current=p,Ot!==null)throw Error(r(261));return Wt=null,Qt=0,Ft}function Zy(){for(;Ot!==null;)sh(Ot)}function Jy(){for(;Ot!==null&&!Fi();)sh(Ot)}function sh(n){var i=fh(n.alternate,n,Mr);n.memoizedProps=n.pendingProps,i===null?lh(n):Ot=i,bc.current=null}function lh(n){var i=n;do{var c=i.alternate;if(n=i.return,i.flags&32768){if(c=Wy(c,i),c!==null){c.flags&=32767,Ot=c;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ft=6,Ot=null;return}}else if(c=qy(c,i,Mr),c!==null){Ot=c;return}if(i=i.sibling,i!==null){Ot=i;return}Ot=i=n}while(i!==null);Ft===0&&(Ft=5)}function Ca(n,i,c){var p=ft,w=$r.transition;try{$r.transition=null,ft=1,e0(n,i,c,p)}finally{$r.transition=w,ft=p}return null}function e0(n,i,c,p){do ci();while(Yn!==null);if(tt&6)throw Error(r(327));c=n.finishedWork;var w=n.finishedLanes;if(c===null)return null;if(n.finishedWork=null,n.finishedLanes=0,c===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var S=c.lanes|c.childLanes;if(Im(n,S),n===Wt&&(Ot=Wt=null,Qt=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||Xs||(Xs=!0,dh(Mn,function(){return ci(),null})),S=(c.flags&15990)!==0,c.subtreeFlags&15990||S){S=$r.transition,$r.transition=null;var P=ft;ft=1;var W=tt;tt|=4,bc.current=null,Gy(n,c),Zv(c,n),xy(Iu),ds=!!Mu,Iu=Mu=null,n.current=c,Yy(c),$a(),tt=W,ft=P,$r.transition=S}else n.current=c;if(Xs&&(Xs=!1,Yn=n,Zs=w),S=n.pendingLanes,S===0&&(Gn=null),Pm(c.stateNode),Tr(n,xt()),i!==null)for(p=n.onRecoverableError,c=0;c<i.length;c++)w=i[c],p(w.value,{componentStack:w.stack,digest:w.digest});if(Qs)throw Qs=!1,n=Pc,Pc=null,n;return Zs&1&&n.tag!==0&&ci(),S=n.pendingLanes,S&1?n===Nc?yo++:(yo=0,Nc=n):yo=0,Hn(),null}function ci(){if(Yn!==null){var n=Qf(Zs),i=$r.transition,c=ft;try{if($r.transition=null,ft=16>n?16:n,Yn===null)var p=!1;else{if(n=Yn,Yn=null,Zs=0,tt&6)throw Error(r(331));var w=tt;for(tt|=4,Ne=n.current;Ne!==null;){var S=Ne,P=S.child;if(Ne.flags&16){var W=S.deletions;if(W!==null){for(var G=0;G<W.length;G++){var oe=W[G];for(Ne=oe;Ne!==null;){var pe=Ne;switch(pe.tag){case 0:case 11:case 15:po(8,pe,S)}var me=pe.child;if(me!==null)me.return=pe,Ne=me;else for(;Ne!==null;){pe=Ne;var he=pe.sibling,De=pe.return;if(Kv(pe),pe===oe){Ne=null;break}if(he!==null){he.return=De,Ne=he;break}Ne=De}}}var Me=S.alternate;if(Me!==null){var Ie=Me.child;if(Ie!==null){Me.child=null;do{var It=Ie.sibling;Ie.sibling=null,Ie=It}while(Ie!==null)}}Ne=S}}if(S.subtreeFlags&2064&&P!==null)P.return=S,Ne=P;else e:for(;Ne!==null;){if(S=Ne,S.flags&2048)switch(S.tag){case 0:case 11:case 15:po(9,S,S.return)}var J=S.sibling;if(J!==null){J.return=S.return,Ne=J;break e}Ne=S.return}}var X=n.current;for(Ne=X;Ne!==null;){P=Ne;var re=P.child;if(P.subtreeFlags&2064&&re!==null)re.return=P,Ne=re;else e:for(P=X;Ne!==null;){if(W=Ne,W.flags&2048)try{switch(W.tag){case 0:case 11:case 15:Ks(9,W)}}catch(Oe){Dt(W,W.return,Oe)}if(W===P){Ne=null;break e}var ye=W.sibling;if(ye!==null){ye.return=W.return,Ne=ye;break e}Ne=W.return}}if(tt=w,Hn(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(sr,n)}catch{}p=!0}return p}finally{ft=c,$r.transition=i}}return!1}function uh(n,i,c){i=oi(c,i),i=Dv(n,i,1),n=Wn(n,i,1),i=wr(),n!==null&&(_i(n,1,i),Tr(n,i))}function Dt(n,i,c){if(n.tag===3)uh(n,n,c);else for(;i!==null;){if(i.tag===3){uh(i,n,c);break}else if(i.tag===1){var p=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Gn===null||!Gn.has(p))){n=oi(c,n),n=Pv(i,n,1),i=Wn(i,n,1),n=wr(),i!==null&&(_i(i,1,n),Tr(i,n));break}}i=i.return}}function t0(n,i,c){var p=n.pingCache;p!==null&&p.delete(i),i=wr(),n.pingedLanes|=n.suspendedLanes&c,Wt===n&&(Qt&c)===c&&(Ft===4||Ft===3&&(Qt&130023424)===Qt&&500>xt()-Dc?Sa(n,0):Tc|=c),Tr(n,i)}function ch(n,i){i===0&&(n.mode&1?(i=ls,ls<<=1,!(ls&130023424)&&(ls=4194304)):i=1);var c=wr();n=Sn(n,i),n!==null&&(_i(n,i,c),Tr(n,c))}function r0(n){var i=n.memoizedState,c=0;i!==null&&(c=i.retryLane),ch(n,c)}function n0(n,i){var c=0;switch(n.tag){case 13:var p=n.stateNode,w=n.memoizedState;w!==null&&(c=w.retryLane);break;case 19:p=n.stateNode;break;default:throw Error(r(314))}p!==null&&p.delete(i),ch(n,c)}var fh;fh=function(n,i,c){if(n!==null)if(n.memoizedProps!==i.pendingProps||Sr.current)kr=!0;else{if(!(n.lanes&c)&&!(i.flags&128))return kr=!1,Hy(n,i,c);kr=!!(n.flags&131072)}else kr=!1,Et&&i.flags&1048576&&Hd(i,Ls,i.index);switch(i.lanes=0,i.tag){case 2:var p=i.type;qs(n,i),n=i.pendingProps;var w=Za(i,lr.current);ai(i,c),w=ac(null,i,p,n,w,c);var S=ic();return i.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Cr(p)?(S=!0,Ds(i)):S=!1,i.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Xu(i),w.updater=Us,i.stateNode=w,w._reactInternals=i,fc(i,p,n,c),i=pc(null,i,p,!0,S,c)):(i.tag=0,Et&&S&&_u(i),yr(null,i,w,c),i=i.child),i;case 16:p=i.elementType;e:{switch(qs(n,i),n=i.pendingProps,w=p._init,p=w(p._payload),i.type=p,w=i.tag=i0(p),n=Xr(p,n),w){case 0:i=hc(null,i,p,n,c);break e;case 1:i=Av(null,i,p,n,c);break e;case 11:i=Bv(null,i,p,n,c);break e;case 14:i=Mv(null,i,p,Xr(p.type,n),c);break e}throw Error(r(306,p,""))}return i;case 0:return p=i.type,w=i.pendingProps,w=i.elementType===p?w:Xr(p,w),hc(n,i,p,w,c);case 1:return p=i.type,w=i.pendingProps,w=i.elementType===p?w:Xr(p,w),Av(n,i,p,w,c);case 3:e:{if(Fv(i),n===null)throw Error(r(387));p=i.pendingProps,S=i.memoizedState,w=S.element,Jd(n,i),zs(i,p,null,c);var P=i.memoizedState;if(p=P.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},i.updateQueue.baseState=S,i.memoizedState=S,i.flags&256){w=oi(Error(r(423)),i),i=jv(n,i,p,c,w);break e}else if(p!==w){w=oi(Error(r(424)),i),i=jv(n,i,p,c,w);break e}else for(Br=_n(i.stateNode.containerInfo.firstChild),Rr=i,Et=!0,Qr=null,c=Xd(i,null,p,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(ti(),p===w){i=kn(n,i,c);break e}yr(n,i,p,c)}i=i.child}return i;case 5:return rv(i),n===null&&Hu(i),p=i.type,w=i.pendingProps,S=n!==null?n.memoizedProps:null,P=w.children,Ou(p,w)?P=null:S!==null&&Ou(p,S)&&(i.flags|=32),zv(n,i),yr(n,i,P,c),i.child;case 6:return n===null&&Hu(i),null;case 13:return Vv(n,i,c);case 4:return Zu(i,i.stateNode.containerInfo),p=i.pendingProps,n===null?i.child=ri(i,null,p,c):yr(n,i,p,c),i.child;case 11:return p=i.type,w=i.pendingProps,w=i.elementType===p?w:Xr(p,w),Bv(n,i,p,w,c);case 7:return yr(n,i,i.pendingProps,c),i.child;case 8:return yr(n,i,i.pendingProps.children,c),i.child;case 12:return yr(n,i,i.pendingProps.children,c),i.child;case 10:e:{if(p=i.type._context,w=i.pendingProps,S=i.memoizedProps,P=w.value,ht(Ms,p._currentValue),p._currentValue=P,S!==null)if(Yr(S.value,P)){if(S.children===w.children&&!Sr.current){i=kn(n,i,c);break e}}else for(S=i.child,S!==null&&(S.return=i);S!==null;){var W=S.dependencies;if(W!==null){P=S.child;for(var G=W.firstContext;G!==null;){if(G.context===p){if(S.tag===1){G=Cn(-1,c&-c),G.tag=2;var oe=S.updateQueue;if(oe!==null){oe=oe.shared;var pe=oe.pending;pe===null?G.next=G:(G.next=pe.next,pe.next=G),oe.pending=G}}S.lanes|=c,G=S.alternate,G!==null&&(G.lanes|=c),Yu(S.return,c,i),W.lanes|=c;break}G=G.next}}else if(S.tag===10)P=S.type===i.type?null:S.child;else if(S.tag===18){if(P=S.return,P===null)throw Error(r(341));P.lanes|=c,W=P.alternate,W!==null&&(W.lanes|=c),Yu(P,c,i),P=S.sibling}else P=S.child;if(P!==null)P.return=S;else for(P=S;P!==null;){if(P===i){P=null;break}if(S=P.sibling,S!==null){S.return=P.return,P=S;break}P=P.return}S=P}yr(n,i,w.children,c),i=i.child}return i;case 9:return w=i.type,p=i.pendingProps.children,ai(i,c),w=Vr(w),p=p(w),i.flags|=1,yr(n,i,p,c),i.child;case 14:return p=i.type,w=Xr(p,i.pendingProps),w=Xr(p.type,w),Mv(n,i,p,w,c);case 15:return Iv(n,i,i.type,i.pendingProps,c);case 17:return p=i.type,w=i.pendingProps,w=i.elementType===p?w:Xr(p,w),qs(n,i),i.tag=1,Cr(p)?(n=!0,Ds(i)):n=!1,ai(i,c),bv(i,p,w),fc(i,p,w,c),pc(null,i,p,!0,n,c);case 19:return $v(n,i,c);case 22:return Ov(n,i,c)}throw Error(r(156,i.tag))};function dh(n,i){return as(n,i)}function a0(n,i,c,p){this.tag=n,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(n,i,c,p){return new a0(n,i,c,p)}function Oc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function i0(n){if(typeof n=="function")return Oc(n)?1:0;if(n!=null){if(n=n.$$typeof,n===j)return 11;if(n===$)return 14}return 2}function Zn(n,i){var c=n.alternate;return c===null?(c=Ur(n.tag,i,n.key,n.mode),c.elementType=n.elementType,c.type=n.type,c.stateNode=n.stateNode,c.alternate=n,n.alternate=c):(c.pendingProps=i,c.type=n.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=n.flags&14680064,c.childLanes=n.childLanes,c.lanes=n.lanes,c.child=n.child,c.memoizedProps=n.memoizedProps,c.memoizedState=n.memoizedState,c.updateQueue=n.updateQueue,i=n.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=n.sibling,c.index=n.index,c.ref=n.ref,c}function rl(n,i,c,p,w,S){var P=2;if(p=n,typeof n=="function")Oc(n)&&(P=1);else if(typeof n=="string")P=5;else e:switch(n){case D:return ka(c.children,w,S,i);case I:P=8,w|=8;break;case B:return n=Ur(12,c,i,w|2),n.elementType=B,n.lanes=S,n;case _:return n=Ur(13,c,i,w),n.elementType=_,n.lanes=S,n;case L:return n=Ur(19,c,i,w),n.elementType=L,n.lanes=S,n;case U:return nl(c,w,S,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case F:P=10;break e;case A:P=9;break e;case j:P=11;break e;case $:P=14;break e;case V:P=16,p=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return i=Ur(P,c,i,w),i.elementType=n,i.type=p,i.lanes=S,i}function ka(n,i,c,p){return n=Ur(7,n,p,i),n.lanes=c,n}function nl(n,i,c,p){return n=Ur(22,n,p,i),n.elementType=U,n.lanes=c,n.stateNode={isHidden:!1},n}function zc(n,i,c){return n=Ur(6,n,null,i),n.lanes=c,n}function Ac(n,i,c){return i=Ur(4,n.children!==null?n.children:[],n.key,i),i.lanes=c,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function o0(n,i,c,p,w){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cu(0),this.expirationTimes=cu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cu(0),this.identifierPrefix=p,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function Fc(n,i,c,p,w,S,P,W,G){return n=new o0(n,i,c,W,G),i===1?(i=1,S===!0&&(i|=8)):i=0,S=Ur(3,null,null,i),n.current=S,S.stateNode=n,S.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xu(S),n}function s0(n,i,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:p==null?null:""+p,children:n,containerInfo:i,implementation:c}}function vh(n){if(!n)return Un;n=n._reactInternals;e:{if(mn(n)!==n||n.tag!==1)throw Error(r(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Cr(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(n.tag===1){var c=n.type;if(Cr(c))return _d(n,c,i)}return i}function hh(n,i,c,p,w,S,P,W,G){return n=Fc(c,p,!0,n,w,S,P,W,G),n.context=vh(null),c=n.current,p=wr(),w=Qn(c),S=Cn(p,w),S.callback=i??null,Wn(c,S,w),n.current.lanes=w,_i(n,w,p),Tr(n,p),n}function al(n,i,c,p){var w=i.current,S=wr(),P=Qn(w);return c=vh(c),i.context===null?i.context=c:i.pendingContext=c,i=Cn(S,P),i.payload={element:n},p=p===void 0?null:p,p!==null&&(i.callback=p),n=Wn(w,i,P),n!==null&&(en(n,w,P,S),Os(n,w,P)),P}function il(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function ph(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var c=n.retryLane;n.retryLane=c!==0&&c<i?c:i}}function jc(n,i){ph(n,i),(n=n.alternate)&&ph(n,i)}function l0(){return null}var gh=typeof reportError=="function"?reportError:function(n){console.error(n)};function Vc(n){this._internalRoot=n}ol.prototype.render=Vc.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));al(n,i,null,null)},ol.prototype.unmount=Vc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Ea(function(){al(null,n,null,null)}),i[yn]=null}};function ol(n){this._internalRoot=n}ol.prototype.unstable_scheduleHydration=function(n){if(n){var i=Jf();n={blockedOn:null,target:n,priority:i};for(var c=0;c<Fn.length&&i!==0&&i<Fn[c].priority;c++);Fn.splice(c,0,n),c===0&&rd(n)}};function _c(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function sl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function mh(){}function u0(n,i,c,p,w){if(w){if(typeof p=="function"){var S=p;p=function(){var oe=il(P);S.call(oe)}}var P=hh(i,p,n,0,null,!1,!1,"",mh);return n._reactRootContainer=P,n[yn]=P.current,to(n.nodeType===8?n.parentNode:n),Ea(),P}for(;w=n.lastChild;)n.removeChild(w);if(typeof p=="function"){var W=p;p=function(){var oe=il(G);W.call(oe)}}var G=Fc(n,0,!1,null,null,!1,!1,"",mh);return n._reactRootContainer=G,n[yn]=G.current,to(n.nodeType===8?n.parentNode:n),Ea(function(){al(i,G,c,p)}),G}function ll(n,i,c,p,w){var S=c._reactRootContainer;if(S){var P=S;if(typeof w=="function"){var W=w;w=function(){var G=il(P);W.call(G)}}al(i,P,n,w)}else P=u0(c,i,n,w,p);return il(P)}Xf=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var c=Vi(i.pendingLanes);c!==0&&(fu(i,c|1),Tr(i,xt()),!(tt&6)&&(ui=xt()+500,Hn()))}break;case 13:Ea(function(){var p=Sn(n,1);if(p!==null){var w=wr();en(p,n,1,w)}}),jc(n,1)}},du=function(n){if(n.tag===13){var i=Sn(n,134217728);if(i!==null){var c=wr();en(i,n,134217728,c)}jc(n,134217728)}},Zf=function(n){if(n.tag===13){var i=Qn(n),c=Sn(n,i);if(c!==null){var p=wr();en(c,n,i,p)}jc(n,i)}},Jf=function(){return ft},ed=function(n,i){var c=ft;try{return ft=n,i()}finally{ft=c}},Ve=function(n,i,c){switch(i){case"input":if(Pe(n,c),i=c.name,c.type==="radio"&&i!=null){for(c=n;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var p=c[i];if(p!==n&&p.form===n.form){var w=bs(p);if(!w)throw Error(r(90));Ee(p),Pe(p,w)}}}break;case"textarea":Ye(n,c);break;case"select":i=c.value,i!=null&&Qe(n,!!c.multiple,i,!1)}},Rt=Bc,Bt=Ea;var c0={usingClientEntryPoint:!1,Events:[ao,Qa,bs,nr,Tt,Bc]},wo={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},f0={bundleType:wo.bundleType,version:wo.version,rendererPackageName:wo.rendererPackageName,rendererConfig:wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=rs(n),n===null?null:n.stateNode},findFiberByHostInstance:wo.findFiberByHostInstance||l0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{sr=ul.inject(f0),Ar=ul}catch{}}return Dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c0,Dr.createPortal=function(n,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_c(i))throw Error(r(200));return s0(n,i,null,c)},Dr.createRoot=function(n,i){if(!_c(n))throw Error(r(299));var c=!1,p="",w=gh;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(p=i.identifierPrefix),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),i=Fc(n,1,!1,null,null,c,!1,p,w),n[yn]=i.current,to(n.nodeType===8?n.parentNode:n),new Vc(i)},Dr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=rs(i),n=n===null?null:n.stateNode,n},Dr.flushSync=function(n){return Ea(n)},Dr.hydrate=function(n,i,c){if(!sl(i))throw Error(r(200));return ll(null,n,i,!0,c)},Dr.hydrateRoot=function(n,i,c){if(!_c(n))throw Error(r(405));var p=c!=null&&c.hydratedSources||null,w=!1,S="",P=gh;if(c!=null&&(c.unstable_strictMode===!0&&(w=!0),c.identifierPrefix!==void 0&&(S=c.identifierPrefix),c.onRecoverableError!==void 0&&(P=c.onRecoverableError)),i=hh(i,null,n,1,c??null,w,!1,S,P),n[yn]=i.current,to(n),p)for(n=0;n<p.length;n++)c=p[n],w=c._getVersion,w=w(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,w]:i.mutableSourceEagerHydrationData.push(c,w);return new ol(i)},Dr.render=function(n,i,c){if(!sl(i))throw Error(r(200));return ll(null,n,i,!1,c)},Dr.unmountComponentAtNode=function(n){if(!sl(n))throw Error(r(40));return n._reactRootContainer?(Ea(function(){ll(null,null,n,!1,function(){n._reactRootContainer=null,n[yn]=null})}),!0):!1},Dr.unstable_batchedUpdates=Bc,Dr.unstable_renderSubtreeIntoContainer=function(n,i,c,p){if(!sl(c))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return ll(n,i,c,!1,p)},Dr.version="18.3.1-next-f1338f8080-20240426",Dr}var bh;function w0(){if(bh)return Hc.exports;bh=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Hc.exports=y0(),Hc.exports}var Th;function x0(){if(Th)return cl;Th=1;var t=w0();return cl.createRoot=t.createRoot,cl.hydrateRoot=t.hydrateRoot,cl}var E0=x0();/*! js-cookie v3.0.5 | MIT */function fl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)t[a]=r[a]}return t}var S0={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function sf(t,e){function r(o,s,l){if(!(typeof document>"u")){l=fl({},e,l),typeof l.expires=="number"&&(l.expires=new Date(Date.now()+l.expires*864e5)),l.expires&&(l.expires=l.expires.toUTCString()),o=encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var u="";for(var d in l)l[d]&&(u+="; "+d,l[d]!==!0&&(u+="="+l[d].split(";")[0]));return document.cookie=o+"="+t.write(s,o)+u}}function a(o){if(!(typeof document>"u"||arguments.length&&!o)){for(var s=document.cookie?document.cookie.split("; "):[],l={},u=0;u<s.length;u++){var d=s[u].split("="),f=d.slice(1).join("=");try{var v=decodeURIComponent(d[0]);if(l[v]=t.read(f,v),o===v)break}catch{}}return o?l[o]:l}}return Object.create({set:r,get:a,remove:function(o,s){r(o,"",fl({},s,{expires:-1}))},withAttributes:function(o){return sf(this.converter,fl({},this.attributes,o))},withConverter:function(o){return sf(fl({},this.converter,o),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var Pt=sf(S0,{path:"/"});const C0=({nodeSelected:t})=>{const[e,r]=Se.useState(""),[a,o]=Se.useState(!1),[s,l]=Se.useState(""),[u,d]=Se.useState(50),[f,v]=Se.useState([]),h="https://67.169.204.254",g=async()=>{o(!0),await y();const m=JSON.stringify(f),C={messages:[{role:"user",content:`create nodes off of this to ${s} using same values and structure ${m} and Please output a strict JSON object with the same exact same keys. from ${u} out of 100 in detail`}],model:"gemma2-9b-it",temperature:1,max_tokens:5e3,top_p:1,stop:null};try{const E=await(await fetch(`${h}/AiResponse`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)})).json();if(console.log("Full response:",E),E.success&&E.data){const k=JSON.parse(E.data);if(Array.isArray(k.choices)&&k.choices.length>0){const b=k.choices[0].message.content;console.log("Response content:",b),r(b)}else console.error("No choices found in the response."),r("Error: No choices found.")}else console.error("Invalid response format: result.data is undefined"),r("Error: Invalid response format.")}catch(x){console.error("Error:",x),r("Error communicating with the server.")}finally{o(!1)}},y=async()=>{o(!0),v([]);try{const m=await fetch(`${h}/get-parents`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({childId:t.id})}),C=await m.json();m.ok?(v(C),console.log(C)):(console.error(C.message||"Error fetching tree branch."),v([]))}catch(m){console.error(m),v([])}finally{o(!1)}};return O.jsxs("div",{children:[O.jsx("h1",{children:"AI Creation"}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"plan-description",children:"Plan Description:"}),O.jsx("textarea",{id:"plan-description",value:s,onChange:m=>l(m.target.value),placeholder:"Describe your plan...",rows:"4",style:{width:"100%"}})]}),O.jsxs("div",{children:[O.jsxs("label",{htmlFor:"depth-slider",children:["Depth of Planning: ",u]}),O.jsx("input",{id:"depth-slider",type:"range",min:"1",max:"100",value:u,onChange:m=>d(m.target.value)})]}),O.jsxs("div",{children:[O.jsx("h2",{children:"AI Response"}),O.jsx("button",{onClick:g,disabled:a,children:a?"Loading...":"Generate AI Response"}),O.jsx("div",{children:O.jsx("pre",{children:e})})]})]})},k0=({nodeSelected:t,onComplete:e})=>{const[r,a]=Se.useState(""),[o,s]=Se.useState(""),[l,u]=Se.useState(""),[d,f]=Se.useState(!1),v="https://67.169.204.254",h=async g=>{g.preventDefault();const y=Pt.get("token");if(!y){console.error("No JWT token found!");return}try{const m=await fetch(`${v}/add-node`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`},body:JSON.stringify({parentId:t._id,name:r,schedule:o,reeffectTime:l,isRoot:!1})}),C=await m.json();if(!m.ok)throw console.error("Error creating node:",C),new Error("Failed to create node");a(""),s(""),u(""),e()}catch(m){console.error("Error creating node:",m.message)}};return O.jsxs("div",{children:[O.jsx("h1",{children:"Create Node"}),O.jsx("div",{children:O.jsxs("label",{children:[O.jsx("input",{type:"checkbox",checked:d,onChange:g=>f(g.target.checked)}),"Use AI Assistance"]})}),d?O.jsx(C0,{nodeSelected:t}):O.jsxs("form",{onSubmit:h,children:[O.jsxs("div",{children:[O.jsx("label",{children:"Node Name:"}),O.jsx("input",{type:"text",value:r,onChange:g=>a(g.target.value),required:!0})]}),O.jsxs("div",{children:[O.jsx("label",{children:"Schedule:"}),O.jsx("input",{type:"datetime-local",value:o,onChange:g=>s(g.target.value)})]}),O.jsxs("div",{children:[O.jsx("label",{children:"Reeffect Time:"}),O.jsx("input",{type:"number",value:l,onChange:g=>u(g.target.value)})]}),O.jsx("button",{type:"submit",children:"Create New Node"})]})]})},b0=({nodeSelected:t,nodeVersion:e,onComplete:r})=>{const[a,o]=Se.useState(!0),[s,l]=Se.useState(null),u="https://67.169.204.254",d=async f=>{if(l(f),f){const v=Pt.get("token");if(!v){console.error("No JWT token found!");return}try{const h=await fetch(`${u}/edit-status`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${v}`},body:JSON.stringify({nodeId:t._id,status:"trimmed",version:e,isInherited:!0})}),g=await h.json();if(!h.ok)throw console.error("Error trimming node:",g),new Error("Failed to trim node");o(!1),r()}catch(h){console.error("Error trimming node:",h.message)}}};return O.jsx("div",{children:a&&O.jsxs("div",{children:[O.jsx("h2",{children:"Trim Node and All Its Children?"}),O.jsx("button",{onClick:()=>d(!0),children:"Yes"}),O.jsx("button",{onClick:()=>d(!1),children:"No"})]})})},T0=({nodeSelected:t,nodeVersion:e,onComplete:r})=>{const[a,o]=Se.useState(!0),[s,l]=Se.useState(null),[u,d]=Se.useState(!1),[f,v]=Se.useState(!0),h="https://67.169.204.254",g=async m=>{l(m),d(!0);const C=Pt.get("token");if(!C){console.error("No JWT token found!"),d(!1);return}try{const x=await fetch(`${h}/edit-status`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify({nodeId:t._id,status:m,version:e,isInherited:f})}),E=await x.json();if(!x.ok)throw console.error("Error updating status:",E),new Error("Failed to update status");o(!1),r()}catch(x){console.error("Error updating node status:",x.message)}finally{d(!1)}},y=m=>{v(m.target.checked)};return O.jsx("div",{children:a&&O.jsxs("div",{children:[O.jsx("h2",{children:"Set Node Status"}),O.jsx("button",{onClick:()=>g("completed"),children:"Complete"}),O.jsx("button",{onClick:()=>g("active"),children:"Active"}),O.jsx("div",{children:O.jsxs("label",{children:["Apply to all children:",O.jsx("input",{type:"checkbox",checked:f,onChange:y})]})})]})})},D0=({nodeSelected:t,nodeVersion:e,getTree:r,rootSelected:a})=>{const[o,s]=Se.useState(null),l=()=>{s(null),r(a)},u=()=>{t&&s("createNode")},d=()=>{t&&s("trimNode")},f=()=>{t&&s("completeNode")};return O.jsxs("div",{className:"tree-view-menu",children:[O.jsx("button",{onClick:u,children:"Create Child"}),O.jsx("button",{onClick:d,children:"Trim"}),O.jsx("button",{onClick:f,children:"Complete Node"}),O.jsxs("div",{className:"form-container",children:[o==="createNode"&&O.jsx(k0,{nodeSelected:t,onComplete:l}),o==="trimNode"&&O.jsx(b0,{nodeSelected:t,nodeVersion:e,onComplete:l}),o==="completeNode"&&O.jsx(T0,{nodeSelected:t,nodeVersion:e,onComplete:l})]})]})};function _t(t){"@babel/helpers - typeof";return _t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_t(t)}function bf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P0(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function Tf(t,e,r){return e&&P0(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tn(t,e){return N0(t)||L0(t,e)||$p(t,e)||R0()}function N0(t){if(Array.isArray(t))return t}function L0(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var a=[],o=!0,s=!1,l,u;try{for(r=r.call(t);!(o=(l=r.next()).done)&&(a.push(l.value),!(e&&a.length===e));o=!0);}catch(d){s=!0,u=d}finally{try{!o&&r.return!=null&&r.return()}finally{if(s)throw u}}return a}}function $p(t,e){if(t){if(typeof t=="string")return Dh(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dh(t,e)}}function Dh(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function R0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Up(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=$p(t))||e){r&&(t=r);var a=0,o=function(){};return{s:o,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(d){throw d},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,l=!1,u;return{s:function(){r=r.call(t)},n:function(){var d=r.next();return s=d.done,d},e:function(d){l=!0,u=d},f:function(){try{!s&&r.return!=null&&r.return()}finally{if(l)throw u}}}}var jt=typeof window>"u"?null:window,Ph=jt?jt.navigator:null;jt&&jt.document;var B0=_t(""),Hp=_t({}),M0=_t(function(){}),I0=typeof HTMLElement>"u"?"undefined":_t(HTMLElement),Ho=function(e){return e&&e.instanceString&&bt(e.instanceString)?e.instanceString():null},Fe=function(e){return e!=null&&_t(e)==B0},bt=function(e){return e!=null&&_t(e)===M0},vt=function(e){return!Ir(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},nt=function(e){return e!=null&&_t(e)===Hp&&!vt(e)&&e.constructor===Object},O0=function(e){return e!=null&&_t(e)===Hp},ke=function(e){return e!=null&&_t(e)===_t(1)&&!isNaN(e)},z0=function(e){return ke(e)&&Math.floor(e)===e},Ml=function(e){if(I0!=="undefined")return e!=null&&e instanceof HTMLElement},Ir=function(e){return qo(e)||qp(e)},qo=function(e){return Ho(e)==="collection"&&e._private.single},qp=function(e){return Ho(e)==="collection"&&!e._private.single},Df=function(e){return Ho(e)==="core"},Wp=function(e){return Ho(e)==="stylesheet"},A0=function(e){return Ho(e)==="event"},oa=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},F0=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},j0=function(e){return nt(e)&&ke(e.x1)&&ke(e.x2)&&ke(e.y1)&&ke(e.y2)},V0=function(e){return O0(e)&&bt(e.then)},_0=function(){return Ph&&Ph.userAgent.match(/msie|trident|edge/i)},Mo=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var s=[],l=0;l<arguments.length;l++)s.push(arguments[l]);return s.join("$")});var a=function o(){var s=this,l=arguments,u,d=r.apply(s,l),f=o.cache;return(u=f[d])||(u=f[d]=e.apply(s,l)),u};return a.cache={},a},Pf=Mo(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),Hl=Mo(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),Kp=Mo(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),Nh=function(e){return oa(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},Vt="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",$0="rgb[a]?\\(("+Vt+"[%]?)\\s*,\\s*("+Vt+"[%]?)\\s*,\\s*("+Vt+"[%]?)(?:\\s*,\\s*("+Vt+"))?\\)",U0="rgb[a]?\\((?:"+Vt+"[%]?)\\s*,\\s*(?:"+Vt+"[%]?)\\s*,\\s*(?:"+Vt+"[%]?)(?:\\s*,\\s*(?:"+Vt+"))?\\)",H0="hsl[a]?\\(("+Vt+")\\s*,\\s*("+Vt+"[%])\\s*,\\s*("+Vt+"[%])(?:\\s*,\\s*("+Vt+"))?\\)",q0="hsl[a]?\\((?:"+Vt+")\\s*,\\s*(?:"+Vt+"[%])\\s*,\\s*(?:"+Vt+"[%])(?:\\s*,\\s*(?:"+Vt+"))?\\)",W0="\\#[0-9a-fA-F]{3}",K0="\\#[0-9a-fA-F]{6}",Gp=function(e,r){return e<r?-1:e>r?1:0},G0=function(e,r){return-1*Gp(e,r)},Ue=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var a=e[r];if(a!=null)for(var o=Object.keys(a),s=0;s<o.length;s++){var l=o[s];t[l]=a[l]}}return t},Y0=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,a,o,s,l=16;return r?(a=parseInt(e[1]+e[1],l),o=parseInt(e[2]+e[2],l),s=parseInt(e[3]+e[3],l)):(a=parseInt(e[1]+e[2],l),o=parseInt(e[3]+e[4],l),s=parseInt(e[5]+e[6],l)),[a,o,s]}},Q0=function(e){var r,a,o,s,l,u,d,f;function v(m,C,x){return x<0&&(x+=1),x>1&&(x-=1),x<1/6?m+(C-m)*6*x:x<1/2?C:x<2/3?m+(C-m)*(2/3-x)*6:m}var h=new RegExp("^"+H0+"$").exec(e);if(h){if(a=parseInt(h[1]),a<0?a=(360- -1*a%360)%360:a>360&&(a=a%360),a/=360,o=parseFloat(h[2]),o<0||o>100||(o=o/100,s=parseFloat(h[3]),s<0||s>100)||(s=s/100,l=h[4],l!==void 0&&(l=parseFloat(l),l<0||l>1)))return;if(o===0)u=d=f=Math.round(s*255);else{var g=s<.5?s*(1+o):s+o-s*o,y=2*s-g;u=Math.round(255*v(y,g,a+1/3)),d=Math.round(255*v(y,g,a)),f=Math.round(255*v(y,g,a-1/3))}r=[u,d,f,l]}return r},X0=function(e){var r,a=new RegExp("^"+$0+"$").exec(e);if(a){r=[];for(var o=[],s=1;s<=3;s++){var l=a[s];if(l[l.length-1]==="%"&&(o[s]=!0),l=parseFloat(l),o[s]&&(l=l/100*255),l<0||l>255)return;r.push(Math.floor(l))}var u=o[1]||o[2]||o[3],d=o[1]&&o[2]&&o[3];if(u&&!d)return;var f=a[4];if(f!==void 0){if(f=parseFloat(f),f<0||f>1)return;r.push(f)}}return r},Z0=function(e){return e1[e.toLowerCase()]},J0=function(e){return(vt(e)?e:null)||Z0(e)||Y0(e)||X0(e)||Q0(e)},e1={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Yp=function(e){for(var r=e.map,a=e.keys,o=a.length,s=0;s<o;s++){var l=a[s];if(nt(l))throw Error("Tried to set map with object key");s<a.length-1?(r[l]==null&&(r[l]={}),r=r[l]):r[l]=e.value}},Qp=function(e){for(var r=e.map,a=e.keys,o=a.length,s=0;s<o;s++){var l=a[s];if(nt(l))throw Error("Tried to get map with object key");if(r=r[l],r==null)return r}return r};function t1(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ra=t1,To=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function r1(t,e){return e={exports:{}},t(e,e.exports),e.exports}var n1=typeof To=="object"&&To&&To.Object===Object&&To,a1=n1,i1=typeof self=="object"&&self&&self.Object===Object&&self,o1=a1||i1||Function("return this")(),ql=o1,s1=function(){return ql.Date.now()},Kc=s1,l1=/\s/;function u1(t){for(var e=t.length;e--&&l1.test(t.charAt(e)););return e}var c1=u1,f1=/^\s+/;function d1(t){return t&&t.slice(0,c1(t)+1).replace(f1,"")}var v1=d1,h1=ql.Symbol,ki=h1,Xp=Object.prototype,p1=Xp.hasOwnProperty,g1=Xp.toString,Eo=ki?ki.toStringTag:void 0;function m1(t){var e=p1.call(t,Eo),r=t[Eo];try{t[Eo]=void 0;var a=!0}catch{}var o=g1.call(t);return a&&(e?t[Eo]=r:delete t[Eo]),o}var y1=m1,w1=Object.prototype,x1=w1.toString;function E1(t){return x1.call(t)}var S1=E1,C1="[object Null]",k1="[object Undefined]",Lh=ki?ki.toStringTag:void 0;function b1(t){return t==null?t===void 0?k1:C1:Lh&&Lh in Object(t)?y1(t):S1(t)}var Zp=b1;function T1(t){return t!=null&&typeof t=="object"}var D1=T1,P1="[object Symbol]";function N1(t){return typeof t=="symbol"||D1(t)&&Zp(t)==P1}var Wo=N1,Rh=NaN,L1=/^[-+]0x[0-9a-f]+$/i,R1=/^0b[01]+$/i,B1=/^0o[0-7]+$/i,M1=parseInt;function I1(t){if(typeof t=="number")return t;if(Wo(t))return Rh;if(Ra(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ra(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=v1(t);var r=R1.test(t);return r||B1.test(t)?M1(t.slice(2),r?2:8):L1.test(t)?Rh:+t}var Bh=I1,O1="Expected a function",z1=Math.max,A1=Math.min;function F1(t,e,r){var a,o,s,l,u,d,f=0,v=!1,h=!1,g=!0;if(typeof t!="function")throw new TypeError(O1);e=Bh(e)||0,Ra(r)&&(v=!!r.leading,h="maxWait"in r,s=h?z1(Bh(r.maxWait)||0,e):s,g="trailing"in r?!!r.trailing:g);function y(N){var D=a,I=o;return a=o=void 0,f=N,l=t.apply(I,D),l}function m(N){return f=N,u=setTimeout(E,e),v?y(N):l}function C(N){var D=N-d,I=N-f,B=e-D;return h?A1(B,s-I):B}function x(N){var D=N-d,I=N-f;return d===void 0||D>=e||D<0||h&&I>=s}function E(){var N=Kc();if(x(N))return k(N);u=setTimeout(E,C(N))}function k(N){return u=void 0,g&&a?y(N):(a=o=void 0,l)}function b(){u!==void 0&&clearTimeout(u),f=0,a=d=o=u=void 0}function T(){return u===void 0?l:k(Kc())}function R(){var N=Kc(),D=x(N);if(a=arguments,o=this,d=N,D){if(u===void 0)return m(d);if(h)return clearTimeout(u),u=setTimeout(E,e),y(d)}return u===void 0&&(u=setTimeout(E,e)),l}return R.cancel=b,R.flush=T,R}var Wl=F1,Gc=jt?jt.performance:null,Jp=Gc&&Gc.now?function(){return Gc.now()}:function(){return Date.now()},j1=function(){if(jt){if(jt.requestAnimationFrame)return function(t){jt.requestAnimationFrame(t)};if(jt.mozRequestAnimationFrame)return function(t){jt.mozRequestAnimationFrame(t)};if(jt.webkitRequestAnimationFrame)return function(t){jt.webkitRequestAnimationFrame(t)};if(jt.msRequestAnimationFrame)return function(t){jt.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(Jp())},1e3/60)}}(),Il=function(e){return j1(e)},Dn=Jp,mi=9261,eg=65599,Do=5381,tg=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mi,a=r,o;o=e.next(),!o.done;)a=a*eg+o.value|0;return a},Io=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mi;return r*eg+e|0},Oo=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Do;return(r<<5)+r+e|0},V1=function(e,r){return e*2097152+r},ea=function(e){return e[0]*2097152+e[1]},dl=function(e,r){return[Io(e[0],r[0]),Oo(e[1],r[1])]},_1=function(e,r){var a={value:0,done:!1},o=0,s=e.length,l={next:function(){return o<s?a.value=e[o++]:a.done=!0,a}};return tg(l,r)},Ba=function(e,r){var a={value:0,done:!1},o=0,s=e.length,l={next:function(){return o<s?a.value=e.charCodeAt(o++):a.done=!0,a}};return tg(l,r)},rg=function(){return $1(arguments)},$1=function(e){for(var r,a=0;a<e.length;a++){var o=e[a];a===0?r=Ba(o):r=Ba(o,r)}return r},Mh=!0,U1=console.warn!=null,H1=console.trace!=null,Nf=Number.MAX_SAFE_INTEGER||9007199254740991,ng=function(){return!0},Ol=function(){return!1},Ih=function(){return 0},Lf=function(){},Nt=function(e){throw new Error(e)},ag=function(e){if(e!==void 0)Mh=!!e;else return Mh},ct=function(e){ag()&&(U1?console.warn(e):(console.log(e),H1&&console.trace()))},q1=function(e){return Ue({},e)},dn=function(e){return e==null?e:vt(e)?e.slice():nt(e)?q1(e):e},W1=function(e){return e.slice()},ig=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},K1={},og=function(){return K1},er=function(e){var r=Object.keys(e);return function(a){for(var o={},s=0;s<r.length;s++){var l=r[s],u=a==null?void 0:a[l];o[l]=u===void 0?e[l]:u}return o}},sa=function(e,r,a){for(var o=e.length-1;o>=0;o--)e[o]===r&&e.splice(o,1)},Rf=function(e){e.splice(0,e.length)},G1=function(e,r){for(var a=0;a<r.length;a++){var o=r[a];e.push(o)}},nn=function(e,r,a){return a&&(r=Kp(a,r)),e[r]},ra=function(e,r,a,o){a&&(r=Kp(a,r)),e[r]=o},Y1=function(){function t(){bf(this,t),this._obj={}}return Tf(t,[{key:"set",value:function(r,a){return this._obj[r]=a,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}]),t}(),vn=typeof Map<"u"?Map:Y1,Q1="undefined",X1=function(){function t(e){if(bf(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var a=0;a<r.length;a++)this.add(r[a])}}return Tf(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var a=this._obj;a[r]!==1&&(a[r]=1,this.size++)}},{key:"delete",value:function(r){var a=this._obj;a[r]===1&&(a[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(a){return r.has(a)})}},{key:"forEach",value:function(r,a){return this.toArray().forEach(r,a)}}]),t}(),Pi=(typeof Set>"u"?"undefined":_t(Set))!==Q1?Set:X1,Kl=function(e,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!Df(e)){Nt("An element must have a core reference and parameters set");return}var o=r.group;if(o==null&&(r.data&&r.data.source!=null&&r.data.target!=null?o="edges":o="nodes"),o!=="nodes"&&o!=="edges"){Nt("An element must be of type `nodes` or `edges`; you specified `"+o+"`");return}this.length=1,this[0]=this;var s=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:o,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?o==="edges":!!r.pannable,active:!1,classes:new Pi,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(s.position.x==null&&(s.position.x=0),s.position.y==null&&(s.position.y=0),r.renderedPosition){var l=r.renderedPosition,u=e.pan(),d=e.zoom();s.position={x:(l.x-u.x)/d,y:(l.y-u.y)/d}}var f=[];vt(r.classes)?f=r.classes:Fe(r.classes)&&(f=r.classes.split(/\s+/));for(var v=0,h=f.length;v<h;v++){var g=f[v];!g||g===""||s.classes.add(g)}this.createEmitter();var y=r.style||r.css;y&&(ct("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(y)),(a===void 0||a)&&this.restore()},Oh=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(a,o,s){var l;nt(a)&&!Ir(a)&&(l=a,a=l.roots||l.root,o=l.visit,s=l.directed),s=arguments.length===2&&!bt(o)?o:s,o=bt(o)?o:function(){};for(var u=this._private.cy,d=a=Fe(a)?this.filter(a):a,f=[],v=[],h={},g={},y={},m=0,C,x=this.byGroup(),E=x.nodes,k=x.edges,b=0;b<d.length;b++){var T=d[b],R=T.id();T.isNode()&&(f.unshift(T),e.bfs&&(y[R]=!0,v.push(T)),g[R]=0)}for(var N=function(){var _=e.bfs?f.shift():f.pop(),L=_.id();if(e.dfs){if(y[L])return"continue";y[L]=!0,v.push(_)}var $=g[L],V=h[L],U=V!=null?V.source():null,H=V!=null?V.target():null,K=V==null?void 0:_.same(U)?H[0]:U[0],Y=void 0;if(Y=o(_,V,K,m++,$),Y===!0)return C=_,"break";if(Y===!1)return"break";for(var M=_.connectedEdges().filter(function(ue){return(!s||ue.source().same(_))&&k.has(ue)}),q=0;q<M.length;q++){var te=M[q],ie=te.connectedNodes().filter(function(ue){return!ue.same(_)&&E.has(ue)}),se=ie.id();ie.length!==0&&!y[se]&&(ie=ie[0],f.push(ie),e.bfs&&(y[se]=!0,v.push(ie)),h[se]=te,g[se]=g[L]+1)}};f.length!==0;){var D=N();if(D!=="continue"&&D==="break")break}for(var I=u.collection(),B=0;B<v.length;B++){var F=v[B],A=h[F.id()];A!=null&&I.push(A),I.push(F)}return{path:u.collection(I),found:u.collection(C)}}},zo={breadthFirstSearch:Oh({bfs:!0}),depthFirstSearch:Oh({dfs:!0})};zo.bfs=zo.breadthFirstSearch;zo.dfs=zo.depthFirstSearch;var Z1=r1(function(t,e){(function(){var r,a,o,s,l,u,d,f,v,h,g,y,m,C,x;o=Math.floor,h=Math.min,a=function(E,k){return E<k?-1:E>k?1:0},v=function(E,k,b,T,R){var N;if(b==null&&(b=0),R==null&&(R=a),b<0)throw new Error("lo must be non-negative");for(T==null&&(T=E.length);b<T;)N=o((b+T)/2),R(k,E[N])<0?T=N:b=N+1;return[].splice.apply(E,[b,b-b].concat(k)),k},u=function(E,k,b){return b==null&&(b=a),E.push(k),C(E,0,E.length-1,b)},l=function(E,k){var b,T;return k==null&&(k=a),b=E.pop(),E.length?(T=E[0],E[0]=b,x(E,0,k)):T=b,T},f=function(E,k,b){var T;return b==null&&(b=a),T=E[0],E[0]=k,x(E,0,b),T},d=function(E,k,b){var T;return b==null&&(b=a),E.length&&b(E[0],k)<0&&(T=[E[0],k],k=T[0],E[0]=T[1],x(E,0,b)),k},s=function(E,k){var b,T,R,N,D,I;for(k==null&&(k=a),N=(function(){I=[];for(var B=0,F=o(E.length/2);0<=F?B<F:B>F;0<=F?B++:B--)I.push(B);return I}).apply(this).reverse(),D=[],T=0,R=N.length;T<R;T++)b=N[T],D.push(x(E,b,k));return D},m=function(E,k,b){var T;if(b==null&&(b=a),T=E.indexOf(k),T!==-1)return C(E,0,T,b),x(E,T,b)},g=function(E,k,b){var T,R,N,D,I;if(b==null&&(b=a),R=E.slice(0,k),!R.length)return R;for(s(R,b),I=E.slice(k),N=0,D=I.length;N<D;N++)T=I[N],d(R,T,b);return R.sort(b).reverse()},y=function(E,k,b){var T,R,N,D,I,B,F,A,j;if(b==null&&(b=a),k*10<=E.length){if(N=E.slice(0,k).sort(b),!N.length)return N;for(R=N[N.length-1],F=E.slice(k),D=0,B=F.length;D<B;D++)T=F[D],b(T,R)<0&&(v(N,T,0,null,b),N.pop(),R=N[N.length-1]);return N}for(s(E,b),j=[],I=0,A=h(k,E.length);0<=A?I<A:I>A;0<=A?++I:--I)j.push(l(E,b));return j},C=function(E,k,b,T){var R,N,D;for(T==null&&(T=a),R=E[b];b>k;){if(D=b-1>>1,N=E[D],T(R,N)<0){E[b]=N,b=D;continue}break}return E[b]=R},x=function(E,k,b){var T,R,N,D,I;for(b==null&&(b=a),R=E.length,I=k,N=E[k],T=2*k+1;T<R;)D=T+1,D<R&&!(b(E[T],E[D])<0)&&(T=D),E[k]=E[T],k=T,T=2*k+1;return E[k]=N,C(E,I,k,b)},r=function(){E.push=u,E.pop=l,E.replace=f,E.pushpop=d,E.heapify=s,E.updateItem=m,E.nlargest=g,E.nsmallest=y;function E(k){this.cmp=k??a,this.nodes=[]}return E.prototype.push=function(k){return u(this.nodes,k,this.cmp)},E.prototype.pop=function(){return l(this.nodes,this.cmp)},E.prototype.peek=function(){return this.nodes[0]},E.prototype.contains=function(k){return this.nodes.indexOf(k)!==-1},E.prototype.replace=function(k){return f(this.nodes,k,this.cmp)},E.prototype.pushpop=function(k){return d(this.nodes,k,this.cmp)},E.prototype.heapify=function(){return s(this.nodes,this.cmp)},E.prototype.updateItem=function(k){return m(this.nodes,k,this.cmp)},E.prototype.clear=function(){return this.nodes=[]},E.prototype.empty=function(){return this.nodes.length===0},E.prototype.size=function(){return this.nodes.length},E.prototype.clone=function(){var k;return k=new E,k.nodes=this.nodes.slice(0),k},E.prototype.toArray=function(){return this.nodes.slice(0)},E.prototype.insert=E.prototype.push,E.prototype.top=E.prototype.peek,E.prototype.front=E.prototype.peek,E.prototype.has=E.prototype.contains,E.prototype.copy=E.prototype.clone,E}(),function(E,k){return t.exports=k()}(this,function(){return r})}).call(To)}),Ko=Z1,J1=er({root:null,weight:function(e){return 1},directed:!1}),ew={dijkstra:function(e){if(!nt(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var a=J1(e),o=a.root,s=a.weight,l=a.directed,u=this,d=s,f=Fe(o)?this.filter(o)[0]:o[0],v={},h={},g={},y=this.byGroup(),m=y.nodes,C=y.edges;C.unmergeBy(function($){return $.isLoop()});for(var x=function(V){return v[V.id()]},E=function(V,U){v[V.id()]=U,k.updateItem(V)},k=new Ko(function($,V){return x($)-x(V)}),b=0;b<m.length;b++){var T=m[b];v[T.id()]=T.same(f)?0:1/0,k.push(T)}for(var R=function(V,U){for(var H=(l?V.edgesTo(U):V.edgesWith(U)).intersect(C),K=1/0,Y,M=0;M<H.length;M++){var q=H[M],te=d(q);(te<K||!Y)&&(K=te,Y=q)}return{edge:Y,dist:K}};k.size()>0;){var N=k.pop(),D=x(N),I=N.id();if(g[I]=D,D!==1/0)for(var B=N.neighborhood().intersect(m),F=0;F<B.length;F++){var A=B[F],j=A.id(),_=R(N,A),L=D+_.dist;L<x(A)&&(E(A,L),h[j]={node:N,edge:_.edge})}}return{distanceTo:function(V){var U=Fe(V)?m.filter(V)[0]:V[0];return g[U.id()]},pathTo:function(V){var U=Fe(V)?m.filter(V)[0]:V[0],H=[],K=U,Y=K.id();if(U.length>0)for(H.unshift(U);h[Y];){var M=h[Y];H.unshift(M.edge),H.unshift(M.node),K=M.node,Y=K.id()}return u.spawn(H)}}}},tw={kruskal:function(e){e=e||function(b){return 1};for(var r=this.byGroup(),a=r.nodes,o=r.edges,s=a.length,l=new Array(s),u=a,d=function(T){for(var R=0;R<l.length;R++){var N=l[R];if(N.has(T))return R}},f=0;f<s;f++)l[f]=this.spawn(a[f]);for(var v=o.sort(function(b,T){return e(b)-e(T)}),h=0;h<v.length;h++){var g=v[h],y=g.source()[0],m=g.target()[0],C=d(y),x=d(m),E=l[C],k=l[x];C!==x&&(u.merge(g),E.merge(k),l.splice(x,1))}return u}},rw=er({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),nw={aStar:function(e){var r=this.cy(),a=rw(e),o=a.root,s=a.goal,l=a.heuristic,u=a.directed,d=a.weight;o=r.collection(o)[0],s=r.collection(s)[0];var f=o.id(),v=s.id(),h={},g={},y={},m=new Ko(function(Y,M){return g[Y.id()]-g[M.id()]}),C=new Pi,x={},E={},k=function(M,q){m.push(M),C.add(q)},b,T,R=function(){b=m.pop(),T=b.id(),C.delete(T)},N=function(M){return C.has(M)};k(o,f),h[f]=0,g[f]=l(o);for(var D=0;m.size()>0;){if(R(),D++,T===v){for(var I=[],B=s,F=v,A=E[F];I.unshift(B),A!=null&&I.unshift(A),B=x[F],B!=null;)F=B.id(),A=E[F];return{found:!0,distance:h[T],path:this.spawn(I),steps:D}}y[T]=!0;for(var j=b._private.edges,_=0;_<j.length;_++){var L=j[_];if(this.hasElementWithId(L.id())&&!(u&&L.data("source")!==T)){var $=L.source(),V=L.target(),U=$.id()!==T?$:V,H=U.id();if(this.hasElementWithId(H)&&!y[H]){var K=h[T]+d(L);if(!N(H)){h[H]=K,g[H]=K+l(U),k(U,H),x[H]=b,E[H]=L;continue}K<h[H]&&(h[H]=K,g[H]=K+l(U),x[H]=b,E[H]=L)}}}}return{found:!1,distance:void 0,path:void 0,steps:D}}},aw=er({weight:function(e){return 1},directed:!1}),iw={floydWarshall:function(e){for(var r=this.cy(),a=aw(e),o=a.weight,s=a.directed,l=o,u=this.byGroup(),d=u.nodes,f=u.edges,v=d.length,h=v*v,g=function(te){return d.indexOf(te)},y=function(te){return d[te]},m=new Array(h),C=0;C<h;C++){var x=C%v,E=(C-x)/v;E===x?m[C]=0:m[C]=1/0}for(var k=new Array(h),b=new Array(h),T=0;T<f.length;T++){var R=f[T],N=R.source()[0],D=R.target()[0];if(N!==D){var I=g(N),B=g(D),F=I*v+B,A=l(R);if(m[F]>A&&(m[F]=A,k[F]=B,b[F]=R),!s){var j=B*v+I;!s&&m[j]>A&&(m[j]=A,k[j]=I,b[j]=R)}}}for(var _=0;_<v;_++)for(var L=0;L<v;L++)for(var $=L*v+_,V=0;V<v;V++){var U=L*v+V,H=_*v+V;m[$]+m[H]<m[U]&&(m[U]=m[$]+m[H],k[U]=k[$])}var K=function(te){return(Fe(te)?r.filter(te):te)[0]},Y=function(te){return g(K(te))},M={distance:function(te,ie){var se=Y(te),ue=Y(ie);return m[se*v+ue]},path:function(te,ie){var se=Y(te),ue=Y(ie),ce=y(se);if(se===ue)return ce.collection();if(k[se*v+ue]==null)return r.collection();var ae=r.collection(),Q=se,le;for(ae.merge(ce);se!==ue;)Q=se,se=k[se*v+ue],le=b[Q*v+se],ae.merge(le),ae.merge(y(se));return ae}};return M}},ow=er({weight:function(e){return 1},directed:!1,root:null}),sw={bellmanFord:function(e){var r=this,a=ow(e),o=a.weight,s=a.directed,l=a.root,u=o,d=this,f=this.cy(),v=this.byGroup(),h=v.edges,g=v.nodes,y=g.length,m=new vn,C=!1,x=[];l=f.collection(l)[0],h.unmergeBy(function(Pe){return Pe.isLoop()});for(var E=h.length,k=function(Te){var Ae=m.get(Te.id());return Ae||(Ae={},m.set(Te.id(),Ae)),Ae},b=function(Te){return(Fe(Te)?f.$(Te):Te)[0]},T=function(Te){return k(b(Te)).dist},R=function(Te){for(var Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l,Ze=b(Te),Qe=[],Ge=Ze;;){if(Ge==null)return r.spawn();var at=k(Ge),Ye=at.edge,Je=at.pred;if(Qe.unshift(Ge[0]),Ge.same(Ae)&&Qe.length>0)break;Ye!=null&&Qe.unshift(Ye),Ge=Je}return d.spawn(Qe)},N=0;N<y;N++){var D=g[N],I=k(D);D.same(l)?I.dist=0:I.dist=1/0,I.pred=null,I.edge=null}for(var B=!1,F=function(Te,Ae,Ze,Qe,Ge,at){var Ye=Qe.dist+at;Ye<Ge.dist&&!Ze.same(Qe.edge)&&(Ge.dist=Ye,Ge.pred=Te,Ge.edge=Ze,B=!0)},A=1;A<y;A++){B=!1;for(var j=0;j<E;j++){var _=h[j],L=_.source(),$=_.target(),V=u(_),U=k(L),H=k($);F(L,$,_,U,H,V),s||F($,L,_,H,U,V)}if(!B)break}if(B)for(var K=[],Y=0;Y<E;Y++){var M=h[Y],q=M.source(),te=M.target(),ie=u(M),se=k(q).dist,ue=k(te).dist;if(se+ie<ue||!s&&ue+ie<se)if(C||(ct("Graph contains a negative weight cycle for Bellman-Ford"),C=!0),e.findNegativeWeightCycles!==!1){var ce=[];se+ie<ue&&ce.push(q),!s&&ue+ie<se&&ce.push(te);for(var ae=ce.length,Q=0;Q<ae;Q++){var le=ce[Q],de=[le];de.push(k(le).edge);for(var Ee=k(le).pred;de.indexOf(Ee)===-1;)de.push(Ee),de.push(k(Ee).edge),Ee=k(Ee).pred;de=de.slice(de.indexOf(Ee));for(var ze=de[0].id(),xe=0,we=2;we<de.length;we+=2)de[we].id()<ze&&(ze=de[we].id(),xe=we);de=de.slice(xe).concat(de.slice(0,xe)),de.push(de[0]);var Re=de.map(function(Pe){return Pe.id()}).join(",");K.indexOf(Re)===-1&&(x.push(d.spawn(de)),K.push(Re))}}else break}return{distanceTo:T,pathTo:R,hasNegativeWeightCycle:C,negativeWeightCycles:x}}},lw=Math.sqrt(2),uw=function(e,r,a){a.length===0&&Nt("Karger-Stein must be run on a connected (sub)graph");for(var o=a[e],s=o[1],l=o[2],u=r[s],d=r[l],f=a,v=f.length-1;v>=0;v--){var h=f[v],g=h[1],y=h[2];(r[g]===u&&r[y]===d||r[g]===d&&r[y]===u)&&f.splice(v,1)}for(var m=0;m<f.length;m++){var C=f[m];C[1]===d?(f[m]=C.slice(),f[m][1]=u):C[2]===d&&(f[m]=C.slice(),f[m][2]=u)}for(var x=0;x<r.length;x++)r[x]===d&&(r[x]=u);return f},Yc=function(e,r,a,o){for(;a>o;){var s=Math.floor(Math.random()*r.length);r=uw(s,e,r),a--}return r},cw={kargerStein:function(){var e=this,r=this.byGroup(),a=r.nodes,o=r.edges;o.unmergeBy(function(H){return H.isLoop()});var s=a.length,l=o.length,u=Math.ceil(Math.pow(Math.log(s)/Math.LN2,2)),d=Math.floor(s/lw);if(s<2){Nt("At least 2 nodes are required for Karger-Stein algorithm");return}for(var f=[],v=0;v<l;v++){var h=o[v];f.push([v,a.indexOf(h.source()),a.indexOf(h.target())])}for(var g=1/0,y=[],m=new Array(s),C=new Array(s),x=new Array(s),E=function(K,Y){for(var M=0;M<s;M++)Y[M]=K[M]},k=0;k<=u;k++){for(var b=0;b<s;b++)C[b]=b;var T=Yc(C,f.slice(),s,d),R=T.slice();E(C,x);var N=Yc(C,T,d,2),D=Yc(x,R,d,2);N.length<=D.length&&N.length<g?(g=N.length,y=N,E(C,m)):D.length<=N.length&&D.length<g&&(g=D.length,y=D,E(x,m))}for(var I=this.spawn(y.map(function(H){return o[H[0]]})),B=this.spawn(),F=this.spawn(),A=m[0],j=0;j<m.length;j++){var _=m[j],L=a[j];_===A?B.merge(L):F.merge(L)}var $=function(K){var Y=e.spawn();return K.forEach(function(M){Y.merge(M),M.connectedEdges().forEach(function(q){e.contains(q)&&!I.contains(q)&&Y.merge(q)})}),Y},V=[$(B),$(F)],U={cut:I,components:V,partition1:B,partition2:F};return U}},fw=function(e){return{x:e.x,y:e.y}},Gl=function(e,r,a){return{x:e.x*r+a.x,y:e.y*r+a.y}},sg=function(e,r,a){return{x:(e.x-a.x)/r,y:(e.y-a.y)/r}},yi=function(e){return{x:e[0],y:e[1]}},dw=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,o=1/0,s=r;s<a;s++){var l=e[s];isFinite(l)&&(o=Math.min(l,o))}return o},vw=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,o=-1/0,s=r;s<a;s++){var l=e[s];isFinite(l)&&(o=Math.max(l,o))}return o},hw=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,o=0,s=0,l=r;l<a;l++){var u=e[l];isFinite(u)&&(o+=u,s++)}return o/s},pw=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;o?e=e.slice(r,a):(a<e.length&&e.splice(a,e.length-a),r>0&&e.splice(0,r));for(var u=0,d=e.length-1;d>=0;d--){var f=e[d];l?isFinite(f)||(e[d]=-1/0,u++):e.splice(d,1)}s&&e.sort(function(g,y){return g-y});var v=e.length,h=Math.floor(v/2);return v%2!==0?e[h+1+u]:(e[h-1+u]+e[h+u])/2},gw=function(e){return Math.PI*e/180},vl=function(e,r){return Math.atan2(r,e)-Math.PI/2},Bf=Math.log2||function(t){return Math.log(t)/Math.log(2)},lg=function(e){return e>0?1:e<0?-1:0},Ma=function(e,r){return Math.sqrt(Ta(e,r))},Ta=function(e,r){var a=r.x-e.x,o=r.y-e.y;return a*a+o*o},mw=function(e){for(var r=e.length,a=0,o=0;o<r;o++)a+=e[o];for(var s=0;s<r;s++)e[s]=e[s]/a;return e},Gt=function(e,r,a,o){return(1-o)*(1-o)*e+2*(1-o)*o*r+o*o*a},xi=function(e,r,a,o){return{x:Gt(e.x,r.x,a.x,o),y:Gt(e.y,r.y,a.y,o)}},yw=function(e,r,a,o){var s={x:r.x-e.x,y:r.y-e.y},l=Ma(e,r),u={x:s.x/l,y:s.y/l};return a=a??0,o=o??a*l,{x:e.x+u.x*o,y:e.y+u.y*o}},Ao=function(e,r,a){return Math.max(e,Math.min(a,r))},Nr=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},ww=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},xw=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},Ew=function(e,r,a){return{x1:e.x1+r,x2:e.x2+r,y1:e.y1+a,y2:e.y2+a,w:e.w,h:e.h}},ug=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},Sw=function(e,r,a){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,a),e.y2=Math.max(e.y2,a),e.h=e.y2-e.y1},kl=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},bl=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],a,o,s,l;if(r.length===1)a=o=s=l=r[0];else if(r.length===2)a=s=r[0],l=o=r[1];else if(r.length===4){var u=tn(r,4);a=u[0],o=u[1],s=u[2],l=u[3]}return e.x1-=l,e.x2+=o,e.y1-=a,e.y2+=s,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},zh=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},Mf=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},bi=function(e,r,a){return e.x1<=r&&r<=e.x2&&e.y1<=a&&a<=e.y2},Cw=function(e,r){return bi(e,r.x,r.y)},cg=function(e,r){return bi(e,r.x1,r.y1)&&bi(e,r.x2,r.y2)},fg=function(e,r,a,o,s,l,u){var d=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",f=d==="auto"?Ia(s,l):d,v=s/2,h=l/2;f=Math.min(f,v,h);var g=f!==v,y=f!==h,m;if(g){var C=a-v+f-u,x=o-h-u,E=a+v-f+u,k=x;if(m=na(e,r,a,o,C,x,E,k,!1),m.length>0)return m}if(y){var b=a+v+u,T=o-h+f-u,R=b,N=o+h-f+u;if(m=na(e,r,a,o,b,T,R,N,!1),m.length>0)return m}if(g){var D=a-v+f-u,I=o+h+u,B=a+v-f+u,F=I;if(m=na(e,r,a,o,D,I,B,F,!1),m.length>0)return m}if(y){var A=a-v-u,j=o-h+f-u,_=A,L=o+h-f+u;if(m=na(e,r,a,o,A,j,_,L,!1),m.length>0)return m}var $;{var V=a-v+f,U=o-h+f;if($=Po(e,r,a,o,V,U,f+u),$.length>0&&$[0]<=V&&$[1]<=U)return[$[0],$[1]]}{var H=a+v-f,K=o-h+f;if($=Po(e,r,a,o,H,K,f+u),$.length>0&&$[0]>=H&&$[1]<=K)return[$[0],$[1]]}{var Y=a+v-f,M=o+h-f;if($=Po(e,r,a,o,Y,M,f+u),$.length>0&&$[0]>=Y&&$[1]>=M)return[$[0],$[1]]}{var q=a-v+f,te=o+h-f;if($=Po(e,r,a,o,q,te,f+u),$.length>0&&$[0]<=q&&$[1]>=te)return[$[0],$[1]]}return[]},kw=function(e,r,a,o,s,l,u){var d=u,f=Math.min(a,s),v=Math.max(a,s),h=Math.min(o,l),g=Math.max(o,l);return f-d<=e&&e<=v+d&&h-d<=r&&r<=g+d},bw=function(e,r,a,o,s,l,u,d,f){var v={x1:Math.min(a,u,s)-f,x2:Math.max(a,u,s)+f,y1:Math.min(o,d,l)-f,y2:Math.max(o,d,l)+f};return!(e<v.x1||e>v.x2||r<v.y1||r>v.y2)},Tw=function(e,r,a,o){a-=o;var s=r*r-4*e*a;if(s<0)return[];var l=Math.sqrt(s),u=2*e,d=(-r+l)/u,f=(-r-l)/u;return[d,f]},Dw=function(e,r,a,o,s){var l=1e-5;e===0&&(e=l),r/=e,a/=e,o/=e;var u,d,f,v,h,g,y,m;if(d=(3*a-r*r)/9,f=-(27*o)+r*(9*a-2*(r*r)),f/=54,u=d*d*d+f*f,s[1]=0,y=r/3,u>0){h=f+Math.sqrt(u),h=h<0?-Math.pow(-h,1/3):Math.pow(h,1/3),g=f-Math.sqrt(u),g=g<0?-Math.pow(-g,1/3):Math.pow(g,1/3),s[0]=-y+h+g,y+=(h+g)/2,s[4]=s[2]=-y,y=Math.sqrt(3)*(-g+h)/2,s[3]=y,s[5]=-y;return}if(s[5]=s[3]=0,u===0){m=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),s[0]=-y+2*m,s[4]=s[2]=-(m+y);return}d=-d,v=d*d*d,v=Math.acos(f/Math.sqrt(v)),m=2*Math.sqrt(d),s[0]=-y+m*Math.cos(v/3),s[2]=-y+m*Math.cos((v+2*Math.PI)/3),s[4]=-y+m*Math.cos((v+4*Math.PI)/3)},Pw=function(e,r,a,o,s,l,u,d){var f=1*a*a-4*a*s+2*a*u+4*s*s-4*s*u+u*u+o*o-4*o*l+2*o*d+4*l*l-4*l*d+d*d,v=1*9*a*s-3*a*a-3*a*u-6*s*s+3*s*u+9*o*l-3*o*o-3*o*d-6*l*l+3*l*d,h=1*3*a*a-6*a*s+a*u-a*e+2*s*s+2*s*e-u*e+3*o*o-6*o*l+o*d-o*r+2*l*l+2*l*r-d*r,g=1*a*s-a*a+a*e-s*e+o*l-o*o+o*r-l*r,y=[];Dw(f,v,h,g,y);for(var m=1e-7,C=[],x=0;x<6;x+=2)Math.abs(y[x+1])<m&&y[x]>=0&&y[x]<=1&&C.push(y[x]);C.push(1),C.push(0);for(var E=-1,k,b,T,R=0;R<C.length;R++)k=Math.pow(1-C[R],2)*a+2*(1-C[R])*C[R]*s+C[R]*C[R]*u,b=Math.pow(1-C[R],2)*o+2*(1-C[R])*C[R]*l+C[R]*C[R]*d,T=Math.pow(k-e,2)+Math.pow(b-r,2),E>=0?T<E&&(E=T):E=T;return E},Nw=function(e,r,a,o,s,l){var u=[e-a,r-o],d=[s-a,l-o],f=d[0]*d[0]+d[1]*d[1],v=u[0]*u[0]+u[1]*u[1],h=u[0]*d[0]+u[1]*d[1],g=h*h/f;return h<0?v:g>f?(e-s)*(e-s)+(r-l)*(r-l):v-g},Pr=function(e,r,a){for(var o,s,l,u,d,f=0,v=0;v<a.length/2;v++)if(o=a[v*2],s=a[v*2+1],v+1<a.length/2?(l=a[(v+1)*2],u=a[(v+1)*2+1]):(l=a[(v+1-a.length/2)*2],u=a[(v+1-a.length/2)*2+1]),!(o==e&&l==e))if(o>=e&&e>=l||o<=e&&e<=l)d=(e-o)/(l-o)*(u-s)+s,d>r&&f++;else continue;return f%2!==0},Pn=function(e,r,a,o,s,l,u,d,f){var v=new Array(a.length),h;d[0]!=null?(h=Math.atan(d[1]/d[0]),d[0]<0?h=h+Math.PI/2:h=-h-Math.PI/2):h=d;for(var g=Math.cos(-h),y=Math.sin(-h),m=0;m<v.length/2;m++)v[m*2]=l/2*(a[m*2]*g-a[m*2+1]*y),v[m*2+1]=u/2*(a[m*2+1]*g+a[m*2]*y),v[m*2]+=o,v[m*2+1]+=s;var C;if(f>0){var x=Al(v,-f);C=zl(x)}else C=v;return Pr(e,r,C)},Lw=function(e,r,a,o,s,l,u,d){for(var f=new Array(a.length*2),v=0;v<d.length;v++){var h=d[v];f[v*4+0]=h.startX,f[v*4+1]=h.startY,f[v*4+2]=h.stopX,f[v*4+3]=h.stopY;var g=Math.pow(h.cx-e,2)+Math.pow(h.cy-r,2);if(g<=Math.pow(h.radius,2))return!0}return Pr(e,r,f)},zl=function(e){for(var r=new Array(e.length/2),a,o,s,l,u,d,f,v,h=0;h<e.length/4;h++){a=e[h*4],o=e[h*4+1],s=e[h*4+2],l=e[h*4+3],h<e.length/4-1?(u=e[(h+1)*4],d=e[(h+1)*4+1],f=e[(h+1)*4+2],v=e[(h+1)*4+3]):(u=e[0],d=e[1],f=e[2],v=e[3]);var g=na(a,o,s,l,u,d,f,v,!0);r[h*2]=g[0],r[h*2+1]=g[1]}return r},Al=function(e,r){for(var a=new Array(e.length*2),o,s,l,u,d=0;d<e.length/2;d++){o=e[d*2],s=e[d*2+1],d<e.length/2-1?(l=e[(d+1)*2],u=e[(d+1)*2+1]):(l=e[0],u=e[1]);var f=u-s,v=-(l-o),h=Math.sqrt(f*f+v*v),g=f/h,y=v/h;a[d*4]=o+g*r,a[d*4+1]=s+y*r,a[d*4+2]=l+g*r,a[d*4+3]=u+y*r}return a},Rw=function(e,r,a,o,s,l){var u=a-e,d=o-r;u/=s,d/=l;var f=Math.sqrt(u*u+d*d),v=f-1;if(v<0)return[];var h=v/f;return[(a-e)*h+e,(o-r)*h+r]},La=function(e,r,a,o,s,l,u){return e-=s,r-=l,e/=a/2+u,r/=o/2+u,e*e+r*r<=1},Po=function(e,r,a,o,s,l,u){var d=[a-e,o-r],f=[e-s,r-l],v=d[0]*d[0]+d[1]*d[1],h=2*(f[0]*d[0]+f[1]*d[1]),g=f[0]*f[0]+f[1]*f[1]-u*u,y=h*h-4*v*g;if(y<0)return[];var m=(-h+Math.sqrt(y))/(2*v),C=(-h-Math.sqrt(y))/(2*v),x=Math.min(m,C),E=Math.max(m,C),k=[];if(x>=0&&x<=1&&k.push(x),E>=0&&E<=1&&k.push(E),k.length===0)return[];var b=k[0]*d[0]+e,T=k[0]*d[1]+r;if(k.length>1){if(k[0]==k[1])return[b,T];var R=k[1]*d[0]+e,N=k[1]*d[1]+r;return[b,T,R,N]}else return[b,T]},Qc=function(e,r,a){return r<=e&&e<=a||a<=e&&e<=r?e:e<=r&&r<=a||a<=r&&r<=e?r:a},na=function(e,r,a,o,s,l,u,d,f){var v=e-s,h=a-e,g=u-s,y=r-l,m=o-r,C=d-l,x=g*y-C*v,E=h*y-m*v,k=C*h-g*m;if(k!==0){var b=x/k,T=E/k,R=.001,N=0-R,D=1+R;return N<=b&&b<=D&&N<=T&&T<=D?[e+b*h,r+b*m]:f?[e+b*h,r+b*m]:[]}else return x===0||E===0?Qc(e,a,u)===u?[u,d]:Qc(e,a,s)===s?[s,l]:Qc(s,u,a)===a?[a,o]:[]:[]},Fo=function(e,r,a,o,s,l,u,d){var f=[],v,h=new Array(a.length),g=!0;l==null&&(g=!1);var y;if(g){for(var m=0;m<h.length/2;m++)h[m*2]=a[m*2]*l+o,h[m*2+1]=a[m*2+1]*u+s;if(d>0){var C=Al(h,-d);y=zl(C)}else y=h}else y=a;for(var x,E,k,b,T=0;T<y.length/2;T++)x=y[T*2],E=y[T*2+1],T<y.length/2-1?(k=y[(T+1)*2],b=y[(T+1)*2+1]):(k=y[0],b=y[1]),v=na(e,r,o,s,x,E,k,b),v.length!==0&&f.push(v[0],v[1]);return f},Bw=function(e,r,a,o,s,l,u,d,f){var v=[],h,g=new Array(a.length*2);f.forEach(function(k,b){b===0?(g[g.length-2]=k.startX,g[g.length-1]=k.startY):(g[b*4-2]=k.startX,g[b*4-1]=k.startY),g[b*4]=k.stopX,g[b*4+1]=k.stopY,h=Po(e,r,o,s,k.cx,k.cy,k.radius),h.length!==0&&v.push(h[0],h[1])});for(var y=0;y<g.length/4;y++)h=na(e,r,o,s,g[y*4],g[y*4+1],g[y*4+2],g[y*4+3],!1),h.length!==0&&v.push(h[0],h[1]);if(v.length>2){for(var m=[v[0],v[1]],C=Math.pow(m[0]-e,2)+Math.pow(m[1]-r,2),x=1;x<v.length/2;x++){var E=Math.pow(v[x*2]-e,2)+Math.pow(v[x*2+1]-r,2);E<=C&&(m[0]=v[x*2],m[1]=v[x*2+1],C=E)}return m}return v},hl=function(e,r,a){var o=[e[0]-r[0],e[1]-r[1]],s=Math.sqrt(o[0]*o[0]+o[1]*o[1]),l=(s-a)/s;return l<0&&(l=1e-5),[r[0]+l*o[0],r[1]+l*o[1]]},xr=function(e,r){var a=lf(e,r);return a=dg(a),a},dg=function(e){for(var r,a,o=e.length/2,s=1/0,l=1/0,u=-1/0,d=-1/0,f=0;f<o;f++)r=e[2*f],a=e[2*f+1],s=Math.min(s,r),u=Math.max(u,r),l=Math.min(l,a),d=Math.max(d,a);for(var v=2/(u-s),h=2/(d-l),g=0;g<o;g++)r=e[2*g]=e[2*g]*v,a=e[2*g+1]=e[2*g+1]*h,s=Math.min(s,r),u=Math.max(u,r),l=Math.min(l,a),d=Math.max(d,a);if(l<-1)for(var y=0;y<o;y++)a=e[2*y+1]=e[2*y+1]+(-1-l);return e},lf=function(e,r){var a=1/e*2*Math.PI,o=e%2===0?Math.PI/2+a/2:Math.PI/2;o+=r;for(var s=new Array(e*2),l,u=0;u<e;u++)l=u*a+o,s[2*u]=Math.cos(l),s[2*u+1]=Math.sin(-l);return s},Ia=function(e,r){return Math.min(e/4,r/4,8)},vg=function(e,r){return Math.min(e/10,r/10,8)},If=function(){return 8},Mw=function(e,r,a){return[e-2*r+a,2*(r-e),e]},uf=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},Iw=er({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),Ow={pageRank:function(e){for(var r=Iw(e),a=r.dampingFactor,o=r.precision,s=r.iterations,l=r.weight,u=this._private.cy,d=this.byGroup(),f=d.nodes,v=d.edges,h=f.length,g=h*h,y=v.length,m=new Array(g),C=new Array(h),x=(1-a)/h,E=0;E<h;E++){for(var k=0;k<h;k++){var b=E*h+k;m[b]=0}C[E]=0}for(var T=0;T<y;T++){var R=v[T],N=R.data("source"),D=R.data("target");if(N!==D){var I=f.indexOfId(N),B=f.indexOfId(D),F=l(R),A=B*h+I;m[A]+=F,C[I]+=F}}for(var j=1/h+x,_=0;_<h;_++)if(C[_]===0)for(var L=0;L<h;L++){var $=L*h+_;m[$]=j}else for(var V=0;V<h;V++){var U=V*h+_;m[U]=m[U]/C[_]+x}for(var H=new Array(h),K=new Array(h),Y,M=0;M<h;M++)H[M]=1;for(var q=0;q<s;q++){for(var te=0;te<h;te++)K[te]=0;for(var ie=0;ie<h;ie++)for(var se=0;se<h;se++){var ue=ie*h+se;K[ie]+=m[ue]*H[se]}mw(K),Y=H,H=K,K=Y;for(var ce=0,ae=0;ae<h;ae++){var Q=Y[ae]-H[ae];ce+=Q*Q}if(ce<o)break}var le={rank:function(Ee){return Ee=u.collection(Ee)[0],H[f.indexOf(Ee)]}};return le}},Ah=er({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Ei={degreeCentralityNormalized:function(e){e=Ah(e);var r=this.cy(),a=this.nodes(),o=a.length;if(e.directed){for(var v={},h={},g=0,y=0,m=0;m<o;m++){var C=a[m],x=C.id();e.root=C;var E=this.degreeCentrality(e);g<E.indegree&&(g=E.indegree),y<E.outdegree&&(y=E.outdegree),v[x]=E.indegree,h[x]=E.outdegree}return{indegree:function(b){return g==0?0:(Fe(b)&&(b=r.filter(b)),v[b.id()]/g)},outdegree:function(b){return y===0?0:(Fe(b)&&(b=r.filter(b)),h[b.id()]/y)}}}else{for(var s={},l=0,u=0;u<o;u++){var d=a[u];e.root=d;var f=this.degreeCentrality(e);l<f.degree&&(l=f.degree),s[d.id()]=f.degree}return{degree:function(b){return l===0?0:(Fe(b)&&(b=r.filter(b)),s[b.id()]/l)}}}},degreeCentrality:function(e){e=Ah(e);var r=this.cy(),a=this,o=e,s=o.root,l=o.weight,u=o.directed,d=o.alpha;if(s=r.collection(s)[0],u){for(var y=s.connectedEdges(),m=y.filter(function(N){return N.target().same(s)&&a.has(N)}),C=y.filter(function(N){return N.source().same(s)&&a.has(N)}),x=m.length,E=C.length,k=0,b=0,T=0;T<m.length;T++)k+=l(m[T]);for(var R=0;R<C.length;R++)b+=l(C[R]);return{indegree:Math.pow(x,1-d)*Math.pow(k,d),outdegree:Math.pow(E,1-d)*Math.pow(b,d)}}else{for(var f=s.connectedEdges().intersection(a),v=f.length,h=0,g=0;g<f.length;g++)h+=l(f[g]);return{degree:Math.pow(v,1-d)*Math.pow(h,d)}}}};Ei.dc=Ei.degreeCentrality;Ei.dcn=Ei.degreeCentralityNormalised=Ei.degreeCentralityNormalized;var Fh=er({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Si={closenessCentralityNormalized:function(e){for(var r=Fh(e),a=r.harmonic,o=r.weight,s=r.directed,l=this.cy(),u={},d=0,f=this.nodes(),v=this.floydWarshall({weight:o,directed:s}),h=0;h<f.length;h++){for(var g=0,y=f[h],m=0;m<f.length;m++)if(h!==m){var C=v.distance(y,f[m]);a?g+=1/C:g+=C}a||(g=1/g),d<g&&(d=g),u[y.id()]=g}return{closeness:function(E){return d==0?0:(Fe(E)?E=l.filter(E)[0].id():E=E.id(),u[E]/d)}}},closenessCentrality:function(e){var r=Fh(e),a=r.root,o=r.weight,s=r.directed,l=r.harmonic;a=this.filter(a)[0];for(var u=this.dijkstra({root:a,weight:o,directed:s}),d=0,f=this.nodes(),v=0;v<f.length;v++){var h=f[v];if(!h.same(a)){var g=u.distanceTo(h);l?d+=1/g:d+=g}}return l?d:1/d}};Si.cc=Si.closenessCentrality;Si.ccn=Si.closenessCentralityNormalised=Si.closenessCentralityNormalized;var zw=er({weight:null,directed:!1}),cf={betweennessCentrality:function(e){for(var r=zw(e),a=r.directed,o=r.weight,s=o!=null,l=this.cy(),u=this.nodes(),d={},f={},v=0,h={set:function(b,T){f[b]=T,T>v&&(v=T)},get:function(b){return f[b]}},g=0;g<u.length;g++){var y=u[g],m=y.id();a?d[m]=y.outgoers().nodes():d[m]=y.openNeighborhood().nodes(),h.set(m,0)}for(var C=function(b){for(var T=u[b].id(),R=[],N={},D={},I={},B=new Ko(function(se,ue){return I[se]-I[ue]}),F=0;F<u.length;F++){var A=u[F].id();N[A]=[],D[A]=0,I[A]=1/0}for(D[T]=1,I[T]=0,B.push(T);!B.empty();){var j=B.pop();if(R.push(j),s)for(var _=0;_<d[j].length;_++){var L=d[j][_],$=l.getElementById(j),V=void 0;$.edgesTo(L).length>0?V=$.edgesTo(L)[0]:V=L.edgesTo($)[0];var U=o(V);L=L.id(),I[L]>I[j]+U&&(I[L]=I[j]+U,B.nodes.indexOf(L)<0?B.push(L):B.updateItem(L),D[L]=0,N[L]=[]),I[L]==I[j]+U&&(D[L]=D[L]+D[j],N[L].push(j))}else for(var H=0;H<d[j].length;H++){var K=d[j][H].id();I[K]==1/0&&(B.push(K),I[K]=I[j]+1),I[K]==I[j]+1&&(D[K]=D[K]+D[j],N[K].push(j))}}for(var Y={},M=0;M<u.length;M++)Y[u[M].id()]=0;for(;R.length>0;){for(var q=R.pop(),te=0;te<N[q].length;te++){var ie=N[q][te];Y[ie]=Y[ie]+D[ie]/D[q]*(1+Y[q])}q!=u[b].id()&&h.set(q,h.get(q)+Y[q])}},x=0;x<u.length;x++)C(x);var E={betweenness:function(b){var T=l.collection(b).id();return h.get(T)},betweennessNormalized:function(b){if(v==0)return 0;var T=l.collection(b).id();return h.get(T)/v}};return E.betweennessNormalised=E.betweennessNormalized,E}};cf.bc=cf.betweennessCentrality;var Aw=er({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),Fw=function(e){return Aw(e)},jw=function(e,r){for(var a=0,o=0;o<r.length;o++)a+=r[o](e);return a},Vw=function(e,r,a){for(var o=0;o<r;o++)e[o*r+o]=a},hg=function(e,r){for(var a,o=0;o<r;o++){a=0;for(var s=0;s<r;s++)a+=e[s*r+o];for(var l=0;l<r;l++)e[l*r+o]=e[l*r+o]/a}},_w=function(e,r,a){for(var o=new Array(a*a),s=0;s<a;s++){for(var l=0;l<a;l++)o[s*a+l]=0;for(var u=0;u<a;u++)for(var d=0;d<a;d++)o[s*a+d]+=e[s*a+u]*r[u*a+d]}return o},$w=function(e,r,a){for(var o=e.slice(0),s=1;s<a;s++)e=_w(e,o,r);return e},Uw=function(e,r,a){for(var o=new Array(r*r),s=0;s<r*r;s++)o[s]=Math.pow(e[s],a);return hg(o,r),o},Hw=function(e,r,a,o){for(var s=0;s<a;s++){var l=Math.round(e[s]*Math.pow(10,o))/Math.pow(10,o),u=Math.round(r[s]*Math.pow(10,o))/Math.pow(10,o);if(l!==u)return!1}return!0},qw=function(e,r,a,o){for(var s=[],l=0;l<r;l++){for(var u=[],d=0;d<r;d++)Math.round(e[l*r+d]*1e3)/1e3>0&&u.push(a[d]);u.length!==0&&s.push(o.collection(u))}return s},Ww=function(e,r){for(var a=0;a<e.length;a++)if(!r[a]||e[a].id()!==r[a].id())return!1;return!0},Kw=function(e){for(var r=0;r<e.length;r++)for(var a=0;a<e.length;a++)r!=a&&Ww(e[r],e[a])&&e.splice(a,1);return e},jh=function(e){for(var r=this.nodes(),a=this.edges(),o=this.cy(),s=Fw(e),l={},u=0;u<r.length;u++)l[r[u].id()]=u;for(var d=r.length,f=d*d,v=new Array(f),h,g=0;g<f;g++)v[g]=0;for(var y=0;y<a.length;y++){var m=a[y],C=l[m.source().id()],x=l[m.target().id()],E=jw(m,s.attributes);v[C*d+x]+=E,v[x*d+C]+=E}Vw(v,d,s.multFactor),hg(v,d);for(var k=!0,b=0;k&&b<s.maxIterations;)k=!1,h=$w(v,d,s.expandFactor),v=Uw(h,d,s.inflateFactor),Hw(v,h,f,4)||(k=!0),b++;var T=qw(v,d,r,o);return T=Kw(T),T},Gw={markovClustering:jh,mcl:jh},Yw=function(e){return e},pg=function(e,r){return Math.abs(r-e)},Vh=function(e,r,a){return e+pg(r,a)},_h=function(e,r,a){return e+Math.pow(a-r,2)},Qw=function(e){return Math.sqrt(e)},Xw=function(e,r,a){return Math.max(e,pg(r,a))},So=function(e,r,a,o,s){for(var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:Yw,u=o,d,f,v=0;v<e;v++)d=r(v),f=a(v),u=s(u,d,f);return l(u)},Ti={euclidean:function(e,r,a){return e>=2?So(e,r,a,0,_h,Qw):So(e,r,a,0,Vh)},squaredEuclidean:function(e,r,a){return So(e,r,a,0,_h)},manhattan:function(e,r,a){return So(e,r,a,0,Vh)},max:function(e,r,a){return So(e,r,a,-1/0,Xw)}};Ti["squared-euclidean"]=Ti.squaredEuclidean;Ti.squaredeuclidean=Ti.squaredEuclidean;function Yl(t,e,r,a,o,s){var l;return bt(t)?l=t:l=Ti[t]||Ti.euclidean,e===0&&bt(t)?l(o,s):l(e,r,a,o,s)}var Zw=er({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Of=function(e){return Zw(e)},Fl=function(e,r,a,o,s){var l=s!=="kMedoids",u=l?function(h){return a[h]}:function(h){return o[h](a)},d=function(g){return o[g](r)},f=a,v=r;return Yl(e,o.length,u,d,f,v)},Xc=function(e,r,a){for(var o=a.length,s=new Array(o),l=new Array(o),u=new Array(r),d=null,f=0;f<o;f++)s[f]=e.min(a[f]).value,l[f]=e.max(a[f]).value;for(var v=0;v<r;v++){d=[];for(var h=0;h<o;h++)d[h]=Math.random()*(l[h]-s[h])+s[h];u[v]=d}return u},gg=function(e,r,a,o,s){for(var l=1/0,u=0,d=0;d<r.length;d++){var f=Fl(a,e,r[d],o,s);f<l&&(l=f,u=d)}return u},mg=function(e,r,a){for(var o=[],s=null,l=0;l<r.length;l++)s=r[l],a[s.id()]===e&&o.push(s);return o},Jw=function(e,r,a){return Math.abs(r-e)<=a},ex=function(e,r,a){for(var o=0;o<e.length;o++)for(var s=0;s<e[o].length;s++){var l=Math.abs(e[o][s]-r[o][s]);if(l>a)return!1}return!0},tx=function(e,r,a){for(var o=0;o<a;o++)if(e===r[o])return!0;return!1},$h=function(e,r){var a=new Array(r);if(e.length<50)for(var o=0;o<r;o++){for(var s=e[Math.floor(Math.random()*e.length)];tx(s,a,o);)s=e[Math.floor(Math.random()*e.length)];a[o]=s}else for(var l=0;l<r;l++)a[l]=e[Math.floor(Math.random()*e.length)];return a},Uh=function(e,r,a){for(var o=0,s=0;s<r.length;s++)o+=Fl("manhattan",r[s],e,a,"kMedoids");return o},rx=function(e){var r=this.cy(),a=this.nodes(),o=null,s=Of(e),l=new Array(s.k),u={},d;s.testMode?typeof s.testCentroids=="number"?(s.testCentroids,d=Xc(a,s.k,s.attributes)):_t(s.testCentroids)==="object"?d=s.testCentroids:d=Xc(a,s.k,s.attributes):d=Xc(a,s.k,s.attributes);for(var f=!0,v=0;f&&v<s.maxIterations;){for(var h=0;h<a.length;h++)o=a[h],u[o.id()]=gg(o,d,s.distance,s.attributes,"kMeans");f=!1;for(var g=0;g<s.k;g++){var y=mg(g,a,u);if(y.length!==0){for(var m=s.attributes.length,C=d[g],x=new Array(m),E=new Array(m),k=0;k<m;k++){E[k]=0;for(var b=0;b<y.length;b++)o=y[b],E[k]+=s.attributes[k](o);x[k]=E[k]/y.length,Jw(x[k],C[k],s.sensitivityThreshold)||(f=!0)}d[g]=x,l[g]=r.collection(y)}}v++}return l},nx=function(e){var r=this.cy(),a=this.nodes(),o=null,s=Of(e),l=new Array(s.k),u,d={},f,v=new Array(s.k);s.testMode?typeof s.testCentroids=="number"||(_t(s.testCentroids)==="object"?u=s.testCentroids:u=$h(a,s.k)):u=$h(a,s.k);for(var h=!0,g=0;h&&g<s.maxIterations;){for(var y=0;y<a.length;y++)o=a[y],d[o.id()]=gg(o,u,s.distance,s.attributes,"kMedoids");h=!1;for(var m=0;m<u.length;m++){var C=mg(m,a,d);if(C.length!==0){v[m]=Uh(u[m],C,s.attributes);for(var x=0;x<C.length;x++)f=Uh(C[x],C,s.attributes),f<v[m]&&(v[m]=f,u[m]=C[x],h=!0);l[m]=r.collection(C)}}g++}return l},ax=function(e,r,a,o,s){for(var l,u,d=0;d<r.length;d++)for(var f=0;f<e.length;f++)o[d][f]=Math.pow(a[d][f],s.m);for(var v=0;v<e.length;v++)for(var h=0;h<s.attributes.length;h++){l=0,u=0;for(var g=0;g<r.length;g++)l+=o[g][v]*s.attributes[h](r[g]),u+=o[g][v];e[v][h]=l/u}},ix=function(e,r,a,o,s){for(var l=0;l<e.length;l++)r[l]=e[l].slice();for(var u,d,f,v=2/(s.m-1),h=0;h<a.length;h++)for(var g=0;g<o.length;g++){u=0;for(var y=0;y<a.length;y++)d=Fl(s.distance,o[g],a[h],s.attributes,"cmeans"),f=Fl(s.distance,o[g],a[y],s.attributes,"cmeans"),u+=Math.pow(d/f,v);e[g][h]=1/u}},ox=function(e,r,a,o){for(var s=new Array(a.k),l=0;l<s.length;l++)s[l]=[];for(var u,d,f=0;f<r.length;f++){u=-1/0,d=-1;for(var v=0;v<r[0].length;v++)r[f][v]>u&&(u=r[f][v],d=v);s[d].push(e[f])}for(var h=0;h<s.length;h++)s[h]=o.collection(s[h]);return s},Hh=function(e){var r=this.cy(),a=this.nodes(),o=Of(e),s,l,u,d,f;d=new Array(a.length);for(var v=0;v<a.length;v++)d[v]=new Array(o.k);u=new Array(a.length);for(var h=0;h<a.length;h++)u[h]=new Array(o.k);for(var g=0;g<a.length;g++){for(var y=0,m=0;m<o.k;m++)u[g][m]=Math.random(),y+=u[g][m];for(var C=0;C<o.k;C++)u[g][C]=u[g][C]/y}l=new Array(o.k);for(var x=0;x<o.k;x++)l[x]=new Array(o.attributes.length);f=new Array(a.length);for(var E=0;E<a.length;E++)f[E]=new Array(o.k);for(var k=!0,b=0;k&&b<o.maxIterations;)k=!1,ax(l,a,u,f,o),ix(u,d,l,a,o),ex(u,d,o.sensitivityThreshold)||(k=!0),b++;return s=ox(a,u,o,r),{clusters:s,degreeOfMembership:u}},sx={kMeans:rx,kMedoids:nx,fuzzyCMeans:Hh,fcm:Hh},lx=er({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),ux={single:"min",complete:"max"},cx=function(e){var r=lx(e),a=ux[r.linkage];return a!=null&&(r.linkage=a),r},qh=function(e,r,a,o,s){for(var l=0,u=1/0,d,f=s.attributes,v=function(B,F){return Yl(s.distance,f.length,function(A){return f[A](B)},function(A){return f[A](F)},B,F)},h=0;h<e.length;h++){var g=e[h].key,y=a[g][o[g]];y<u&&(l=g,u=y)}if(s.mode==="threshold"&&u>=s.threshold||s.mode==="dendrogram"&&e.length===1)return!1;var m=r[l],C=r[o[l]],x;s.mode==="dendrogram"?x={left:m,right:C,key:m.key}:x={value:m.value.concat(C.value),key:m.key},e[m.index]=x,e.splice(C.index,1),r[m.key]=x;for(var E=0;E<e.length;E++){var k=e[E];m.key===k.key?d=1/0:s.linkage==="min"?(d=a[m.key][k.key],a[m.key][k.key]>a[C.key][k.key]&&(d=a[C.key][k.key])):s.linkage==="max"?(d=a[m.key][k.key],a[m.key][k.key]<a[C.key][k.key]&&(d=a[C.key][k.key])):s.linkage==="mean"?d=(a[m.key][k.key]*m.size+a[C.key][k.key]*C.size)/(m.size+C.size):s.mode==="dendrogram"?d=v(k.value,m.value):d=v(k.value[0],m.value[0]),a[m.key][k.key]=a[k.key][m.key]=d}for(var b=0;b<e.length;b++){var T=e[b].key;if(o[T]===m.key||o[T]===C.key){for(var R=T,N=0;N<e.length;N++){var D=e[N].key;a[T][D]<a[T][R]&&(R=D)}o[T]=R}e[b].index=b}return m.key=C.key=m.index=C.index=null,!0},pl=function t(e,r,a){e&&(e.value?r.push(e.value):(e.left&&t(e.left,r),e.right&&t(e.right,r)))},fx=function t(e,r){if(!e)return"";if(e.left&&e.right){var a=t(e.left,r),o=t(e.right,r),s=r.add({group:"nodes",data:{id:a+","+o}});return r.add({group:"edges",data:{source:a,target:s.id()}}),r.add({group:"edges",data:{source:o,target:s.id()}}),s.id()}else if(e.value)return e.value.id()},dx=function t(e,r,a){if(!e)return[];var o=[],s=[],l=[];return r===0?(e.left&&pl(e.left,o),e.right&&pl(e.right,s),l=o.concat(s),[a.collection(l)]):r===1?e.value?[a.collection(e.value)]:(e.left&&pl(e.left,o),e.right&&pl(e.right,s),[a.collection(o),a.collection(s)]):e.value?[a.collection(e.value)]:(e.left&&(o=t(e.left,r-1,a)),e.right&&(s=t(e.right,r-1,a)),o.concat(s))},Wh=function(e){for(var r=this.cy(),a=this.nodes(),o=cx(e),s=o.attributes,l=function(b,T){return Yl(o.distance,s.length,function(R){return s[R](b)},function(R){return s[R](T)},b,T)},u=[],d=[],f=[],v=[],h=0;h<a.length;h++){var g={value:o.mode==="dendrogram"?a[h]:[a[h]],key:h,index:h};u[h]=g,v[h]=g,d[h]=[],f[h]=0}for(var y=0;y<u.length;y++)for(var m=0;m<=y;m++){var C=void 0;o.mode==="dendrogram"?C=y===m?1/0:l(u[y].value,u[m].value):C=y===m?1/0:l(u[y].value[0],u[m].value[0]),d[y][m]=C,d[m][y]=C,C<d[y][f[y]]&&(f[y]=m)}for(var x=qh(u,v,d,f,o);x;)x=qh(u,v,d,f,o);var E;return o.mode==="dendrogram"?(E=dx(u[0],o.dendrogramDepth,r),o.addDendrogram&&fx(u[0],r)):(E=new Array(u.length),u.forEach(function(k,b){k.key=k.index=null,E[b]=r.collection(k.value)})),E},vx={hierarchicalClustering:Wh,hca:Wh},hx=er({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),px=function(e){var r=e.damping,a=e.preference;.5<=r&&r<1||Nt("Damping must range on [0.5, 1).  Got: ".concat(r));var o=["median","mean","min","max"];return o.some(function(s){return s===a})||ke(a)||Nt("Preference must be one of [".concat(o.map(function(s){return"'".concat(s,"'")}).join(", "),"] or a number.  Got: ").concat(a)),hx(e)},gx=function(e,r,a,o){var s=function(u,d){return o[d](u)};return-Yl(e,o.length,function(l){return s(r,l)},function(l){return s(a,l)},r,a)},mx=function(e,r){var a=null;return r==="median"?a=pw(e):r==="mean"?a=hw(e):r==="min"?a=dw(e):r==="max"?a=vw(e):a=r,a},yx=function(e,r,a){for(var o=[],s=0;s<e;s++)r[s*e+s]+a[s*e+s]>0&&o.push(s);return o},Kh=function(e,r,a){for(var o=[],s=0;s<e;s++){for(var l=-1,u=-1/0,d=0;d<a.length;d++){var f=a[d];r[s*e+f]>u&&(l=f,u=r[s*e+f])}l>0&&o.push(l)}for(var v=0;v<a.length;v++)o[a[v]]=a[v];return o},wx=function(e,r,a){for(var o=Kh(e,r,a),s=0;s<a.length;s++){for(var l=[],u=0;u<o.length;u++)o[u]===a[s]&&l.push(u);for(var d=-1,f=-1/0,v=0;v<l.length;v++){for(var h=0,g=0;g<l.length;g++)h+=r[l[g]*e+l[v]];h>f&&(d=v,f=h)}a[s]=l[d]}return o=Kh(e,r,a),o},Gh=function(e){for(var r=this.cy(),a=this.nodes(),o=px(e),s={},l=0;l<a.length;l++)s[a[l].id()]=l;var u,d,f,v,h,g;u=a.length,d=u*u,f=new Array(d);for(var y=0;y<d;y++)f[y]=-1/0;for(var m=0;m<u;m++)for(var C=0;C<u;C++)m!==C&&(f[m*u+C]=gx(o.distance,a[m],a[C],o.attributes));v=mx(f,o.preference);for(var x=0;x<u;x++)f[x*u+x]=v;h=new Array(d);for(var E=0;E<d;E++)h[E]=0;g=new Array(d);for(var k=0;k<d;k++)g[k]=0;for(var b=new Array(u),T=new Array(u),R=new Array(u),N=0;N<u;N++)b[N]=0,T[N]=0,R[N]=0;for(var D=new Array(u*o.minIterations),I=0;I<D.length;I++)D[I]=0;var B;for(B=0;B<o.maxIterations;B++){for(var F=0;F<u;F++){for(var A=-1/0,j=-1/0,_=-1,L=0,$=0;$<u;$++)b[$]=h[F*u+$],L=g[F*u+$]+f[F*u+$],L>=A?(j=A,A=L,_=$):L>j&&(j=L);for(var V=0;V<u;V++)h[F*u+V]=(1-o.damping)*(f[F*u+V]-A)+o.damping*b[V];h[F*u+_]=(1-o.damping)*(f[F*u+_]-j)+o.damping*b[_]}for(var U=0;U<u;U++){for(var H=0,K=0;K<u;K++)b[K]=g[K*u+U],T[K]=Math.max(0,h[K*u+U]),H+=T[K];H-=T[U],T[U]=h[U*u+U],H+=T[U];for(var Y=0;Y<u;Y++)g[Y*u+U]=(1-o.damping)*Math.min(0,H-T[Y])+o.damping*b[Y];g[U*u+U]=(1-o.damping)*(H-T[U])+o.damping*b[U]}for(var M=0,q=0;q<u;q++){var te=g[q*u+q]+h[q*u+q]>0?1:0;D[B%o.minIterations*u+q]=te,M+=te}if(M>0&&(B>=o.minIterations-1||B==o.maxIterations-1)){for(var ie=0,se=0;se<u;se++){R[se]=0;for(var ue=0;ue<o.minIterations;ue++)R[se]+=D[ue*u+se];(R[se]===0||R[se]===o.minIterations)&&ie++}if(ie===u)break}}for(var ce=yx(u,h,g),ae=wx(u,f,ce),Q={},le=0;le<ce.length;le++)Q[ce[le]]=[];for(var de=0;de<a.length;de++){var Ee=s[a[de].id()],ze=ae[Ee];ze!=null&&Q[ze].push(a[de])}for(var xe=new Array(ce.length),we=0;we<ce.length;we++)xe[we]=r.collection(Q[ce[we]]);return xe},xx={affinityPropagation:Gh,ap:Gh},Ex=er({root:void 0,directed:!1}),Sx={hierholzer:function(e){if(!nt(e)){var r=arguments;e={root:r[0],directed:r[1]}}var a=Ex(e),o=a.root,s=a.directed,l=this,u=!1,d,f,v;o&&(v=Fe(o)?this.filter(o)[0].id():o[0].id());var h={},g={};s?l.forEach(function(k){var b=k.id();if(k.isNode()){var T=k.indegree(!0),R=k.outdegree(!0),N=T-R,D=R-T;N==1?d?u=!0:d=b:D==1?f?u=!0:f=b:(D>1||N>1)&&(u=!0),h[b]=[],k.outgoers().forEach(function(I){I.isEdge()&&h[b].push(I.id())})}else g[b]=[void 0,k.target().id()]}):l.forEach(function(k){var b=k.id();if(k.isNode()){var T=k.degree(!0);T%2&&(d?f?u=!0:f=b:d=b),h[b]=[],k.connectedEdges().forEach(function(R){return h[b].push(R.id())})}else g[b]=[k.source().id(),k.target().id()]});var y={found:!1,trail:void 0};if(u)return y;if(f&&d)if(s){if(v&&f!=v)return y;v=f}else{if(v&&f!=v&&d!=v)return y;v||(v=f)}else v||(v=l[0].id());var m=function(b){for(var T=b,R=[b],N,D,I;h[T].length;)N=h[T].shift(),D=g[N][0],I=g[N][1],T!=I?(h[I]=h[I].filter(function(B){return B!=N}),T=I):!s&&T!=D&&(h[D]=h[D].filter(function(B){return B!=N}),T=D),R.unshift(N),R.unshift(T);return R},C=[],x=[];for(x=m(v);x.length!=1;)h[x[0]].length==0?(C.unshift(l.getElementById(x.shift())),C.unshift(l.getElementById(x.shift()))):x=m(x.shift()).concat(x);C.unshift(l.getElementById(x.shift()));for(var E in h)if(h[E].length)return y;return y.found=!0,y.trail=this.spawn(C,!0),y}},gl=function(){var e=this,r={},a=0,o=0,s=[],l=[],u={},d=function(g,y){for(var m=l.length-1,C=[],x=e.spawn();l[m].x!=g||l[m].y!=y;)C.push(l.pop().edge),m--;C.push(l.pop().edge),C.forEach(function(E){var k=E.connectedNodes().intersection(e);x.merge(E),k.forEach(function(b){var T=b.id(),R=b.connectedEdges().intersection(e);x.merge(b),r[T].cutVertex?x.merge(R.filter(function(N){return N.isLoop()})):x.merge(R)})}),s.push(x)},f=function h(g,y,m){g===m&&(o+=1),r[y]={id:a,low:a++,cutVertex:!1};var C=e.getElementById(y).connectedEdges().intersection(e);if(C.size()===0)s.push(e.spawn(e.getElementById(y)));else{var x,E,k,b;C.forEach(function(T){x=T.source().id(),E=T.target().id(),k=x===y?E:x,k!==m&&(b=T.id(),u[b]||(u[b]=!0,l.push({x:y,y:k,edge:T})),k in r?r[y].low=Math.min(r[y].low,r[k].id):(h(g,k,y),r[y].low=Math.min(r[y].low,r[k].low),r[y].id<=r[k].low&&(r[y].cutVertex=!0,d(y,k))))})}};e.forEach(function(h){if(h.isNode()){var g=h.id();g in r||(o=0,f(g,g),r[g].cutVertex=o>1)}});var v=Object.keys(r).filter(function(h){return r[h].cutVertex}).map(function(h){return e.getElementById(h)});return{cut:e.spawn(v),components:s}},Cx={hopcroftTarjanBiconnected:gl,htbc:gl,htb:gl,hopcroftTarjanBiconnectedComponents:gl},ml=function(){var e=this,r={},a=0,o=[],s=[],l=e.spawn(e),u=function d(f){s.push(f),r[f]={index:a,low:a++,explored:!1};var v=e.getElementById(f).connectedEdges().intersection(e);if(v.forEach(function(C){var x=C.target().id();x!==f&&(x in r||d(x),r[x].explored||(r[f].low=Math.min(r[f].low,r[x].low)))}),r[f].index===r[f].low){for(var h=e.spawn();;){var g=s.pop();if(h.merge(e.getElementById(g)),r[g].low=r[f].index,r[g].explored=!0,g===f)break}var y=h.edgesWith(h),m=h.merge(y);o.push(m),l=l.difference(m)}};return e.forEach(function(d){if(d.isNode()){var f=d.id();f in r||u(f)}}),{cut:l,components:o}},kx={tarjanStronglyConnected:ml,tsc:ml,tscc:ml,tarjanStronglyConnectedComponents:ml},yg={};[zo,ew,tw,nw,iw,sw,cw,Ow,Ei,Si,cf,Gw,sx,vx,xx,Sx,Cx,kx].forEach(function(t){Ue(yg,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var wg=0,xg=1,Eg=2,Nn=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=wg,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Nn.prototype={fulfill:function(e){return Yh(this,xg,"fulfillValue",e)},reject:function(e){return Yh(this,Eg,"rejectReason",e)},then:function(e,r){var a=this,o=new Nn;return a.onFulfilled.push(Xh(e,o,"fulfill")),a.onRejected.push(Xh(r,o,"reject")),Sg(a),o.proxy}};var Yh=function(e,r,a,o){return e.state===wg&&(e.state=r,e[a]=o,Sg(e)),e},Sg=function(e){e.state===xg?Qh(e,"onFulfilled",e.fulfillValue):e.state===Eg&&Qh(e,"onRejected",e.rejectReason)},Qh=function(e,r,a){if(e[r].length!==0){var o=e[r];e[r]=[];var s=function(){for(var u=0;u<o.length;u++)o[u](a)};typeof setImmediate=="function"?setImmediate(s):setTimeout(s,0)}},Xh=function(e,r,a){return function(o){if(typeof e!="function")r[a].call(r,o);else{var s;try{s=e(o)}catch(l){r.reject(l);return}bx(r,s)}}},bx=function t(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var a;if(_t(r)==="object"&&r!==null||typeof r=="function")try{a=r.then}catch(s){e.reject(s);return}if(typeof a=="function"){var o=!1;try{a.call(r,function(s){o||(o=!0,s===r?e.reject(new TypeError("circular thenable chain")):t(e,s))},function(s){o||(o=!0,e.reject(s))})}catch(s){o||e.reject(s)}return}e.fulfill(r)};Nn.all=function(t){return new Nn(function(e,r){for(var a=new Array(t.length),o=0,s=function(d,f){a[d]=f,o++,o===t.length&&e(a)},l=0;l<t.length;l++)(function(u){var d=t[u],f=d!=null&&d.then!=null;if(f)d.then(function(h){s(u,h)},function(h){r(h)});else{var v=d;s(u,v)}})(l)})};Nn.resolve=function(t){return new Nn(function(e,r){e(t)})};Nn.reject=function(t){return new Nn(function(e,r){r(t)})};var Ni=typeof Promise<"u"?Promise:Nn,ff=function(e,r,a){var o=Df(e),s=!o,l=this._private=Ue({duration:1e3},r,a);if(l.target=e,l.style=l.style||l.css,l.started=!1,l.playing=!1,l.hooked=!1,l.applying=!1,l.progress=0,l.completes=[],l.frames=[],l.complete&&bt(l.complete)&&l.completes.push(l.complete),s){var u=e.position();l.startPosition=l.startPosition||{x:u.x,y:u.y},l.startStyle=l.startStyle||e.cy().style().getAnimationStartStyle(e,l.style)}if(o){var d=e.pan();l.startPan={x:d.x,y:d.y},l.startZoom=e.zoom()}this.length=1,this[0]=this},Oa=ff.prototype;Ue(Oa,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,a=e.target._private.animation;e.queue?r=a.queue:r=a.current,r.push(this),Ir(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,a=r.playing;return e===void 0?r.progress:(a&&this.pause(),r.progress=e,r.started=!1,a&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var a=function(f,v){var h=e[f];h!=null&&(e[f]=e[v],e[v]=h)};if(a("zoom","startZoom"),a("pan","startPan"),a("position","startPosition"),e.style)for(var o=0;o<e.style.length;o++){var s=e.style[o],l=s.name,u=e.startStyle[l];e.startStyle[l]=s,e.style[o]=u}return r&&this.play(),this},promise:function(e){var r=this._private,a;switch(e){case"frame":a=r.frames;break;default:case"complete":case"completed":a=r.completes}return new Ni(function(o,s){a.push(function(){o()})})}});Oa.complete=Oa.completed;Oa.run=Oa.play;Oa.running=Oa.playing;var Tx={animated:function(){return function(){var r=this,a=r.length!==void 0,o=a?r:[r],s=this._private.cy||this;if(!s.styleEnabled())return!1;var l=o[0];if(l)return l._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,a=r.length!==void 0,o=a?r:[r],s=this._private.cy||this;if(!s.styleEnabled())return this;for(var l=0;l<o.length;l++){var u=o[l];u._private.animation.queue=[]}return this}},delay:function(){return function(r,a){var o=this._private.cy||this;return o.styleEnabled()?this.animate({delay:r,duration:r,complete:a}):this}},delayAnimation:function(){return function(r,a){var o=this._private.cy||this;return o.styleEnabled()?this.animation({delay:r,duration:r,complete:a}):this}},animation:function(){return function(r,a){var o=this,s=o.length!==void 0,l=s?o:[o],u=this._private.cy||this,d=!s,f=!d;if(!u.styleEnabled())return this;var v=u.style();r=Ue({},r,a);var h=Object.keys(r).length===0;if(h)return new ff(l[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(f&&(r.style=v.getPropsList(r.style||r.css),r.css=void 0),f&&r.renderedPosition!=null){var g=r.renderedPosition,y=u.pan(),m=u.zoom();r.position=sg(g,m,y)}if(d&&r.panBy!=null){var C=r.panBy,x=u.pan();r.pan={x:x.x+C.x,y:x.y+C.y}}var E=r.center||r.centre;if(d&&E!=null){var k=u.getCenterPan(E.eles,r.zoom);k!=null&&(r.pan=k)}if(d&&r.fit!=null){var b=r.fit,T=u.getFitViewport(b.eles||b.boundingBox,b.padding);T!=null&&(r.pan=T.pan,r.zoom=T.zoom)}if(d&&nt(r.zoom)){var R=u.getZoomedViewport(r.zoom);R!=null?(R.zoomed&&(r.zoom=R.zoom),R.panned&&(r.pan=R.pan)):r.zoom=null}return new ff(l[0],r)}},animate:function(){return function(r,a){var o=this,s=o.length!==void 0,l=s?o:[o],u=this._private.cy||this;if(!u.styleEnabled())return this;a&&(r=Ue({},r,a));for(var d=0;d<l.length;d++){var f=l[d],v=f.animated()&&(r.queue===void 0||r.queue),h=f.animation(r,v?{queue:!0}:void 0);h.play()}return this}},stop:function(){return function(r,a){var o=this,s=o.length!==void 0,l=s?o:[o],u=this._private.cy||this;if(!u.styleEnabled())return this;for(var d=0;d<l.length;d++){for(var f=l[d],v=f._private,h=v.animation.current,g=0;g<h.length;g++){var y=h[g],m=y._private;a&&(m.duration=0)}r&&(v.animation.queue=[]),a||(v.animation.current=[])}return u.notify("draw"),this}}},Dx=Array.isArray,Ql=Dx,Px=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nx=/^\w*$/;function Lx(t,e){if(Ql(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Wo(t)?!0:Nx.test(t)||!Px.test(t)||e!=null&&t in Object(e)}var Rx=Lx,Bx="[object AsyncFunction]",Mx="[object Function]",Ix="[object GeneratorFunction]",Ox="[object Proxy]";function zx(t){if(!Ra(t))return!1;var e=Zp(t);return e==Mx||e==Ix||e==Bx||e==Ox}var Ax=zx,Fx=ql["__core-js_shared__"],Zc=Fx,Zh=function(){var t=/[^.]+$/.exec(Zc&&Zc.keys&&Zc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function jx(t){return!!Zh&&Zh in t}var Vx=jx,_x=Function.prototype,$x=_x.toString;function Ux(t){if(t!=null){try{return $x.call(t)}catch{}try{return t+""}catch{}}return""}var Hx=Ux,qx=/[\\^$.*+?()[\]{}|]/g,Wx=/^\[object .+?Constructor\]$/,Kx=Function.prototype,Gx=Object.prototype,Yx=Kx.toString,Qx=Gx.hasOwnProperty,Xx=RegExp("^"+Yx.call(Qx).replace(qx,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Zx(t){if(!Ra(t)||Vx(t))return!1;var e=Ax(t)?Xx:Wx;return e.test(Hx(t))}var Jx=Zx;function eE(t,e){return t==null?void 0:t[e]}var tE=eE;function rE(t,e){var r=tE(t,e);return Jx(r)?r:void 0}var zf=rE,nE=zf(Object,"create"),jo=nE;function aE(){this.__data__=jo?jo(null):{},this.size=0}var iE=aE;function oE(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var sE=oE,lE="__lodash_hash_undefined__",uE=Object.prototype,cE=uE.hasOwnProperty;function fE(t){var e=this.__data__;if(jo){var r=e[t];return r===lE?void 0:r}return cE.call(e,t)?e[t]:void 0}var dE=fE,vE=Object.prototype,hE=vE.hasOwnProperty;function pE(t){var e=this.__data__;return jo?e[t]!==void 0:hE.call(e,t)}var gE=pE,mE="__lodash_hash_undefined__";function yE(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=jo&&e===void 0?mE:e,this}var wE=yE;function Li(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var a=t[e];this.set(a[0],a[1])}}Li.prototype.clear=iE;Li.prototype.delete=sE;Li.prototype.get=dE;Li.prototype.has=gE;Li.prototype.set=wE;var Jh=Li;function xE(){this.__data__=[],this.size=0}var EE=xE;function SE(t,e){return t===e||t!==t&&e!==e}var Cg=SE;function CE(t,e){for(var r=t.length;r--;)if(Cg(t[r][0],e))return r;return-1}var Xl=CE,kE=Array.prototype,bE=kE.splice;function TE(t){var e=this.__data__,r=Xl(e,t);if(r<0)return!1;var a=e.length-1;return r==a?e.pop():bE.call(e,r,1),--this.size,!0}var DE=TE;function PE(t){var e=this.__data__,r=Xl(e,t);return r<0?void 0:e[r][1]}var NE=PE;function LE(t){return Xl(this.__data__,t)>-1}var RE=LE;function BE(t,e){var r=this.__data__,a=Xl(r,t);return a<0?(++this.size,r.push([t,e])):r[a][1]=e,this}var ME=BE;function Ri(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var a=t[e];this.set(a[0],a[1])}}Ri.prototype.clear=EE;Ri.prototype.delete=DE;Ri.prototype.get=NE;Ri.prototype.has=RE;Ri.prototype.set=ME;var IE=Ri,OE=zf(ql,"Map"),zE=OE;function AE(){this.size=0,this.__data__={hash:new Jh,map:new(zE||IE),string:new Jh}}var FE=AE;function jE(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var VE=jE;function _E(t,e){var r=t.__data__;return VE(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Zl=_E;function $E(t){var e=Zl(this,t).delete(t);return this.size-=e?1:0,e}var UE=$E;function HE(t){return Zl(this,t).get(t)}var qE=HE;function WE(t){return Zl(this,t).has(t)}var KE=WE;function GE(t,e){var r=Zl(this,t),a=r.size;return r.set(t,e),this.size+=r.size==a?0:1,this}var YE=GE;function Bi(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var a=t[e];this.set(a[0],a[1])}}Bi.prototype.clear=FE;Bi.prototype.delete=UE;Bi.prototype.get=qE;Bi.prototype.has=KE;Bi.prototype.set=YE;var kg=Bi,QE="Expected a function";function Af(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(QE);var r=function(){var a=arguments,o=e?e.apply(this,a):a[0],s=r.cache;if(s.has(o))return s.get(o);var l=t.apply(this,a);return r.cache=s.set(o,l)||s,l};return r.cache=new(Af.Cache||kg),r}Af.Cache=kg;var XE=Af,ZE=500;function JE(t){var e=XE(t,function(a){return r.size===ZE&&r.clear(),a}),r=e.cache;return e}var eS=JE,tS=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rS=/\\(\\)?/g,nS=eS(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(tS,function(r,a,o,s){e.push(o?s.replace(rS,"$1"):a||r)}),e}),bg=nS;function aS(t,e){for(var r=-1,a=t==null?0:t.length,o=Array(a);++r<a;)o[r]=e(t[r],r,t);return o}var Tg=aS,iS=1/0,ep=ki?ki.prototype:void 0,tp=ep?ep.toString:void 0;function Dg(t){if(typeof t=="string")return t;if(Ql(t))return Tg(t,Dg)+"";if(Wo(t))return tp?tp.call(t):"";var e=t+"";return e=="0"&&1/t==-iS?"-0":e}var oS=Dg;function sS(t){return t==null?"":oS(t)}var Pg=sS;function lS(t,e){return Ql(t)?t:Rx(t,e)?[t]:bg(Pg(t))}var Ng=lS,uS=1/0;function cS(t){if(typeof t=="string"||Wo(t))return t;var e=t+"";return e=="0"&&1/t==-uS?"-0":e}var Ff=cS;function fS(t,e){e=Ng(e,t);for(var r=0,a=e.length;t!=null&&r<a;)t=t[Ff(e[r++])];return r&&r==a?t:void 0}var dS=fS;function vS(t,e,r){var a=t==null?void 0:dS(t,e);return a===void 0?r:a}var hS=vS,pS=function(){try{var t=zf(Object,"defineProperty");return t({},"",{}),t}catch{}}(),rp=pS;function gS(t,e,r){e=="__proto__"&&rp?rp(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var mS=gS,yS=Object.prototype,wS=yS.hasOwnProperty;function xS(t,e,r){var a=t[e];(!(wS.call(t,e)&&Cg(a,r))||r===void 0&&!(e in t))&&mS(t,e,r)}var ES=xS,SS=9007199254740991,CS=/^(?:0|[1-9]\d*)$/;function kS(t,e){var r=typeof t;return e=e??SS,!!e&&(r=="number"||r!="symbol"&&CS.test(t))&&t>-1&&t%1==0&&t<e}var bS=kS;function TS(t,e,r,a){if(!Ra(t))return t;e=Ng(e,t);for(var o=-1,s=e.length,l=s-1,u=t;u!=null&&++o<s;){var d=Ff(e[o]),f=r;if(d==="__proto__"||d==="constructor"||d==="prototype")return t;if(o!=l){var v=u[d];f=a?a(v,d,u):void 0,f===void 0&&(f=Ra(v)?v:bS(e[o+1])?[]:{})}ES(u,d,f),u=u[d]}return t}var DS=TS;function PS(t,e,r){return t==null?t:DS(t,e,r)}var NS=PS;function LS(t,e){var r=-1,a=t.length;for(e||(e=Array(a));++r<a;)e[r]=t[r];return e}var RS=LS;function BS(t){return Ql(t)?Tg(t,Ff):Wo(t)?[t]:RS(bg(Pg(t)))}var MS=BS,IS={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(o){},beforeSet:function(o,s){},onSet:function(o){},canSet:function(o){return!0}};return e=Ue({},r,e),function(o,s){var l=e,u=this,d=u.length!==void 0,f=d?u:[u],v=d?u[0]:u;if(Fe(o)){var h=o.indexOf(".")!==-1,g=h&&MS(o);if(l.allowGetting&&s===void 0){var y;return v&&(l.beforeGet(v),g&&v._private[l.field][o]===void 0?y=hS(v._private[l.field],g):y=v._private[l.field][o]),y}else if(l.allowSetting&&s!==void 0){var m=!l.immutableKeys[o];if(m){var C=_p({},o,s);l.beforeSet(u,C);for(var x=0,E=f.length;x<E;x++){var k=f[x];l.canSet(k)&&(g&&v._private[l.field][o]===void 0?NS(k._private[l.field],g,s):k._private[l.field][o]=s)}l.updateStyle&&u.updateStyle(),l.onSet(u),l.settingTriggersEvent&&u[l.triggerFnName](l.settingEvent)}}}else if(l.allowSetting&&nt(o)){var b=o,T,R,N=Object.keys(b);l.beforeSet(u,b);for(var D=0;D<N.length;D++){T=N[D],R=b[T];var I=!l.immutableKeys[T];if(I)for(var B=0;B<f.length;B++){var F=f[B];l.canSet(F)&&(F._private[l.field][T]=R)}}l.updateStyle&&u.updateStyle(),l.onSet(u),l.settingTriggersEvent&&u[l.triggerFnName](l.settingEvent)}else if(l.allowBinding&&bt(o)){var A=o;u.on(l.bindingEvent,A)}else if(l.allowGetting&&o===void 0){var j;return v&&(l.beforeGet(v),j=v._private[l.field]),j}return u}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=Ue({},r,e),function(o){var s=e,l=this,u=l.length!==void 0,d=u?l:[l];if(Fe(o)){for(var f=o.split(/\s+/),v=f.length,h=0;h<v;h++){var g=f[h];if(!oa(g)){var y=!s.immutableKeys[g];if(y)for(var m=0,C=d.length;m<C;m++)d[m]._private[s.field][g]=void 0}}s.triggerEvent&&l[s.triggerFnName](s.event)}else if(o===void 0){for(var x=0,E=d.length;x<E;x++)for(var k=d[x]._private[s.field],b=Object.keys(k),T=0;T<b.length;T++){var R=b[T],N=!s.immutableKeys[R];N&&(k[R]=void 0)}s.triggerEvent&&l[s.triggerFnName](s.event)}return l}}},OS={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(a,o){var s=this,l=Array.prototype.slice.call(arguments,0);return new Ni(function(u,d){var f=function(y){s.off.apply(s,h),u(y)},v=l.concat([f]),h=v.concat([]);s.on.apply(s,v)})}}},ut={};[Tx,IS,OS].forEach(function(t){Ue(ut,t)});var zS={animate:ut.animate(),animation:ut.animation(),animated:ut.animated(),clearQueue:ut.clearQueue(),delay:ut.delay(),delayAnimation:ut.delayAnimation(),stop:ut.stop()},Tl={classes:function(e){var r=this;if(e===void 0){var a=[];return r[0]._private.classes.forEach(function(m){return a.push(m)}),a}else vt(e)||(e=(e||"").match(/\S+/g)||[]);for(var o=[],s=new Pi(e),l=0;l<r.length;l++){for(var u=r[l],d=u._private,f=d.classes,v=!1,h=0;h<e.length;h++){var g=e[h],y=f.has(g);if(!y){v=!0;break}}v||(v=f.size!==e.length),v&&(d.classes=s,o.push(u))}return o.length>0&&this.spawn(o).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){vt(e)||(e=e.match(/\S+/g)||[]);for(var a=this,o=r===void 0,s=[],l=0,u=a.length;l<u;l++)for(var d=a[l],f=d._private.classes,v=!1,h=0;h<e.length;h++){var g=e[h],y=f.has(g),m=!1;r||o&&!y?(f.add(g),m=!0):(!r||o&&y)&&(f.delete(g),m=!0),!v&&m&&(s.push(d),v=!0)}return s.length>0&&this.spawn(s).updateStyle().emit("class"),a},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var a=this;if(r==null)r=250;else if(r===0)return a;return a.addClass(e),setTimeout(function(){a.removeClass(e)},r),a}};Tl.className=Tl.classNames=Tl.classes;var rt={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Vt,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};rt.variable="(?:[\\w-.]|(?:\\\\"+rt.metaChar+"))+";rt.className="(?:[\\w-]|(?:\\\\"+rt.metaChar+"))+";rt.value=rt.string+"|"+rt.number;rt.id=rt.variable;(function(){var t,e,r;for(t=rt.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],rt.comparatorOp+="|@"+e;for(t=rt.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(rt.comparatorOp+="|\\!"+e)})();var dt=function(){return{checks:[]}},Le={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},df=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return G0(t.selector,e.selector)}),AS=function(){for(var t={},e,r=0;r<df.length;r++)e=df[r],t[e.selector]=e.matches;return t}(),FS=function(e,r){return AS[e](r)},jS="("+df.map(function(t){return t.selector}).join("|")+")",fi=function(e){return e.replace(new RegExp("\\\\("+rt.metaChar+")","g"),function(r,a){return a})},ta=function(e,r,a){e[e.length-1]=a},vf=[{name:"group",query:!0,regex:"("+rt.group+")",populate:function(e,r,a){var o=tn(a,1),s=o[0];r.checks.push({type:Le.GROUP,value:s==="*"?s:s+"s"})}},{name:"state",query:!0,regex:jS,populate:function(e,r,a){var o=tn(a,1),s=o[0];r.checks.push({type:Le.STATE,value:s})}},{name:"id",query:!0,regex:"\\#("+rt.id+")",populate:function(e,r,a){var o=tn(a,1),s=o[0];r.checks.push({type:Le.ID,value:fi(s)})}},{name:"className",query:!0,regex:"\\.("+rt.className+")",populate:function(e,r,a){var o=tn(a,1),s=o[0];r.checks.push({type:Le.CLASS,value:fi(s)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+rt.variable+")\\s*\\]",populate:function(e,r,a){var o=tn(a,1),s=o[0];r.checks.push({type:Le.DATA_EXIST,field:fi(s)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+rt.variable+")\\s*("+rt.comparatorOp+")\\s*("+rt.value+")\\s*\\]",populate:function(e,r,a){var o=tn(a,3),s=o[0],l=o[1],u=o[2],d=new RegExp("^"+rt.string+"$").exec(u)!=null;d?u=u.substring(1,u.length-1):u=parseFloat(u),r.checks.push({type:Le.DATA_COMPARE,field:fi(s),operator:l,value:u})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+rt.boolOp+")\\s*("+rt.variable+")\\s*\\]",populate:function(e,r,a){var o=tn(a,2),s=o[0],l=o[1];r.checks.push({type:Le.DATA_BOOL,field:fi(l),operator:s})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+rt.meta+")\\s*("+rt.comparatorOp+")\\s*("+rt.number+")\\s*\\]\\]",populate:function(e,r,a){var o=tn(a,3),s=o[0],l=o[1],u=o[2];r.checks.push({type:Le.META_COMPARE,field:fi(s),operator:l,value:parseFloat(u)})}},{name:"nextQuery",separator:!0,regex:rt.separator,populate:function(e,r){var a=e.currentSubject,o=e.edgeCount,s=e.compoundCount,l=e[e.length-1];a!=null&&(l.subject=a,e.currentSubject=null),l.edgeCount=o,l.compoundCount=s,e.edgeCount=0,e.compoundCount=0;var u=e[e.length++]=dt();return u}},{name:"directedEdge",separator:!0,regex:rt.directedEdge,populate:function(e,r){if(e.currentSubject==null){var a=dt(),o=r,s=dt();return a.checks.push({type:Le.DIRECTED_EDGE,source:o,target:s}),ta(e,r,a),e.edgeCount++,s}else{var l=dt(),u=r,d=dt();return l.checks.push({type:Le.NODE_SOURCE,source:u,target:d}),ta(e,r,l),e.edgeCount++,d}}},{name:"undirectedEdge",separator:!0,regex:rt.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var a=dt(),o=r,s=dt();return a.checks.push({type:Le.UNDIRECTED_EDGE,nodes:[o,s]}),ta(e,r,a),e.edgeCount++,s}else{var l=dt(),u=r,d=dt();return l.checks.push({type:Le.NODE_NEIGHBOR,node:u,neighbor:d}),ta(e,r,l),d}}},{name:"child",separator:!0,regex:rt.child,populate:function(e,r){if(e.currentSubject==null){var a=dt(),o=dt(),s=e[e.length-1];return a.checks.push({type:Le.CHILD,parent:s,child:o}),ta(e,r,a),e.compoundCount++,o}else if(e.currentSubject===r){var l=dt(),u=e[e.length-1],d=dt(),f=dt(),v=dt(),h=dt();return l.checks.push({type:Le.COMPOUND_SPLIT,left:u,right:d,subject:f}),f.checks=r.checks,r.checks=[{type:Le.TRUE}],h.checks.push({type:Le.TRUE}),d.checks.push({type:Le.PARENT,parent:h,child:v}),ta(e,u,l),e.currentSubject=f,e.compoundCount++,v}else{var g=dt(),y=dt(),m=[{type:Le.PARENT,parent:g,child:y}];return g.checks=r.checks,r.checks=m,e.compoundCount++,y}}},{name:"descendant",separator:!0,regex:rt.descendant,populate:function(e,r){if(e.currentSubject==null){var a=dt(),o=dt(),s=e[e.length-1];return a.checks.push({type:Le.DESCENDANT,ancestor:s,descendant:o}),ta(e,r,a),e.compoundCount++,o}else if(e.currentSubject===r){var l=dt(),u=e[e.length-1],d=dt(),f=dt(),v=dt(),h=dt();return l.checks.push({type:Le.COMPOUND_SPLIT,left:u,right:d,subject:f}),f.checks=r.checks,r.checks=[{type:Le.TRUE}],h.checks.push({type:Le.TRUE}),d.checks.push({type:Le.ANCESTOR,ancestor:h,descendant:v}),ta(e,u,l),e.currentSubject=f,e.compoundCount++,v}else{var g=dt(),y=dt(),m=[{type:Le.ANCESTOR,ancestor:g,descendant:y}];return g.checks=r.checks,r.checks=m,e.compoundCount++,y}}},{name:"subject",modifier:!0,regex:rt.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return ct("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var a=e[e.length-1],o=a.checks[0],s=o==null?null:o.type;s===Le.DIRECTED_EDGE?o.type=Le.NODE_TARGET:s===Le.UNDIRECTED_EDGE&&(o.type=Le.NODE_NEIGHBOR,o.node=o.nodes[1],o.neighbor=o.nodes[0],o.nodes=null)}}];vf.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var VS=function(e){for(var r,a,o,s=0;s<vf.length;s++){var l=vf[s],u=l.name,d=e.match(l.regexObj);if(d!=null){a=d,r=l,o=u;var f=d[0];e=e.substring(f.length);break}}return{expr:r,match:a,name:o,remaining:e}},_S=function(e){var r=e.match(/^\s+/);if(r){var a=r[0];e=e.substring(a.length)}return e},$S=function(e){var r=this,a=r.inputText=e,o=r[0]=dt();for(r.length=1,a=_S(a);;){var s=VS(a);if(s.expr==null)return ct("The selector `"+e+"`is invalid"),!1;var l=s.match.slice(1),u=s.expr.populate(r,o,l);if(u===!1)return!1;if(u!=null&&(o=u),a=s.remaining,a.match(/^\s*$/))break}var d=r[r.length-1];r.currentSubject!=null&&(d.subject=r.currentSubject),d.edgeCount=r.edgeCount,d.compoundCount=r.compoundCount;for(var f=0;f<r.length;f++){var v=r[f];if(v.compoundCount>0&&v.edgeCount>0)return ct("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(v.edgeCount>1)return ct("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;v.edgeCount===1&&ct("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},US=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(v){return v??""},r=function(v){return Fe(v)?'"'+v+'"':e(v)},a=function(v){return" "+v+" "},o=function(v,h){var g=v.type,y=v.value;switch(g){case Le.GROUP:{var m=e(y);return m.substring(0,m.length-1)}case Le.DATA_COMPARE:{var C=v.field,x=v.operator;return"["+C+a(e(x))+r(y)+"]"}case Le.DATA_BOOL:{var E=v.operator,k=v.field;return"["+e(E)+k+"]"}case Le.DATA_EXIST:{var b=v.field;return"["+b+"]"}case Le.META_COMPARE:{var T=v.operator,R=v.field;return"[["+R+a(e(T))+r(y)+"]]"}case Le.STATE:return y;case Le.ID:return"#"+y;case Le.CLASS:return"."+y;case Le.PARENT:case Le.CHILD:return s(v.parent,h)+a(">")+s(v.child,h);case Le.ANCESTOR:case Le.DESCENDANT:return s(v.ancestor,h)+" "+s(v.descendant,h);case Le.COMPOUND_SPLIT:{var N=s(v.left,h),D=s(v.subject,h),I=s(v.right,h);return N+(N.length>0?" ":"")+D+I}case Le.TRUE:return""}},s=function(v,h){return v.checks.reduce(function(g,y,m){return g+(h===v&&m===0?"$":"")+o(y,h)},"")},l="",u=0;u<this.length;u++){var d=this[u];l+=s(d,d.subject),this.length>1&&u<this.length-1&&(l+=", ")}return this.toStringCache=l,l},HS={parse:$S,toString:US},Lg=function(e,r,a){var o,s=Fe(e),l=ke(e),u=Fe(a),d,f,v=!1,h=!1,g=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),h=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),v=!0),(s||u||v)&&(d=!s&&!l?"":""+e,f=""+a),v&&(e=d=d.toLowerCase(),a=f=f.toLowerCase()),r){case"*=":o=d.indexOf(f)>=0;break;case"$=":o=d.indexOf(f,d.length-f.length)>=0;break;case"^=":o=d.indexOf(f)===0;break;case"=":o=e===a;break;case">":g=!0,o=e>a;break;case">=":g=!0,o=e>=a;break;case"<":g=!0,o=e<a;break;case"<=":g=!0,o=e<=a;break;default:o=!1;break}return h&&(e!=null||!g)&&(o=!o),o},qS=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},WS=function(e){return e!==void 0},jf=function(e,r){return e.data(r)},KS=function(e,r){return e[r]()},Lt=[],wt=function(e,r){return e.checks.every(function(a){return Lt[a.type](a,r)})};Lt[Le.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};Lt[Le.STATE]=function(t,e){var r=t.value;return FS(r,e)};Lt[Le.ID]=function(t,e){var r=t.value;return e.id()===r};Lt[Le.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};Lt[Le.META_COMPARE]=function(t,e){var r=t.field,a=t.operator,o=t.value;return Lg(KS(e,r),a,o)};Lt[Le.DATA_COMPARE]=function(t,e){var r=t.field,a=t.operator,o=t.value;return Lg(jf(e,r),a,o)};Lt[Le.DATA_BOOL]=function(t,e){var r=t.field,a=t.operator;return qS(jf(e,r),a)};Lt[Le.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,WS(jf(e,r))};Lt[Le.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],a=t.nodes[1],o=e.source(),s=e.target();return wt(r,o)&&wt(a,s)||wt(a,o)&&wt(r,s)};Lt[Le.NODE_NEIGHBOR]=function(t,e){return wt(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&wt(t.neighbor,r)})};Lt[Le.DIRECTED_EDGE]=function(t,e){return wt(t.source,e.source())&&wt(t.target,e.target())};Lt[Le.NODE_SOURCE]=function(t,e){return wt(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&wt(t.target,r)})};Lt[Le.NODE_TARGET]=function(t,e){return wt(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&wt(t.source,r)})};Lt[Le.CHILD]=function(t,e){return wt(t.child,e)&&wt(t.parent,e.parent())};Lt[Le.PARENT]=function(t,e){return wt(t.parent,e)&&e.children().some(function(r){return wt(t.child,r)})};Lt[Le.DESCENDANT]=function(t,e){return wt(t.descendant,e)&&e.ancestors().some(function(r){return wt(t.ancestor,r)})};Lt[Le.ANCESTOR]=function(t,e){return wt(t.ancestor,e)&&e.descendants().some(function(r){return wt(t.descendant,r)})};Lt[Le.COMPOUND_SPLIT]=function(t,e){return wt(t.subject,e)&&wt(t.left,e)&&wt(t.right,e)};Lt[Le.TRUE]=function(){return!0};Lt[Le.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};Lt[Le.FILTER]=function(t,e){var r=t.value;return r(e)};var GS=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===Le.ID)return e.getElementById(r[0].checks[0].value).collection();var a=function(s){for(var l=0;l<r.length;l++){var u=r[l];if(wt(u,s))return!0}return!1};return r.text()==null&&(a=function(){return!0}),e.filter(a)},YS=function(e){for(var r=this,a=0;a<r.length;a++){var o=r[a];if(wt(o,e))return!0}return!1},QS={matches:YS,filter:GS},la=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||Fe(e)&&e.match(/^\s*$/)||(Ir(e)?this.addQuery({checks:[{type:Le.COLLECTION,value:e.collection()}]}):bt(e)?this.addQuery({checks:[{type:Le.FILTER,value:e}]}):Fe(e)?this.parse(e)||(this.invalid=!0):Nt("A selector must be created from a string; found "))},ua=la.prototype;[HS,QS].forEach(function(t){return Ue(ua,t)});ua.text=function(){return this.inputText};ua.size=function(){return this.length};ua.eq=function(t){return this[t]};ua.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};ua.addQuery=function(t){this[this.length++]=t};ua.selector=ua.toString;var aa={allAre:function(e){var r=new la(e);return this.every(function(a){return r.matches(a)})},is:function(e){var r=new la(e);return this.some(function(a){return r.matches(a)})},some:function(e,r){for(var a=0;a<this.length;a++){var o=r?e.apply(r,[this[a],a,this]):e(this[a],a,this);if(o)return!0}return!1},every:function(e,r){for(var a=0;a<this.length;a++){var o=r?e.apply(r,[this[a],a,this]):e(this[a],a,this);if(!o)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,a=e.length;return r!==a?!1:r===1?this[0]===e[0]:this.every(function(o){return e.hasElementWithId(o.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(a){return r.hasElementWithId(a.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(a){return r.hasElementWithId(a.id())})}};aa.allAreNeighbours=aa.allAreNeighbors;aa.has=aa.contains;aa.equal=aa.equals=aa.same;var Wr=function(e,r){return function(o,s,l,u){var d=o,f=this,v;if(d==null?v="":Ir(d)&&d.length===1&&(v=d.id()),f.length===1&&v){var h=f[0]._private,g=h.traversalCache=h.traversalCache||{},y=g[r]=g[r]||[],m=Ba(v),C=y[m];return C||(y[m]=e.call(f,o,s,l,u))}else return e.call(f,o,s,l,u)}},Di={parent:function(e){var r=[];if(this.length===1){var a=this[0]._private.parent;if(a)return a}for(var o=0;o<this.length;o++){var s=this[o],l=s._private.parent;l&&r.push(l)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],a=this.parent();a.nonempty();){for(var o=0;o<a.length;o++){var s=a[o];r.push(s)}a=a.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,a=0;a<this.length;a++){var o=this[a],s=o.parents();r=r||s,r=r.intersect(s)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:Wr(function(t){for(var e=[],r=0;r<this.length;r++)for(var a=this[r],o=a._private.children,s=0;s<o.length;s++)e.push(o[s]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function a(o){for(var s=0;s<o.length;s++){var l=o[s];r.push(l),l.children().nonempty()&&a(l.children())}}return a(this.children()),this.spawn(r,!0).filter(e)}};function Vf(t,e,r,a){for(var o=[],s=new Pi,l=t.cy(),u=l.hasCompoundNodes(),d=0;d<t.length;d++){var f=t[d];r?o.push(f):u&&a(o,s,f)}for(;o.length>0;){var v=o.shift();e(v),s.add(v.id()),u&&a(o,s,v)}return t}function Rg(t,e,r){if(r.isParent())for(var a=r._private.children,o=0;o<a.length;o++){var s=a[o];e.has(s.id())||t.push(s)}}Di.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Vf(this,t,e,Rg)};function Bg(t,e,r){if(r.isChild()){var a=r._private.parent;e.has(a.id())||t.push(a)}}Di.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Vf(this,t,e,Bg)};function XS(t,e,r){Bg(t,e,r),Rg(t,e,r)}Di.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Vf(this,t,e,XS)};Di.ancestors=Di.parents;var Vo,Mg;Vo=Mg={data:ut.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:ut.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:ut.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ut.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:ut.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:ut.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};Vo.attr=Vo.data;Vo.removeAttr=Vo.removeData;var ZS=Mg,Jl={};function Jc(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var a=0,o=r[0],s=o._private.edges,l=0;l<s.length;l++){var u=s[l];!e&&u.isLoop()||(a+=t(o,u))}return a}else return}}Ue(Jl,{degree:Jc(function(t,e){return e.source().same(e.target())?2:1}),indegree:Jc(function(t,e){return e.target().same(t)?1:0}),outdegree:Jc(function(t,e){return e.source().same(t)?1:0})});function di(t,e){return function(r){for(var a,o=this.nodes(),s=0;s<o.length;s++){var l=o[s],u=l[t](r);u!==void 0&&(a===void 0||e(u,a))&&(a=u)}return a}}Ue(Jl,{minDegree:di("degree",function(t,e){return t<e}),maxDegree:di("degree",function(t,e){return t>e}),minIndegree:di("indegree",function(t,e){return t<e}),maxIndegree:di("indegree",function(t,e){return t>e}),minOutdegree:di("outdegree",function(t,e){return t<e}),maxOutdegree:di("outdegree",function(t,e){return t>e})});Ue(Jl,{totalDegree:function(e){for(var r=0,a=this.nodes(),o=0;o<a.length;o++)r+=a[o].degree(e);return r}});var an,Ig,Og=function(e,r,a){for(var o=0;o<e.length;o++){var s=e[o];if(!s.locked()){var l=s._private.position,u={x:r.x!=null?r.x-l.x:0,y:r.y!=null?r.y-l.y:0};s.isParent()&&!(u.x===0&&u.y===0)&&s.children().shift(u,a),s.dirtyBoundingBoxCache()}}},np={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){Og(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};an=Ig={position:ut.data(np),silentPosition:ut.data(Ue({},np,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){Og(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(nt(e))r?this.silentPosition(e):this.position(e);else if(bt(e)){var a=e,o=this.cy();o.startBatch();for(var s=0;s<this.length;s++){var l=this[s],u=void 0;(u=a(l,s))&&(r?l.silentPosition(u):l.position(u))}o.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,a){var o;if(nt(e)?(o={x:ke(e.x)?e.x:0,y:ke(e.y)?e.y:0},a=r):Fe(e)&&ke(r)&&(o={x:0,y:0},o[e]=r),o!=null){var s=this.cy();s.startBatch();for(var l=0;l<this.length;l++){var u=this[l];if(!(s.hasCompoundNodes()&&u.isChild()&&u.ancestors().anySame(this))){var d=u.position(),f={x:d.x+o.x,y:d.y+o.y};a?u.silentPosition(f):u.position(f)}}s.endBatch()}return this},silentShift:function(e,r){return nt(e)?this.shift(e,!0):Fe(e)&&ke(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var a=this[0],o=this.cy(),s=o.zoom(),l=o.pan(),u=nt(e)?e:void 0,d=u!==void 0||r!==void 0&&Fe(e);if(a&&a.isNode())if(d)for(var f=0;f<this.length;f++){var v=this[f];r!==void 0?v.position(e,(r-l[e])/s):u!==void 0&&v.position(sg(u,s,l))}else{var h=a.position();return u=Gl(h,s,l),e===void 0?u:u[e]}else if(!d)return;return this},relativePosition:function(e,r){var a=this[0],o=this.cy(),s=nt(e)?e:void 0,l=s!==void 0||r!==void 0&&Fe(e),u=o.hasCompoundNodes();if(a&&a.isNode())if(l)for(var d=0;d<this.length;d++){var f=this[d],v=u?f.parent():null,h=v&&v.length>0,g=h;h&&(v=v[0]);var y=g?v.position():{x:0,y:0};r!==void 0?f.position(e,r+y[e]):s!==void 0&&f.position({x:s.x+y.x,y:s.y+y.y})}else{var m=a.position(),C=u?a.parent():null,x=C&&C.length>0,E=x;x&&(C=C[0]);var k=E?C.position():{x:0,y:0};return s={x:m.x-k.x,y:m.y-k.y},e===void 0?s:s[e]}else if(!l)return;return this}};an.modelPosition=an.point=an.position;an.modelPositions=an.points=an.positions;an.renderedPoint=an.renderedPosition;an.relativePoint=an.relativePosition;var JS=Ig,Ci,fa;Ci=fa={};fa.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),a=r.zoom(),o=r.pan(),s=e.x1*a+o.x,l=e.x2*a+o.x,u=e.y1*a+o.y,d=e.y2*a+o.y;return{x1:s,x2:l,y1:u,y2:d,w:l-s,h:d-u}};fa.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var a=r._private;a.compoundBoundsClean=!1,a.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};fa.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(l){if(!l.isParent())return;var u=l._private,d=l.children(),f=l.pstyle("compound-sizing-wrt-labels").value==="include",v={width:{val:l.pstyle("min-width").pfValue,left:l.pstyle("min-width-bias-left"),right:l.pstyle("min-width-bias-right")},height:{val:l.pstyle("min-height").pfValue,top:l.pstyle("min-height-bias-top"),bottom:l.pstyle("min-height-bias-bottom")}},h=d.boundingBox({includeLabels:f,includeOverlays:!1,useCache:!1}),g=u.position;(h.w===0||h.h===0)&&(h={w:l.pstyle("width").pfValue,h:l.pstyle("height").pfValue},h.x1=g.x-h.w/2,h.x2=g.x+h.w/2,h.y1=g.y-h.h/2,h.y2=g.y+h.h/2);function y(B,F,A){var j=0,_=0,L=F+A;return B>0&&L>0&&(j=F/L*B,_=A/L*B),{biasDiff:j,biasComplementDiff:_}}function m(B,F,A,j){if(A.units==="%")switch(j){case"width":return B>0?A.pfValue*B:0;case"height":return F>0?A.pfValue*F:0;case"average":return B>0&&F>0?A.pfValue*(B+F)/2:0;case"min":return B>0&&F>0?B>F?A.pfValue*F:A.pfValue*B:0;case"max":return B>0&&F>0?B>F?A.pfValue*B:A.pfValue*F:0;default:return 0}else return A.units==="px"?A.pfValue:0}var C=v.width.left.value;v.width.left.units==="px"&&v.width.val>0&&(C=C*100/v.width.val);var x=v.width.right.value;v.width.right.units==="px"&&v.width.val>0&&(x=x*100/v.width.val);var E=v.height.top.value;v.height.top.units==="px"&&v.height.val>0&&(E=E*100/v.height.val);var k=v.height.bottom.value;v.height.bottom.units==="px"&&v.height.val>0&&(k=k*100/v.height.val);var b=y(v.width.val-h.w,C,x),T=b.biasDiff,R=b.biasComplementDiff,N=y(v.height.val-h.h,E,k),D=N.biasDiff,I=N.biasComplementDiff;u.autoPadding=m(h.w,h.h,l.pstyle("padding"),l.pstyle("padding-relative-to").value),u.autoWidth=Math.max(h.w,v.width.val),g.x=(-T+h.x1+h.x2+R)/2,u.autoHeight=Math.max(h.h,v.height.val),g.y=(-D+h.y1+h.y2+I)/2}for(var a=0;a<this.length;a++){var o=this[a],s=o._private;(!s.compoundBoundsClean||t)&&(r(o),e.batching()||(s.compoundBoundsClean=!0))}return this};var qr=function(e){return e===1/0||e===-1/0?0:e},rn=function(e,r,a,o,s){o-r===0||s-a===0||r==null||a==null||o==null||s==null||(e.x1=r<e.x1?r:e.x1,e.x2=o>e.x2?o:e.x2,e.y1=a<e.y1?a:e.y1,e.y2=s>e.y2?s:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Da=function(e,r){return r==null?e:rn(e,r.x1,r.y1,r.x2,r.y2)},Co=function(e,r,a){return nn(e,r,a)},yl=function(e,r,a){if(!r.cy().headless()){var o=r._private,s=o.rstyle,l=s.arrowWidth/2,u=r.pstyle(a+"-arrow-shape").value,d,f;if(u!=="none"){a==="source"?(d=s.srcX,f=s.srcY):a==="target"?(d=s.tgtX,f=s.tgtY):(d=s.midX,f=s.midY);var v=o.arrowBounds=o.arrowBounds||{},h=v[a]=v[a]||{};h.x1=d-l,h.y1=f-l,h.x2=d+l,h.y2=f+l,h.w=h.x2-h.x1,h.h=h.y2-h.y1,kl(h,1),rn(e,h.x1,h.y1,h.x2,h.y2)}}},ef=function(e,r,a){if(!r.cy().headless()){var o;a?o=a+"-":o="";var s=r._private,l=s.rstyle,u=r.pstyle(o+"label").strValue;if(u){var d=r.pstyle("text-halign"),f=r.pstyle("text-valign"),v=Co(l,"labelWidth",a),h=Co(l,"labelHeight",a),g=Co(l,"labelX",a),y=Co(l,"labelY",a),m=r.pstyle(o+"text-margin-x").pfValue,C=r.pstyle(o+"text-margin-y").pfValue,x=r.isEdge(),E=r.pstyle(o+"text-rotation"),k=r.pstyle("text-outline-width").pfValue,b=r.pstyle("text-border-width").pfValue,T=b/2,R=r.pstyle("text-background-padding").pfValue,N=2,D=h,I=v,B=I/2,F=D/2,A,j,_,L;if(x)A=g-B,j=g+B,_=y-F,L=y+F;else{switch(d.value){case"left":A=g-I,j=g;break;case"center":A=g-B,j=g+B;break;case"right":A=g,j=g+I;break}switch(f.value){case"top":_=y-D,L=y;break;case"center":_=y-F,L=y+F;break;case"bottom":_=y,L=y+D;break}}var $=m-Math.max(k,T)-R-N,V=m+Math.max(k,T)+R+N,U=C-Math.max(k,T)-R-N,H=C+Math.max(k,T)+R+N;A+=$,j+=V,_+=U,L+=H;var K=a||"main",Y=s.labelBounds,M=Y[K]=Y[K]||{};M.x1=A,M.y1=_,M.x2=j,M.y2=L,M.w=j-A,M.h=L-_,M.leftPad=$,M.rightPad=V,M.topPad=U,M.botPad=H;var q=x&&E.strValue==="autorotate",te=E.pfValue!=null&&E.pfValue!==0;if(q||te){var ie=q?Co(s.rstyle,"labelAngle",a):E.pfValue,se=Math.cos(ie),ue=Math.sin(ie),ce=(A+j)/2,ae=(_+L)/2;if(!x){switch(d.value){case"left":ce=j;break;case"right":ce=A;break}switch(f.value){case"top":ae=L;break;case"bottom":ae=_;break}}var Q=function(Pe,Te){return Pe=Pe-ce,Te=Te-ae,{x:Pe*se-Te*ue+ce,y:Pe*ue+Te*se+ae}},le=Q(A,_),de=Q(A,L),Ee=Q(j,_),ze=Q(j,L);A=Math.min(le.x,de.x,Ee.x,ze.x),j=Math.max(le.x,de.x,Ee.x,ze.x),_=Math.min(le.y,de.y,Ee.y,ze.y),L=Math.max(le.y,de.y,Ee.y,ze.y)}var xe=K+"Rot",we=Y[xe]=Y[xe]||{};we.x1=A,we.y1=_,we.x2=j,we.y2=L,we.w=j-A,we.h=L-_,rn(e,A,_,j,L),rn(s.labelBounds.all,A,_,j,L)}return e}},eC=function(e,r){if(!r.cy().headless()){var a=r.pstyle("outline-opacity").value,o=r.pstyle("outline-width").value;if(a>0&&o>0){var s=r.pstyle("outline-offset").value,l=r.pstyle("shape").value,u=o+s,d=(e.w+u*2)/e.w,f=(e.h+u*2)/e.h,v=0,h=0;["diamond","pentagon","round-triangle"].includes(l)?(d=(e.w+u*2.4)/e.w,h=-u/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(l)?d=(e.w+u*2.4)/e.w:l==="star"?(d=(e.w+u*2.8)/e.w,f=(e.h+u*2.6)/e.h,h=-u/3.8):l==="triangle"?(d=(e.w+u*2.8)/e.w,f=(e.h+u*2.4)/e.h,h=-u/1.4):l==="vee"&&(d=(e.w+u*4.4)/e.w,f=(e.h+u*3.8)/e.h,h=-u*.5);var g=e.h*f-e.h,y=e.w*d-e.w;if(bl(e,[Math.ceil(g/2),Math.ceil(y/2)]),v!=0||h!==0){var m=Ew(e,v,h);ug(e,m)}}}},tC=function(e,r){var a=e._private.cy,o=a.styleEnabled(),s=a.headless(),l=Nr(),u=e._private,d=e.isNode(),f=e.isEdge(),v,h,g,y,m,C,x=u.rstyle,E=d&&o?e.pstyle("bounds-expansion").pfValue:[0],k=function(Re){return Re.pstyle("display").value!=="none"},b=!o||k(e)&&(!f||k(e.source())&&k(e.target()));if(b){var T=0,R=0;o&&r.includeOverlays&&(T=e.pstyle("overlay-opacity").value,T!==0&&(R=e.pstyle("overlay-padding").value));var N=0,D=0;o&&r.includeUnderlays&&(N=e.pstyle("underlay-opacity").value,N!==0&&(D=e.pstyle("underlay-padding").value));var I=Math.max(R,D),B=0,F=0;if(o&&(B=e.pstyle("width").pfValue,F=B/2),d&&r.includeNodes){var A=e.position();m=A.x,C=A.y;var j=e.outerWidth(),_=j/2,L=e.outerHeight(),$=L/2;v=m-_,h=m+_,g=C-$,y=C+$,rn(l,v,g,h,y),o&&r.includeOutlines&&eC(l,e)}else if(f&&r.includeEdges)if(o&&!s){var V=e.pstyle("curve-style").strValue;if(v=Math.min(x.srcX,x.midX,x.tgtX),h=Math.max(x.srcX,x.midX,x.tgtX),g=Math.min(x.srcY,x.midY,x.tgtY),y=Math.max(x.srcY,x.midY,x.tgtY),v-=F,h+=F,g-=F,y+=F,rn(l,v,g,h,y),V==="haystack"){var U=x.haystackPts;if(U&&U.length===2){if(v=U[0].x,g=U[0].y,h=U[1].x,y=U[1].y,v>h){var H=v;v=h,h=H}if(g>y){var K=g;g=y,y=K}rn(l,v-F,g-F,h+F,y+F)}}else if(V==="bezier"||V==="unbundled-bezier"||V.endsWith("segments")||V.endsWith("taxi")){var Y;switch(V){case"bezier":case"unbundled-bezier":Y=x.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":Y=x.linePts;break}if(Y!=null)for(var M=0;M<Y.length;M++){var q=Y[M];v=q.x-F,h=q.x+F,g=q.y-F,y=q.y+F,rn(l,v,g,h,y)}}}else{var te=e.source(),ie=te.position(),se=e.target(),ue=se.position();if(v=ie.x,h=ue.x,g=ie.y,y=ue.y,v>h){var ce=v;v=h,h=ce}if(g>y){var ae=g;g=y,y=ae}v-=F,h+=F,g-=F,y+=F,rn(l,v,g,h,y)}if(o&&r.includeEdges&&f&&(yl(l,e,"mid-source"),yl(l,e,"mid-target"),yl(l,e,"source"),yl(l,e,"target")),o){var Q=e.pstyle("ghost").value==="yes";if(Q){var le=e.pstyle("ghost-offset-x").pfValue,de=e.pstyle("ghost-offset-y").pfValue;rn(l,l.x1+le,l.y1+de,l.x2+le,l.y2+de)}}var Ee=u.bodyBounds=u.bodyBounds||{};zh(Ee,l),bl(Ee,E),kl(Ee,1),o&&(v=l.x1,h=l.x2,g=l.y1,y=l.y2,rn(l,v-I,g-I,h+I,y+I));var ze=u.overlayBounds=u.overlayBounds||{};zh(ze,l),bl(ze,E),kl(ze,1);var xe=u.labelBounds=u.labelBounds||{};xe.all!=null?xw(xe.all):xe.all=Nr(),o&&r.includeLabels&&(r.includeMainLabels&&ef(l,e,null),f&&(r.includeSourceLabels&&ef(l,e,"source"),r.includeTargetLabels&&ef(l,e,"target")))}return l.x1=qr(l.x1),l.y1=qr(l.y1),l.x2=qr(l.x2),l.y2=qr(l.y2),l.w=qr(l.x2-l.x1),l.h=qr(l.y2-l.y1),l.w>0&&l.h>0&&b&&(bl(l,E),kl(l,1)),l},zg=function(e){var r=0,a=function(l){return(l?1:0)<<r++},o=0;return o+=a(e.incudeNodes),o+=a(e.includeEdges),o+=a(e.includeLabels),o+=a(e.includeMainLabels),o+=a(e.includeSourceLabels),o+=a(e.includeTargetLabels),o+=a(e.includeOverlays),o+=a(e.includeOutlines),o},Ag=function(e){if(e.isEdge()){var r=e.source().position(),a=e.target().position(),o=function(l){return Math.round(l)};return _1([o(r.x),o(r.y),o(a.x),o(a.y)])}else return 0},ap=function(e,r){var a=e._private,o,s=e.isEdge(),l=r==null?ip:zg(r),u=l===ip,d=Ag(e),f=a.bbCachePosKey===d,v=r.useCache&&f,h=function(C){return C._private.bbCache==null||C._private.styleDirty},g=!v||h(e)||s&&(h(e.source())||h(e.target()));if(g?(f||e.recalculateRenderedStyle(v),o=tC(e,_o),a.bbCache=o,a.bbCachePosKey=d):o=a.bbCache,!u){var y=e.isNode();o=Nr(),(r.includeNodes&&y||r.includeEdges&&!y)&&(r.includeOverlays?Da(o,a.overlayBounds):Da(o,a.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!s||r.includeSourceLabels&&r.includeTargetLabels)?Da(o,a.labelBounds.all):(r.includeMainLabels&&Da(o,a.labelBounds.mainRot),r.includeSourceLabels&&Da(o,a.labelBounds.sourceRot),r.includeTargetLabels&&Da(o,a.labelBounds.targetRot))),o.w=o.x2-o.x1,o.h=o.y2-o.y1}return o},_o={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},ip=zg(_o),op=er(_o);fa.boundingBox=function(t){var e;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(t===void 0||t.useCache===void 0||t.useCache===!0))t===void 0?t=_o:t=op(t),e=ap(this[0],t);else{e=Nr(),t=t||_o;var r=op(t),a=this,o=a.cy(),s=o.styleEnabled();if(s)for(var l=0;l<a.length;l++){var u=a[l],d=u._private,f=Ag(u),v=d.bbCachePosKey===f,h=r.useCache&&v&&!d.styleDirty;u.recalculateRenderedStyle(h)}this.updateCompoundBounds(!t.useCache);for(var g=0;g<a.length;g++){var y=a[g];Da(e,ap(y,r))}}return e.x1=qr(e.x1),e.y1=qr(e.y1),e.x2=qr(e.x2),e.y2=qr(e.y2),e.w=qr(e.x2-e.x1),e.h=qr(e.y2-e.y1),e};fa.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};fa.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),a=r.hasCompoundNodes(),o=r.collection();if(a&&(o=e.filter(function(f){return f.isParent()}),e=e.not(o)),nt(t)){var s=t;t=function(){return s}}var l=function(v,h){return v._private.bbAtOldPos=t(v,h)},u=function(v){return v._private.bbAtOldPos};r.startBatch(),e.forEach(l).silentPositions(t),a&&(o.dirtyCompoundBoundsCache(),o.dirtyBoundingBoxCache(),o.updateCompoundBounds(!0));var d=ww(this.boundingBox({useCache:!1}));return e.silentPositions(u),a&&(o.dirtyCompoundBoundsCache(),o.dirtyBoundingBoxCache(),o.updateCompoundBounds(!0)),r.endBatch(),d};Ci.boundingbox=Ci.bb=Ci.boundingBox;Ci.renderedBoundingbox=Ci.renderedBoundingBox;var rC=fa,No,Go;No=Go={};var Fg=function(e){e.uppercaseName=Nh(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=Nh(e.outerName),No[e.name]=function(){var a=this[0],o=a._private,s=o.cy,l=s._private.styleEnabled;if(a)if(l){if(a.isParent())return a.updateCompoundBounds(),o[e.autoName]||0;var u=a.pstyle(e.name);switch(u.strValue){case"label":return a.recalculateRenderedStyle(),o.rstyle[e.labelName]||0;default:return u.pfValue}}else return 1},No["outer"+e.uppercaseName]=function(){var a=this[0],o=a._private,s=o.cy,l=s._private.styleEnabled;if(a)if(l){var u=a[e.name](),d=a.pstyle("border-width").pfValue,f=2*a.padding();return u+d+f}else return 1},No["rendered"+e.uppercaseName]=function(){var a=this[0];if(a){var o=a[e.name]();return o*this.cy().zoom()}},No["rendered"+e.uppercaseOuterName]=function(){var a=this[0];if(a){var o=a[e.outerName]();return o*this.cy().zoom()}}};Fg({name:"width"});Fg({name:"height"});Go.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};Go.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};Go.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var nC=Go,aC=function(e,r){if(e.isEdge())return r(e)},iC=function(e,r){if(e.isEdge()){var a=e.cy();return Gl(r(e),a.zoom(),a.pan())}},oC=function(e,r){if(e.isEdge()){var a=e.cy(),o=a.pan(),s=a.zoom();return r(e).map(function(l){return Gl(l,s,o)})}},sC=function(e){return e.renderer().getControlPoints(e)},lC=function(e){return e.renderer().getSegmentPoints(e)},uC=function(e){return e.renderer().getSourceEndpoint(e)},cC=function(e){return e.renderer().getTargetEndpoint(e)},fC=function(e){return e.renderer().getEdgeMidpoint(e)},sp={controlPoints:{get:sC,mult:!0},segmentPoints:{get:lC,mult:!0},sourceEndpoint:{get:uC},targetEndpoint:{get:cC},midpoint:{get:fC}},dC=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},vC=Object.keys(sp).reduce(function(t,e){var r=sp[e],a=dC(e);return t[e]=function(){return aC(this,r.get)},r.mult?t[a]=function(){return oC(this,r.get)}:t[a]=function(){return iC(this,r.get)},t},{}),hC=Ue({},JS,rC,nC,vC);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var jg=function(e,r){this.recycle(e,r)};function ko(){return!1}function wl(){return!0}jg.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=ko,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?wl:ko):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var a=this.position,o=this.cy.zoom(),s=this.cy.pan();this.renderedPosition={x:a.x*o+s.x,y:a.y*o+s.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=wl;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=wl;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=wl,this.stopPropagation()},isDefaultPrevented:ko,isPropagationStopped:ko,isImmediatePropagationStopped:ko};var Vg=/^([^.]+)(\.(?:[^.]+))?$/,pC=".*",_g={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},lp=Object.keys(_g),gC={};function eu(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:gC,e=arguments.length>1?arguments[1]:void 0,r=0;r<lp.length;r++){var a=lp[r];this[a]=t[a]||_g[a]}this.context=e||this.context,this.listeners=[],this.emitting=0}var ca=eu.prototype,$g=function(e,r,a,o,s,l,u){bt(o)&&(s=o,o=null),u&&(l==null?l=u:l=Ue({},l,u));for(var d=vt(a)?a:a.split(/\s+/),f=0;f<d.length;f++){var v=d[f];if(!oa(v)){var h=v.match(Vg);if(h){var g=h[1],y=h[2]?h[2]:null,m=r(e,v,g,y,o,s,l);if(m===!1)break}}}},up=function(e,r){return e.addEventFields(e.context,r),new jg(r.type,r)},mC=function(e,r,a){if(A0(a)){r(e,a);return}else if(nt(a)){r(e,up(e,a));return}for(var o=vt(a)?a:a.split(/\s+/),s=0;s<o.length;s++){var l=o[s];if(!oa(l)){var u=l.match(Vg);if(u){var d=u[1],f=u[2]?u[2]:null,v=up(e,{type:d,namespace:f,target:e.context});r(e,v)}}}};ca.on=ca.addListener=function(t,e,r,a,o){return $g(this,function(s,l,u,d,f,v,h){bt(v)&&s.listeners.push({event:l,callback:v,type:u,namespace:d,qualifier:f,conf:h})},t,e,r,a,o),this};ca.one=function(t,e,r,a){return this.on(t,e,r,a,{one:!0})};ca.removeListener=ca.off=function(t,e,r,a){var o=this;this.emitting!==0&&(this.listeners=W1(this.listeners));for(var s=this.listeners,l=function(f){var v=s[f];$g(o,function(h,g,y,m,C,x){if((v.type===y||t==="*")&&(!m&&v.namespace!==".*"||v.namespace===m)&&(!C||h.qualifierCompare(v.qualifier,C))&&(!x||v.callback===x))return s.splice(f,1),!1},t,e,r,a)},u=s.length-1;u>=0;u--)l(u);return this};ca.removeAllListeners=function(){return this.removeListener("*")};ca.emit=ca.trigger=function(t,e,r){var a=this.listeners,o=a.length;return this.emitting++,vt(e)||(e=[e]),mC(this,function(s,l){r!=null&&(a=[{event:l.event,type:l.type,namespace:l.namespace,callback:r}],o=a.length);for(var u=function(v){var h=a[v];if(h.type===l.type&&(!h.namespace||h.namespace===l.namespace||h.namespace===pC)&&s.eventMatches(s.context,h,l)){var g=[l];e!=null&&G1(g,e),s.beforeEmit(s.context,h,l),h.conf&&h.conf.one&&(s.listeners=s.listeners.filter(function(C){return C!==h}));var y=s.callbackContext(s.context,h,l),m=h.callback.apply(y,g);s.afterEmit(s.context,h,l),m===!1&&(l.stopPropagation(),l.preventDefault())}},d=0;d<o;d++)u(d);s.bubble(s.context)&&!l.isPropagationStopped()&&s.parent(s.context).emit(l,e)},t),this.emitting--,this};var yC={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,a){var o=r.qualifier;return o!=null?e!==a.target&&qo(a.target)&&o.matches(a.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,a){return r.qualifier!=null?a.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},xl=function(e){return Fe(e)?new la(e):e},Ug={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],a=r._private;a.emitter||(a.emitter=new eu(yC,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,a){for(var o=xl(r),s=0;s<this.length;s++){var l=this[s];l.emitter().on(e,o,a)}return this},removeListener:function(e,r,a){for(var o=xl(r),s=0;s<this.length;s++){var l=this[s];l.emitter().removeListener(e,o,a)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,a){for(var o=xl(r),s=0;s<this.length;s++){var l=this[s];l.emitter().one(e,o,a)}return this},once:function(e,r,a){for(var o=xl(r),s=0;s<this.length;s++){var l=this[s];l.emitter().on(e,o,a,{once:!0,onceCollection:this})}},emit:function(e,r){for(var a=0;a<this.length;a++){var o=this[a];o.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};ut.eventAliasesOn(Ug);var Hg={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),a=0;a<this.length;a++){var o=this[a];o.isNode()?e.push(o):r.push(o)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(Fe(e)||Ir(e))return new la(e).filter(this);if(bt(e)){for(var a=this.spawn(),o=this,s=0;s<o.length;s++){var l=o[s],u=r?e.apply(r,[l,s,o]):e(l,s,o);u&&a.push(l)}return a}return this.spawn()},not:function(e){if(e){Fe(e)&&(e=this.filter(e));for(var r=this.spawn(),a=0;a<this.length;a++){var o=this[a],s=e.has(o);s||r.push(o)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(Fe(e)){var r=e;return this.filter(r)}for(var a=this.spawn(),o=this,s=e,l=this.length<e.length,u=l?o:s,d=l?s:o,f=0;f<u.length;f++){var v=u[f];d.has(v)&&a.push(v)}return a},xor:function(e){var r=this._private.cy;Fe(e)&&(e=r.$(e));var a=this.spawn(),o=this,s=e,l=function(d,f){for(var v=0;v<d.length;v++){var h=d[v],g=h._private.data.id,y=f.hasElementWithId(g);y||a.push(h)}};return l(o,s),l(s,o),a},diff:function(e){var r=this._private.cy;Fe(e)&&(e=r.$(e));var a=this.spawn(),o=this.spawn(),s=this.spawn(),l=this,u=e,d=function(v,h,g){for(var y=0;y<v.length;y++){var m=v[y],C=m._private.data.id,x=h.hasElementWithId(C);x?s.merge(m):g.push(m)}};return d(l,u,a),d(u,l,o),{left:a,right:o,both:s}},add:function(e){var r=this._private.cy;if(!e)return this;if(Fe(e)){var a=e;e=r.mutableElements().filter(a)}for(var o=this.spawnSelf(),s=0;s<e.length;s++){var l=e[s],u=!this.has(l);u&&o.push(l)}return o},merge:function(e){var r=this._private,a=r.cy;if(!e)return this;if(e&&Fe(e)){var o=e;e=a.mutableElements().filter(o)}for(var s=r.map,l=0;l<e.length;l++){var u=e[l],d=u._private.data.id,f=!s.has(d);if(f){var v=this.length++;this[v]=u,s.set(d,{ele:u,index:v})}}return this},unmergeAt:function(e){var r=this[e],a=r.id(),o=this._private,s=o.map;this[e]=void 0,s.delete(a);var l=e===this.length-1;if(this.length>1&&!l){var u=this.length-1,d=this[u],f=d._private.data.id;this[u]=void 0,this[e]=d,s.set(f,{ele:d,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,a=e._private.data.id,o=r.map,s=o.get(a);if(!s)return this;var l=s.index;return this.unmergeAt(l),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&Fe(e)){var a=e;e=r.mutableElements().filter(a)}for(var o=0;o<e.length;o++)this.unmergeOne(e[o]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var a=this[r];e(a)&&this.unmergeAt(r)}return this},map:function(e,r){for(var a=[],o=this,s=0;s<o.length;s++){var l=o[s],u=r?e.apply(r,[l,s,o]):e(l,s,o);a.push(u)}return a},reduce:function(e,r){for(var a=r,o=this,s=0;s<o.length;s++)a=e(a,o[s],s,o);return a},max:function(e,r){for(var a=-1/0,o,s=this,l=0;l<s.length;l++){var u=s[l],d=r?e.apply(r,[u,l,s]):e(u,l,s);d>a&&(a=d,o=u)}return{value:a,ele:o}},min:function(e,r){for(var a=1/0,o,s=this,l=0;l<s.length;l++){var u=s[l],d=r?e.apply(r,[u,l,s]):e(u,l,s);d<a&&(a=d,o=u)}return{value:a,ele:o}}},st=Hg;st.u=st["|"]=st["+"]=st.union=st.or=st.add;st["\\"]=st["!"]=st["-"]=st.difference=st.relativeComplement=st.subtract=st.not;st.n=st["&"]=st["."]=st.and=st.intersection=st.intersect;st["^"]=st["(+)"]=st["(-)"]=st.symmetricDifference=st.symdiff=st.xor;st.fnFilter=st.filterFn=st.stdFilter=st.filter;st.complement=st.abscomp=st.absoluteComplement;var wC={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},qg=function(e,r){var a=e.cy(),o=a.hasCompoundNodes();function s(v){var h=v.pstyle("z-compound-depth");return h.value==="auto"?o?v.zDepth():0:h.value==="bottom"?-1:h.value==="top"?Nf:0}var l=s(e)-s(r);if(l!==0)return l;function u(v){var h=v.pstyle("z-index-compare");return h.value==="auto"&&v.isNode()?1:0}var d=u(e)-u(r);if(d!==0)return d;var f=e.pstyle("z-index").value-r.pstyle("z-index").value;return f!==0?f:e.poolIndex()-r.poolIndex()},jl={forEach:function(e,r){if(bt(e))for(var a=this.length,o=0;o<a;o++){var s=this[o],l=r?e.apply(r,[s,o,this]):e(s,o,this);if(l===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var a=[],o=this.length;r==null&&(r=o),e==null&&(e=0),e<0&&(e=o+e),r<0&&(r=o+r);for(var s=e;s>=0&&s<r&&s<o;s++)a.push(this[s]);return this.spawn(a)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!bt(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(qg)},zDepth:function(){var e=this[0];if(e){var r=e._private,a=r.group;if(a==="nodes"){var o=r.data.parent?e.parents().size():0;return e.isParent()?o:Nf-1}else{var s=r.source,l=r.target,u=s.zDepth(),d=l.zDepth();return Math.max(u,d,0)}}}};jl.each=jl.forEach;var xC=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":_t(Symbol))!=e&&_t(Symbol.iterator)!=e;r&&(jl[Symbol.iterator]=function(){var a=this,o={value:void 0,done:!1},s=0,l=this.length;return _p({next:function(){return s<l?o.value=a[s++]:(o.value=void 0,o.done=!0),o}},Symbol.iterator,function(){return this})})};xC();var EC=er({nodeDimensionsIncludeLabels:!1}),Dl={layoutDimensions:function(e){e=EC(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var a=this.boundingBox();r={w:a.w,h:a.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,a){var o=this.nodes().filter(function(R){return!R.isParent()}),s=this.cy(),l=r.eles,u=function(N){return N.id()},d=Mo(a,u);e.emit({type:"layoutstart",layout:e}),e.animations=[];var f=function(N,D,I){var B={x:D.x1+D.w/2,y:D.y1+D.h/2},F={x:(I.x-B.x)*N,y:(I.y-B.y)*N};return{x:B.x+F.x,y:B.y+F.y}},v=r.spacingFactor&&r.spacingFactor!==1,h=function(){if(!v)return null;for(var N=Nr(),D=0;D<o.length;D++){var I=o[D],B=d(I,D);Sw(N,B.x,B.y)}return N},g=h(),y=Mo(function(R,N){var D=d(R,N);if(v){var I=Math.abs(r.spacingFactor);D=f(I,g,D)}return r.transform!=null&&(D=r.transform(R,D)),D},u);if(r.animate){for(var m=0;m<o.length;m++){var C=o[m],x=y(C,m),E=r.animateFilter==null||r.animateFilter(C,m);if(E){var k=C.animation({position:x,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(k)}else C.position(x)}if(r.fit){var b=s.animation({fit:{boundingBox:l.boundingBoxAt(y),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(b)}else if(r.zoom!==void 0&&r.pan!==void 0){var T=s.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(T)}e.animations.forEach(function(R){return R.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),Ni.all(e.animations.map(function(R){return R.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else o.positions(y),r.fit&&s.fit(r.eles,r.padding),r.zoom!=null&&s.zoom(r.zoom),r.pan&&s.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout(Ue({},e,{eles:this}))}};Dl.createLayout=Dl.makeLayout=Dl.layout;function Wg(t,e,r){var a=r._private,o=a.styleCache=a.styleCache||[],s;return(s=o[t])!=null||(s=o[t]=e(r)),s}function tu(t,e){return t=Ba(t),function(a){return Wg(t,e,a)}}function ru(t,e){t=Ba(t);var r=function(o){return e.call(o)};return function(){var o=this[0];if(o)return Wg(t,r,o)}}var Zt={recalculateRenderedStyle:function(e){var r=this.cy(),a=r.renderer(),o=r.styleEnabled();return a&&o&&a.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(s){return s._private.styleCache=null};if(e.hasCompoundNodes()){var a;a=this.spawnSelf().merge(this.descendants()).merge(this.parents()),a.merge(a.connectedEdges()),a.forEach(r)}else this.forEach(function(o){r(o),o.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var a=r._private.batchStyleEles;return a.merge(this),this}var o=r.hasCompoundNodes(),s=this;e=!!(e||e===void 0),o&&(s=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var l=s;return e?l.emitAndNotify("style"):l.emit("style"),s.forEach(function(u){return u._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var a=this[r];a._private.styleDirty&&(a._private.styleDirty=!1,e.style().apply(a))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=this[0],o=a.cy();if(o.styleEnabled()&&a){this.cleanStyle();var s=a._private.style[e];return s??(r?o.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var a=r.pstyle(e);return a.pfValue!==void 0?a.pfValue:a.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var a=this[0];if(a)return r.style().getRenderedStyle(a,e)},style:function(e,r){var a=this.cy();if(!a.styleEnabled())return this;var o=!1,s=a.style();if(nt(e)){var l=e;s.applyBypass(this,l,o),this.emitAndNotify("style")}else if(Fe(e))if(r===void 0){var u=this[0];return u?s.getStylePropertyValue(u,e):void 0}else s.applyBypass(this,e,r,o),this.emitAndNotify("style");else if(e===void 0){var d=this[0];return d?s.getRawStyle(d):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var a=!1,o=r.style(),s=this;if(e===void 0)for(var l=0;l<s.length;l++){var u=s[l];o.removeAllBypasses(u,a)}else{e=e.split(/\s+/);for(var d=0;d<s.length;d++){var f=s[d];o.removeBypasses(f,e,a)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),a=this[0];if(a){var o=a._private,s=a.pstyle("opacity").value;if(!r)return s;var l=o.data.parent?a.parents():null;if(l)for(var u=0;u<l.length;u++){var d=l[u],f=d.pstyle("opacity").value;s=f*s}return s}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],a=r.cy().hasCompoundNodes();if(r)return a?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function tf(t,e){var r=t._private,a=r.data.parent?t.parents():null;if(a)for(var o=0;o<a.length;o++){var s=a[o];if(!e(s))return!1}return!0}function _f(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,a=t.parentOk||t.ok;return function(){var o=this.cy();if(!o.styleEnabled())return!0;var s=this[0],l=o.hasCompoundNodes();if(s){var u=s._private;if(!e(s))return!1;if(s.isNode())return!l||tf(s,a);var d=u.source,f=u.target;return r(d)&&(!l||tf(d,r))&&(d===f||r(f)&&(!l||tf(f,r)))}}}var Mi=tu("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});Zt.takesUpSpace=ru("takesUpSpace",_f({ok:Mi}));var SC=tu("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&Mi(t)}),CC=tu("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&Mi(t)});Zt.interactive=ru("interactive",_f({ok:SC,parentOk:CC,edgeOkViaNode:Mi}));Zt.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var kC=tu("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&Mi(t)}),bC=Mi;Zt.visible=ru("visible",_f({ok:kC,edgeOkViaNode:bC}));Zt.hidden=function(){var t=this[0];if(t)return!t.visible()};Zt.isBundledBezier=ru("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Zt.bypass=Zt.css=Zt.style;Zt.renderedCss=Zt.renderedStyle;Zt.removeBypass=Zt.removeCss=Zt.removeStyle;Zt.pstyle=Zt.parsedStyle;var ia={};function cp(t){return function(){var e=arguments,r=[];if(e.length===2){var a=e[0],o=e[1];this.on(t.event,a,o)}else if(e.length===1&&bt(e[0])){var s=e[0];this.on(t.event,s)}else if(e.length===0||e.length===1&&vt(e[0])){for(var l=e.length===1?e[0]:null,u=0;u<this.length;u++){var d=this[u],f=!t.ableField||d._private[t.ableField],v=d._private[t.field]!=t.value;if(t.overrideAble){var h=t.overrideAble(d);if(h!==void 0&&(f=h,!h))return this}f&&(d._private[t.field]=t.value,v&&r.push(d))}var g=this.spawn(r);g.updateStyle(),g.emit(t.event),l&&g.emit(l)}return this}}function Ii(t){ia[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},ia[t.on]=cp({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),ia[t.off]=cp({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}Ii({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});Ii({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});Ii({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});Ii({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});ia.deselect=ia.unselect;ia.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};Ii({field:"active",on:"activate",off:"unactivate"});Ii({field:"pannable",on:"panify",off:"unpanify"});ia.inactive=function(){var t=this[0];if(t)return!t._private.active};var vr={},fp=function(e){return function(a){for(var o=this,s=[],l=0;l<o.length;l++){var u=o[l];if(u.isNode()){for(var d=!1,f=u.connectedEdges(),v=0;v<f.length;v++){var h=f[v],g=h.source(),y=h.target();if(e.noIncomingEdges&&y===u&&g!==u||e.noOutgoingEdges&&g===u&&y!==u){d=!0;break}}d||s.push(u)}}return this.spawn(s,!0).filter(a)}},dp=function(e){return function(r){for(var a=this,o=[],s=0;s<a.length;s++){var l=a[s];if(l.isNode())for(var u=l.connectedEdges(),d=0;d<u.length;d++){var f=u[d],v=f.source(),h=f.target();e.outgoing&&v===l?(o.push(f),o.push(h)):e.incoming&&h===l&&(o.push(f),o.push(v))}}return this.spawn(o,!0).filter(r)}},vp=function(e){return function(r){for(var a=this,o=[],s={};;){var l=e.outgoing?a.outgoers():a.incomers();if(l.length===0)break;for(var u=!1,d=0;d<l.length;d++){var f=l[d],v=f.id();s[v]||(s[v]=!0,o.push(f),u=!0)}if(!u)break;a=l}return this.spawn(o,!0).filter(r)}};vr.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};Ue(vr,{roots:fp({noIncomingEdges:!0}),leaves:fp({noOutgoingEdges:!0}),outgoers:Wr(dp({outgoing:!0}),"outgoers"),successors:vp({outgoing:!0}),incomers:Wr(dp({incoming:!0}),"incomers"),predecessors:vp({incoming:!0})});Ue(vr,{neighborhood:Wr(function(t){for(var e=[],r=this.nodes(),a=0;a<r.length;a++)for(var o=r[a],s=o.connectedEdges(),l=0;l<s.length;l++){var u=s[l],d=u.source(),f=u.target(),v=o===d?f:d;v.length>0&&e.push(v[0]),e.push(u[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});vr.neighbourhood=vr.neighborhood;vr.closedNeighbourhood=vr.closedNeighborhood;vr.openNeighbourhood=vr.openNeighborhood;Ue(vr,{source:Wr(function(e){var r=this[0],a;return r&&(a=r._private.source||r.cy().collection()),a&&e?a.filter(e):a},"source"),target:Wr(function(e){var r=this[0],a;return r&&(a=r._private.target||r.cy().collection()),a&&e?a.filter(e):a},"target"),sources:hp({attr:"source"}),targets:hp({attr:"target"})});function hp(t){return function(r){for(var a=[],o=0;o<this.length;o++){var s=this[o],l=s._private[t.attr];l&&a.push(l)}return this.spawn(a,!0).filter(r)}}Ue(vr,{edgesWith:Wr(pp(),"edgesWith"),edgesTo:Wr(pp({thisIsSrc:!0}),"edgesTo")});function pp(t){return function(r){var a=[],o=this._private.cy,s=t||{};Fe(r)&&(r=o.$(r));for(var l=0;l<r.length;l++)for(var u=r[l]._private.edges,d=0;d<u.length;d++){var f=u[d],v=f._private.data,h=this.hasElementWithId(v.source)&&r.hasElementWithId(v.target),g=r.hasElementWithId(v.source)&&this.hasElementWithId(v.target),y=h||g;y&&((s.thisIsSrc||s.thisIsTgt)&&(s.thisIsSrc&&!h||s.thisIsTgt&&!g)||a.push(f))}return this.spawn(a,!0)}}Ue(vr,{connectedEdges:Wr(function(t){for(var e=[],r=this,a=0;a<r.length;a++){var o=r[a];if(o.isNode())for(var s=o._private.edges,l=0;l<s.length;l++){var u=s[l];e.push(u)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:Wr(function(t){for(var e=[],r=this,a=0;a<r.length;a++){var o=r[a];o.isEdge()&&(e.push(o.source()[0]),e.push(o.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:Wr(gp(),"parallelEdges"),codirectedEdges:Wr(gp({codirected:!0}),"codirectedEdges")});function gp(t){var e={codirected:!1};return t=Ue({},e,t),function(a){for(var o=[],s=this.edges(),l=t,u=0;u<s.length;u++)for(var d=s[u],f=d._private,v=f.source,h=v._private.data.id,g=f.data.target,y=v._private.edges,m=0;m<y.length;m++){var C=y[m],x=C._private.data,E=x.target,k=x.source,b=E===g&&k===h,T=h===E&&g===k;(l.codirected&&b||!l.codirected&&(b||T))&&o.push(C)}return this.spawn(o,!0).filter(a)}}Ue(vr,{components:function(e){var r=this,a=r.cy(),o=a.collection(),s=e==null?r.nodes():e.nodes(),l=[];e!=null&&s.empty()&&(s=e.sources());var u=function(v,h){o.merge(v),s.unmerge(v),h.merge(v)};if(s.empty())return r.spawn();var d=function(){var v=a.collection();l.push(v);var h=s[0];u(h,v),r.bfs({directed:!1,roots:h,visit:function(y){return u(y,v)}}),v.forEach(function(g){g.connectedEdges().forEach(function(y){r.has(y)&&v.has(y.source())&&v.has(y.target())&&v.merge(y)})})};do d();while(s.length>0);return l},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});vr.componentsOf=vr.components;var Jt=function(e,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){Nt("A collection must have a reference to the core");return}var s=new vn,l=!1;if(!r)r=[];else if(r.length>0&&nt(r[0])&&!qo(r[0])){l=!0;for(var u=[],d=new Pi,f=0,v=r.length;f<v;f++){var h=r[f];h.data==null&&(h.data={});var g=h.data;if(g.id==null)g.id=ig();else if(e.hasElementWithId(g.id)||d.has(g.id))continue;var y=new Kl(e,h,!1);u.push(y),d.add(g.id)}r=u}this.length=0;for(var m=0,C=r.length;m<C;m++){var x=r[m][0];if(x!=null){var E=x._private.data.id;(!a||!s.has(E))&&(a&&s.set(E,{index:this.length,ele:x}),this[this.length]=x,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(k){this.lazyMap=k},rebuildMap:function(){for(var b=this.lazyMap=new vn,T=this.eles,R=0;R<T.length;R++){var N=T[R];b.set(N.id(),{index:R,ele:N})}}},a&&(this._private.map=s),l&&!o&&this.restore()},gt=Kl.prototype=Jt.prototype=Object.create(Array.prototype);gt.instanceString=function(){return"collection"};gt.spawn=function(t,e){return new Jt(this.cy(),t,e)};gt.spawnSelf=function(){return this.spawn(this)};gt.cy=function(){return this._private.cy};gt.renderer=function(){return this._private.cy.renderer()};gt.element=function(){return this[0]};gt.collection=function(){return qp(this)?this:new Jt(this._private.cy,[this])};gt.unique=function(){return new Jt(this._private.cy,this,!0)};gt.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};gt.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new Jt(e)};gt.$id=gt.getElementById;gt.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};gt.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};gt.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};gt.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var a=e._private;if(nt(t)){if(r.startBatch(),t.data){e.data(t.data);var o=a.data;if(e.isEdge()){var s=!1,l={},u=t.data.source,d=t.data.target;u!=null&&u!=o.source&&(l.source=""+u,s=!0),d!=null&&d!=o.target&&(l.target=""+d,s=!0),s&&(e=e.move(l))}else{var f="parent"in t.data,v=t.data.parent;f&&(v!=null||o.parent!=null)&&v!=o.parent&&(v===void 0&&(v=null),v!=null&&(v=""+v),e=e.move({parent:v}))}}t.position&&e.position(t.position);var h=function(C,x,E){var k=t[C];k!=null&&k!==a[C]&&(k?e[x]():e[E]())};return h("removed","remove","restore"),h("selected","select","unselect"),h("selectable","selectify","unselectify"),h("locked","lock","unlock"),h("grabbable","grabify","ungrabify"),h("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var g={data:dn(a.data),position:dn(a.position),group:a.group,removed:a.removed,selected:a.selected,selectable:a.selectable,locked:a.locked,grabbable:a.grabbable,pannable:a.pannable,classes:null};g.classes="";var y=0;return a.classes.forEach(function(m){return g.classes+=y++===0?m:" "+m}),g}}};gt.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],a=r.json();t.push(a)}return t};gt.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var a=this[r],o=a.json(),s=new Kl(t,o,!1);e.push(s)}return new Jt(t,e)};gt.copy=gt.clone;gt.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,a=r.cy(),o=a._private,s=[],l=[],u,d=0,f=r.length;d<f;d++){var v=r[d];e&&!v.removed()||(v.isNode()?s.push(v):l.push(v))}u=s.concat(l);var h,g=function(){u.splice(h,1),h--};for(h=0;h<u.length;h++){var y=u[h],m=y._private,C=m.data;if(y.clearTraversalCache(),!(!e&&!m.removed)){if(C.id===void 0)C.id=ig();else if(ke(C.id))C.id=""+C.id;else if(oa(C.id)||!Fe(C.id)){Nt("Can not create element with invalid string ID `"+C.id+"`"),g();continue}else if(a.hasElementWithId(C.id)){Nt("Can not create second element with ID `"+C.id+"`"),g();continue}}var x=C.id;if(y.isNode()){var E=m.position;E.x==null&&(E.x=0),E.y==null&&(E.y=0)}if(y.isEdge()){for(var k=y,b=["source","target"],T=b.length,R=!1,N=0;N<T;N++){var D=b[N],I=C[D];ke(I)&&(I=C[D]=""+C[D]),I==null||I===""?(Nt("Can not create edge `"+x+"` with unspecified "+D),R=!0):a.hasElementWithId(I)||(Nt("Can not create edge `"+x+"` with nonexistant "+D+" `"+I+"`"),R=!0)}if(R){g();continue}var B=a.getElementById(C.source),F=a.getElementById(C.target);B.same(F)?B._private.edges.push(k):(B._private.edges.push(k),F._private.edges.push(k)),k._private.source=B,k._private.target=F}m.map=new vn,m.map.set(x,{ele:y,index:0}),m.removed=!1,e&&a.addToPool(y)}for(var A=0;A<s.length;A++){var j=s[A],_=j._private.data;ke(_.parent)&&(_.parent=""+_.parent);var L=_.parent,$=L!=null;if($||j._private.parent){var V=j._private.parent?a.collection().merge(j._private.parent):a.getElementById(L);if(V.empty())_.parent=void 0;else if(V[0].removed())ct("Node added with missing parent, reference to parent removed"),_.parent=void 0,j._private.parent=null;else{for(var U=!1,H=V;!H.empty();){if(j.same(H)){U=!0,_.parent=void 0;break}H=H.parent()}U||(V[0]._private.children.push(j),j._private.parent=V[0],o.hasCompoundNodes=!0)}}}if(u.length>0){for(var K=u.length===r.length?r:new Jt(a,u),Y=0;Y<K.length;Y++){var M=K[Y];M.isNode()||(M.parallelEdges().clearTraversalCache(),M.source().clearTraversalCache(),M.target().clearTraversalCache())}var q;o.hasCompoundNodes?q=a.collection().merge(K).merge(K.connectedNodes()).merge(K.parent()):q=K,q.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?K.emitAndNotify("add"):e&&K.emit("add")}return r};gt.removed=function(){var t=this[0];return t&&t._private.removed};gt.inside=function(){var t=this[0];return t&&!t._private.removed};gt.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,a=[],o={},s=r._private.cy;function l(L){for(var $=L._private.edges,V=0;V<$.length;V++)d($[V])}function u(L){for(var $=L._private.children,V=0;V<$.length;V++)d($[V])}function d(L){var $=o[L.id()];e&&L.removed()||$||(o[L.id()]=!0,L.isNode()?(a.push(L),l(L),u(L)):a.unshift(L))}for(var f=0,v=r.length;f<v;f++){var h=r[f];d(h)}function g(L,$){var V=L._private.edges;sa(V,$),L.clearTraversalCache()}function y(L){L.clearTraversalCache()}var m=[];m.ids={};function C(L,$){$=$[0],L=L[0];var V=L._private.children,U=L.id();sa(V,$),$._private.parent=null,m.ids[U]||(m.ids[U]=!0,m.push(L))}r.dirtyCompoundBoundsCache(),e&&s.removeFromPool(a);for(var x=0;x<a.length;x++){var E=a[x];if(E.isEdge()){var k=E.source()[0],b=E.target()[0];g(k,E),g(b,E);for(var T=E.parallelEdges(),R=0;R<T.length;R++){var N=T[R];y(N),N.isBundledBezier()&&N.dirtyBoundingBoxCache()}}else{var D=E.parent();D.length!==0&&C(D,E)}e&&(E._private.removed=!0)}var I=s._private.elements;s._private.hasCompoundNodes=!1;for(var B=0;B<I.length;B++){var F=I[B];if(F.isParent()){s._private.hasCompoundNodes=!0;break}}var A=new Jt(this.cy(),a);A.size()>0&&(t?A.emitAndNotify("remove"):e&&A.emit("remove"));for(var j=0;j<m.length;j++){var _=m[j];(!e||!_.removed())&&_.updateStyle()}return A};gt.move=function(t){var e=this._private.cy,r=this,a=!1,o=!1,s=function(m){return m==null?m:""+m};if(t.source!==void 0||t.target!==void 0){var l=s(t.source),u=s(t.target),d=l!=null&&e.hasElementWithId(l),f=u!=null&&e.hasElementWithId(u);(d||f)&&(e.batch(function(){r.remove(a,o),r.emitAndNotify("moveout");for(var y=0;y<r.length;y++){var m=r[y],C=m._private.data;m.isEdge()&&(d&&(C.source=l),f&&(C.target=u))}r.restore(a,o)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var v=s(t.parent),h=v===null||e.hasElementWithId(v);if(h){var g=v===null?void 0:v;e.batch(function(){var y=r.remove(a,o);y.emitAndNotify("moveout");for(var m=0;m<r.length;m++){var C=r[m],x=C._private.data;C.isNode()&&(x.parent=g)}y.restore(a,o)}),r.emitAndNotify("move")}}return this};[yg,zS,Tl,aa,Di,ZS,Jl,hC,Ug,Hg,wC,jl,Dl,Zt,ia,vr].forEach(function(t){Ue(gt,t)});var TC={add:function(e){var r,a=this;if(Ir(e)){var o=e;if(o._private.cy===a)r=o.restore();else{for(var s=[],l=0;l<o.length;l++){var u=o[l];s.push(u.json())}r=new Jt(a,s)}}else if(vt(e)){var d=e;r=new Jt(a,d)}else if(nt(e)&&(vt(e.nodes)||vt(e.edges))){for(var f=e,v=[],h=["nodes","edges"],g=0,y=h.length;g<y;g++){var m=h[g],C=f[m];if(vt(C))for(var x=0,E=C.length;x<E;x++){var k=Ue({group:m},C[x]);v.push(k)}}r=new Jt(a,v)}else{var b=e;r=new Kl(a,b).collection()}return r},remove:function(e){if(!Ir(e)){if(Fe(e)){var r=e;e=this.$(r)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function DC(t,e,r,a){var o=4,s=.001,l=1e-7,u=10,d=11,f=1/(d-1),v=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var h=0;h<4;++h)if(typeof arguments[h]!="number"||isNaN(arguments[h])||!isFinite(arguments[h]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var g=v?new Float32Array(d):new Array(d);function y(F,A){return 1-3*A+3*F}function m(F,A){return 3*A-6*F}function C(F){return 3*F}function x(F,A,j){return((y(A,j)*F+m(A,j))*F+C(A))*F}function E(F,A,j){return 3*y(A,j)*F*F+2*m(A,j)*F+C(A)}function k(F,A){for(var j=0;j<o;++j){var _=E(A,t,r);if(_===0)return A;var L=x(A,t,r)-F;A-=L/_}return A}function b(){for(var F=0;F<d;++F)g[F]=x(F*f,t,r)}function T(F,A,j){var _,L,$=0;do L=A+(j-A)/2,_=x(L,t,r)-F,_>0?j=L:A=L;while(Math.abs(_)>l&&++$<u);return L}function R(F){for(var A=0,j=1,_=d-1;j!==_&&g[j]<=F;++j)A+=f;--j;var L=(F-g[j])/(g[j+1]-g[j]),$=A+L*f,V=E($,t,r);return V>=s?k(F,$):V===0?$:T(F,A,A+f)}var N=!1;function D(){N=!0,(t!==e||r!==a)&&b()}var I=function(A){return N||D(),t===e&&r===a?A:A===0?0:A===1?1:x(R(A),e,a)};I.getControlPoints=function(){return[{x:t,y:e},{x:r,y:a}]};var B="generateBezier("+[t,e,r,a]+")";return I.toString=function(){return B},I}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var PC=function(){function t(a){return-a.tension*a.x-a.friction*a.v}function e(a,o,s){var l={x:a.x+s.dx*o,v:a.v+s.dv*o,tension:a.tension,friction:a.friction};return{dx:l.v,dv:t(l)}}function r(a,o){var s={dx:a.v,dv:t(a)},l=e(a,o*.5,s),u=e(a,o*.5,l),d=e(a,o,u),f=1/6*(s.dx+2*(l.dx+u.dx)+d.dx),v=1/6*(s.dv+2*(l.dv+u.dv)+d.dv);return a.x=a.x+f*o,a.v=a.v+v*o,a}return function a(o,s,l){var u={x:-1,v:0,tension:null,friction:null},d=[0],f=0,v=1/1e4,h=16/1e3,g,y,m;for(o=parseFloat(o)||500,s=parseFloat(s)||20,l=l||null,u.tension=o,u.friction=s,g=l!==null,g?(f=a(o,s),y=f/l*h):y=h;m=r(m||u,y),d.push(1+m.x),f+=16,Math.abs(m.x)>v&&Math.abs(m.v)>v;);return g?function(C){return d[C*(d.length-1)|0]}:f}}(),pt=function(e,r,a,o){var s=DC(e,r,a,o);return function(l,u,d){return l+(u-l)*s(d)}},Pl={linear:function(e,r,a){return e+(r-e)*a},ease:pt(.25,.1,.25,1),"ease-in":pt(.42,0,1,1),"ease-out":pt(0,0,.58,1),"ease-in-out":pt(.42,0,.58,1),"ease-in-sine":pt(.47,0,.745,.715),"ease-out-sine":pt(.39,.575,.565,1),"ease-in-out-sine":pt(.445,.05,.55,.95),"ease-in-quad":pt(.55,.085,.68,.53),"ease-out-quad":pt(.25,.46,.45,.94),"ease-in-out-quad":pt(.455,.03,.515,.955),"ease-in-cubic":pt(.55,.055,.675,.19),"ease-out-cubic":pt(.215,.61,.355,1),"ease-in-out-cubic":pt(.645,.045,.355,1),"ease-in-quart":pt(.895,.03,.685,.22),"ease-out-quart":pt(.165,.84,.44,1),"ease-in-out-quart":pt(.77,0,.175,1),"ease-in-quint":pt(.755,.05,.855,.06),"ease-out-quint":pt(.23,1,.32,1),"ease-in-out-quint":pt(.86,0,.07,1),"ease-in-expo":pt(.95,.05,.795,.035),"ease-out-expo":pt(.19,1,.22,1),"ease-in-out-expo":pt(1,0,0,1),"ease-in-circ":pt(.6,.04,.98,.335),"ease-out-circ":pt(.075,.82,.165,1),"ease-in-out-circ":pt(.785,.135,.15,.86),spring:function(e,r,a){if(a===0)return Pl.linear;var o=PC(e,r,a);return function(s,l,u){return s+(l-s)*o(u)}},"cubic-bezier":pt};function mp(t,e,r,a,o){if(a===1||e===r)return r;var s=o(e,r,a);return t==null||((t.roundValue||t.color)&&(s=Math.round(s)),t.min!==void 0&&(s=Math.max(s,t.min)),t.max!==void 0&&(s=Math.min(s,t.max))),s}function yp(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function vi(t,e,r,a,o){var s=o!=null?o.type:null;r<0?r=0:r>1&&(r=1);var l=yp(t,o),u=yp(e,o);if(ke(l)&&ke(u))return mp(s,l,u,r,a);if(vt(l)&&vt(u)){for(var d=[],f=0;f<u.length;f++){var v=l[f],h=u[f];if(v!=null&&h!=null){var g=mp(s,v,h,r,a);d.push(g)}else d.push(h)}return d}}function NC(t,e,r,a){var o=!a,s=t._private,l=e._private,u=l.easing,d=l.startTime,f=a?t:t.cy(),v=f.style();if(!l.easingImpl)if(u==null)l.easingImpl=Pl.linear;else{var h;if(Fe(u)){var g=v.parse("transition-timing-function",u);h=g.value}else h=u;var y,m;Fe(h)?(y=h,m=[]):(y=h[1],m=h.slice(2).map(function(K){return+K})),m.length>0?(y==="spring"&&m.push(l.duration),l.easingImpl=Pl[y].apply(null,m)):l.easingImpl=Pl[y]}var C=l.easingImpl,x;if(l.duration===0?x=1:x=(r-d)/l.duration,l.applying&&(x=l.progress),x<0?x=0:x>1&&(x=1),l.delay==null){var E=l.startPosition,k=l.position;if(k&&o&&!t.locked()){var b={};bo(E.x,k.x)&&(b.x=vi(E.x,k.x,x,C)),bo(E.y,k.y)&&(b.y=vi(E.y,k.y,x,C)),t.position(b)}var T=l.startPan,R=l.pan,N=s.pan,D=R!=null&&a;D&&(bo(T.x,R.x)&&(N.x=vi(T.x,R.x,x,C)),bo(T.y,R.y)&&(N.y=vi(T.y,R.y,x,C)),t.emit("pan"));var I=l.startZoom,B=l.zoom,F=B!=null&&a;F&&(bo(I,B)&&(s.zoom=Ao(s.minZoom,vi(I,B,x,C),s.maxZoom)),t.emit("zoom")),(D||F)&&t.emit("viewport");var A=l.style;if(A&&A.length>0&&o){for(var j=0;j<A.length;j++){var _=A[j],L=_.name,$=_,V=l.startStyle[L],U=v.properties[V.name],H=vi(V,$,x,C,U);v.overrideBypass(t,L,H)}t.emit("style")}}return l.progress=x,x}function bo(t,e){return t==null||e==null?!1:ke(t)&&ke(e)?!0:!!(t&&e)}function LC(t,e,r,a){var o=e._private;o.started=!0,o.startTime=r-o.progress*o.duration}function wp(t,e){var r=e._private.aniEles,a=[];function o(v,h){var g=v._private,y=g.animation.current,m=g.animation.queue,C=!1;if(y.length===0){var x=m.shift();x&&y.push(x)}for(var E=function(N){for(var D=N.length-1;D>=0;D--){var I=N[D];I()}N.splice(0,N.length)},k=y.length-1;k>=0;k--){var b=y[k],T=b._private;if(T.stopped){y.splice(k,1),T.hooked=!1,T.playing=!1,T.started=!1,E(T.frames);continue}!T.playing&&!T.applying||(T.playing&&T.applying&&(T.applying=!1),T.started||LC(v,b,t),NC(v,b,t,h),T.applying&&(T.applying=!1),E(T.frames),T.step!=null&&T.step(t),b.completed()&&(y.splice(k,1),T.hooked=!1,T.playing=!1,T.started=!1,E(T.completes)),C=!0)}return!h&&y.length===0&&m.length===0&&a.push(v),C}for(var s=!1,l=0;l<r.length;l++){var u=r[l],d=o(u);s=s||d}var f=o(e,!0);(s||f)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(a),e.emit("step")}var RC={animate:ut.animate(),animation:ut.animation(),animated:ut.animated(),clearQueue:ut.clearQueue(),delay:ut.delay(),delayAnimation:ut.delayAnimation(),stop:ut.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&Il(function(s){wp(s,e),r()})}var a=e.renderer();a&&a.beforeRender?a.beforeRender(function(s,l){wp(l,e)},a.beforeRenderPriorities.animations):r()}},BC={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,a){var o=r.qualifier;return o!=null?e!==a.target&&qo(a.target)&&o.matches(a.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,a){return r.qualifier!=null?a.target:e}},El=function(e){return Fe(e)?new la(e):e},Kg={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new eu(BC,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,a){return this.emitter().on(e,El(r),a),this},removeListener:function(e,r,a){return this.emitter().removeListener(e,El(r),a),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,a){return this.emitter().one(e,El(r),a),this},once:function(e,r,a){return this.emitter().one(e,El(r),a),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};ut.eventAliasesOn(Kg);var hf={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};hf.jpeg=hf.jpg;var Nl={layout:function(e){var r=this;if(e==null){Nt("Layout options must be specified to make a layout");return}if(e.name==null){Nt("A `name` must be specified to make a layout");return}var a=e.name,o=r.extension("layout",a);if(o==null){Nt("No such layout `"+a+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var s;Fe(e.eles)?s=r.$(e.eles):s=e.eles!=null?e.eles:r.$();var l=new o(Ue({},e,{cy:r,eles:s}));return l}};Nl.createLayout=Nl.makeLayout=Nl.layout;var MC={notify:function(e,r){var a=this._private;if(this.batching()){a.batchNotifications=a.batchNotifications||{};var o=a.batchNotifications[e]=a.batchNotifications[e]||this.collection();r!=null&&o.merge(r);return}if(a.notificationsEnabled){var s=this.renderer();this.destroyed()||!s||s.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(a){var o=e.batchNotifications[a];o.empty()?r.notify(a):r.notify(a,o)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var a=Object.keys(e),o=0;o<a.length;o++){var s=a[o],l=e[s],u=r.getElementById(s);u.data(l)}})}},IC=er({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),pf={renderTo:function(e,r,a,o){var s=this._private.renderer;return s.renderTo(e,r,a,o),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,a=r.extension("renderer",e.name);if(a==null){Nt("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&ct("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var o=IC(e);o.cy=r,r._private.renderer=new a(o),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(a){var o=a._private;o.rscratch={},o.rstyle={},o.animation.current=[],o.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};pf.invalidateDimensions=pf.resize;var Ll={collection:function(e,r){return Fe(e)?this.$(e):Ir(e)?e.collection():vt(e)?(r||(r={}),new Jt(this,e,r.unique,r.removed)):new Jt(this)},nodes:function(e){var r=this.$(function(a){return a.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(a){return a.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};Ll.elements=Ll.filter=Ll.$;var pr={},Ro="t",OC="f";pr.apply=function(t){for(var e=this,r=e._private,a=r.cy,o=a.collection(),s=0;s<t.length;s++){var l=t[s],u=e.getContextMeta(l);if(!u.empty){var d=e.getContextStyle(u),f=e.applyContextStyle(u,d,l);l._private.appliedInitStyle?e.updateTransitions(l,f.diffProps):l._private.appliedInitStyle=!0;var v=e.updateStyleHints(l);v&&o.push(l)}}return o};pr.getPropertiesDiff=function(t,e){var r=this,a=r._private.propDiffs=r._private.propDiffs||{},o=t+"-"+e,s=a[o];if(s)return s;for(var l=[],u={},d=0;d<r.length;d++){var f=r[d],v=t[d]===Ro,h=e[d]===Ro,g=v!==h,y=f.mappedProperties.length>0;if(g||h&&y){var m=void 0;g&&y||g?m=f.properties:y&&(m=f.mappedProperties);for(var C=0;C<m.length;C++){for(var x=m[C],E=x.name,k=!1,b=d+1;b<r.length;b++){var T=r[b],R=e[b]===Ro;if(R&&(k=T.properties[x.name]!=null,k))break}!u[E]&&!k&&(u[E]=!0,l.push(E))}}}return a[o]=l,l};pr.getContextMeta=function(t){for(var e=this,r="",a,o=t._private.styleCxtKey||"",s=0;s<e.length;s++){var l=e[s],u=l.selector&&l.selector.matches(t);u?r+=Ro:r+=OC}return a=e.getPropertiesDiff(o,r),t._private.styleCxtKey=r,{key:r,diffPropNames:a,empty:a.length===0}};pr.getContextStyle=function(t){var e=t.key,r=this,a=this._private.contextStyles=this._private.contextStyles||{};if(a[e])return a[e];for(var o={_private:{key:e}},s=0;s<r.length;s++){var l=r[s],u=e[s]===Ro;if(u)for(var d=0;d<l.properties.length;d++){var f=l.properties[d];o[f.name]=f}}return a[e]=o,o};pr.applyContextStyle=function(t,e,r){for(var a=this,o=t.diffPropNames,s={},l=a.types,u=0;u<o.length;u++){var d=o[u],f=e[d],v=r.pstyle(d);if(!f)if(v)v.bypass?f={name:d,deleteBypassed:!0}:f={name:d,delete:!0};else continue;if(v!==f){if(f.mapped===l.fn&&v!=null&&v.mapping!=null&&v.mapping.value===f.value){var h=v.mapping,g=h.fnValue=f.value(r);if(g===h.prevFnValue)continue}var y=s[d]={prev:v};a.applyParsedProperty(r,f),y.next=r.pstyle(d),y.next&&y.next.bypass&&(y.next=y.next.bypassed)}}return{diffProps:s}};pr.updateStyleHints=function(t){var e=t._private,r=this,a=r.propertyGroupNames,o=r.propertyGroupKeys,s=function(de,Ee,ze){return r.getPropertiesHash(de,Ee,ze)},l=e.styleKey;if(t.removed())return!1;var u=e.group==="nodes",d=t._private.style;a=Object.keys(d);for(var f=0;f<o.length;f++){var v=o[f];e.styleKeys[v]=[mi,Do]}for(var h=function(de,Ee){return e.styleKeys[Ee][0]=Io(de,e.styleKeys[Ee][0])},g=function(de,Ee){return e.styleKeys[Ee][1]=Oo(de,e.styleKeys[Ee][1])},y=function(de,Ee){h(de,Ee),g(de,Ee)},m=function(de,Ee){for(var ze=0;ze<de.length;ze++){var xe=de.charCodeAt(ze);h(xe,Ee),g(xe,Ee)}},C=2e9,x=function(de){return-128<de&&de<128&&Math.floor(de)!==de?C-(de*1024|0):de},E=0;E<a.length;E++){var k=a[E],b=d[k];if(b!=null){var T=this.properties[k],R=T.type,N=T.groupKey,D=void 0;T.hashOverride!=null?D=T.hashOverride(t,b):b.pfValue!=null&&(D=b.pfValue);var I=T.enums==null?b.value:null,B=D!=null,F=I!=null,A=B||F,j=b.units;if(R.number&&A&&!R.multiple){var _=B?D:I;y(x(_),N),!B&&j!=null&&m(j,N)}else m(b.strValue,N)}}for(var L=[mi,Do],$=0;$<o.length;$++){var V=o[$],U=e.styleKeys[V];L[0]=Io(U[0],L[0]),L[1]=Oo(U[1],L[1])}e.styleKey=V1(L[0],L[1]);var H=e.styleKeys;e.labelDimsKey=ea(H.labelDimensions);var K=s(t,["label"],H.labelDimensions);if(e.labelKey=ea(K),e.labelStyleKey=ea(dl(H.commonLabel,K)),!u){var Y=s(t,["source-label"],H.labelDimensions);e.sourceLabelKey=ea(Y),e.sourceLabelStyleKey=ea(dl(H.commonLabel,Y));var M=s(t,["target-label"],H.labelDimensions);e.targetLabelKey=ea(M),e.targetLabelStyleKey=ea(dl(H.commonLabel,M))}if(u){var q=e.styleKeys,te=q.nodeBody,ie=q.nodeBorder,se=q.nodeOutline,ue=q.backgroundImage,ce=q.compound,ae=q.pie,Q=[te,ie,se,ue,ce,ae].filter(function(le){return le!=null}).reduce(dl,[mi,Do]);e.nodeKey=ea(Q),e.hasPie=ae!=null&&ae[0]!==mi&&ae[1]!==Do}return l!==e.styleKey};pr.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null};pr.applyParsedProperty=function(t,e){var r=this,a=e,o=t._private.style,s,l=r.types,u=r.properties[a.name].type,d=a.bypass,f=o[a.name],v=f&&f.bypass,h=t._private,g="mapping",y=function(te){return te==null?null:te.pfValue!=null?te.pfValue:te.value},m=function(){var te=y(f),ie=y(a);r.checkTriggers(t,a.name,te,ie)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(a=e=this.parse(e.name,"bezier",d)),a.delete)return o[a.name]=void 0,m(),!0;if(a.deleteBypassed)return f?f.bypass?(f.bypassed=void 0,m(),!0):!1:(m(),!0);if(a.deleteBypass)return f?f.bypass?(o[a.name]=f.bypassed,m(),!0):!1:(m(),!0);var C=function(){ct("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+a.name+"` with data field `"+a.field+"`); try a `["+a.field+"]` selector to limit scope to elements with `"+a.field+"` defined")};switch(a.mapped){case l.mapData:{for(var x=a.field.split("."),E=h.data,k=0;k<x.length&&E;k++){var b=x[k];E=E[b]}if(E==null)return C(),!1;var T;if(ke(E)){var R=a.fieldMax-a.fieldMin;R===0?T=0:T=(E-a.fieldMin)/R}else return ct("Do not use continuous mappers without specifying numeric data (i.e. `"+a.field+": "+E+"` for `"+t.id()+"` is non-numeric)"),!1;if(T<0?T=0:T>1&&(T=1),u.color){var N=a.valueMin[0],D=a.valueMax[0],I=a.valueMin[1],B=a.valueMax[1],F=a.valueMin[2],A=a.valueMax[2],j=a.valueMin[3]==null?1:a.valueMin[3],_=a.valueMax[3]==null?1:a.valueMax[3],L=[Math.round(N+(D-N)*T),Math.round(I+(B-I)*T),Math.round(F+(A-F)*T),Math.round(j+(_-j)*T)];s={bypass:a.bypass,name:a.name,value:L,strValue:"rgb("+L[0]+", "+L[1]+", "+L[2]+")"}}else if(u.number){var $=a.valueMin+(a.valueMax-a.valueMin)*T;s=this.parse(a.name,$,a.bypass,g)}else return!1;if(!s)return C(),!1;s.mapping=a,a=s;break}case l.data:{for(var V=a.field.split("."),U=h.data,H=0;H<V.length&&U;H++){var K=V[H];U=U[K]}if(U!=null&&(s=this.parse(a.name,U,a.bypass,g)),!s)return C(),!1;s.mapping=a,a=s;break}case l.fn:{var Y=a.value,M=a.fnValue!=null?a.fnValue:Y(t);if(a.prevFnValue=M,M==null)return ct("Custom function mappers may not return null (i.e. `"+a.name+"` for ele `"+t.id()+"` is null)"),!1;if(s=this.parse(a.name,M,a.bypass,g),!s)return ct("Custom function mappers may not return invalid values for the property type (i.e. `"+a.name+"` for ele `"+t.id()+"` is invalid)"),!1;s.mapping=dn(a),a=s;break}case void 0:break;default:return!1}return d?(v?a.bypassed=f.bypassed:a.bypassed=f,o[a.name]=a):v?f.bypassed=a:o[a.name]=a,m(),!0};pr.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var a=t[r];if(this.clearStyleHints(a),a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),!e)a._private.style={};else for(var o=a._private.style,s=Object.keys(o),l=0;l<s.length;l++){var u=s[l],d=o[u];d!=null&&(d.bypass?d.bypassed=null:o[u]=null)}}};pr.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};pr.updateTransitions=function(t,e){var r=this,a=t._private,o=t.pstyle("transition-property").value,s=t.pstyle("transition-duration").pfValue,l=t.pstyle("transition-delay").pfValue;if(o.length>0&&s>0){for(var u={},d=!1,f=0;f<o.length;f++){var v=o[f],h=t.pstyle(v),g=e[v];if(g){var y=g.prev,m=y,C=g.next!=null?g.next:h,x=!1,E=void 0,k=1e-6;m&&(ke(m.pfValue)&&ke(C.pfValue)?(x=C.pfValue-m.pfValue,E=m.pfValue+k*x):ke(m.value)&&ke(C.value)?(x=C.value-m.value,E=m.value+k*x):vt(m.value)&&vt(C.value)&&(x=m.value[0]!==C.value[0]||m.value[1]!==C.value[1]||m.value[2]!==C.value[2],E=m.strValue),x&&(u[v]=C.strValue,this.applyBypass(t,v,E),d=!0))}}if(!d)return;a.transitioning=!0,new Ni(function(b){l>0?t.delayAnimation(l).play().promise().then(b):b()}).then(function(){return t.animation({style:u,duration:s,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,o),t.emitAndNotify("style"),a.transitioning=!1})}else a.transitioning&&(this.removeBypasses(t,o),t.emitAndNotify("style"),a.transitioning=!1)};pr.checkTrigger=function(t,e,r,a,o,s){var l=this.properties[e],u=o(l);u!=null&&u(r,a)&&s(l)};pr.checkZOrderTrigger=function(t,e,r,a){var o=this;this.checkTrigger(t,e,r,a,function(s){return s.triggersZOrder},function(){o._private.cy.notify("zorder",t)})};pr.checkBoundsTrigger=function(t,e,r,a){this.checkTrigger(t,e,r,a,function(o){return o.triggersBounds},function(o){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),o.triggersBoundsOfParallelBeziers&&e==="curve-style"&&(r==="bezier"||a==="bezier")&&t.parallelEdges().forEach(function(s){s.dirtyBoundingBoxCache()}),o.triggersBoundsOfConnectedEdges&&e==="display"&&(r==="none"||a==="none")&&t.connectedEdges().forEach(function(s){s.dirtyBoundingBoxCache()})})};pr.checkTriggers=function(t,e,r,a){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,a),this.checkBoundsTrigger(t,e,r,a)};var Yo={};Yo.applyBypass=function(t,e,r,a){var o=this,s=[],l=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var u=0;u<o.properties.length;u++){var d=o.properties[u],f=d.name,v=this.parse(f,r,!0);v&&s.push(v)}}else if(Fe(e)){var h=this.parse(e,r,!0);h&&s.push(h)}else if(nt(e)){var g=e;a=r;for(var y=Object.keys(g),m=0;m<y.length;m++){var C=y[m],x=g[C];if(x===void 0&&(x=g[Hl(C)]),x!==void 0){var E=this.parse(C,x,!0);E&&s.push(E)}}}else return!1;if(s.length===0)return!1;for(var k=!1,b=0;b<t.length;b++){for(var T=t[b],R={},N=void 0,D=0;D<s.length;D++){var I=s[D];if(a){var B=T.pstyle(I.name);N=R[I.name]={prev:B}}k=this.applyParsedProperty(T,dn(I))||k,a&&(N.next=T.pstyle(I.name))}k&&this.updateStyleHints(T),a&&this.updateTransitions(T,R,l)}return k};Yo.overrideBypass=function(t,e,r){e=Pf(e);for(var a=0;a<t.length;a++){var o=t[a],s=o._private.style[e],l=this.properties[e].type,u=l.color,d=l.mutiple,f=s?s.pfValue!=null?s.pfValue:s.value:null;!s||!s.bypass?this.applyBypass(o,e,r):(s.value=r,s.pfValue!=null&&(s.pfValue=r),u?s.strValue="rgb("+r.join(",")+")":d?s.strValue=r.join(" "):s.strValue=""+r,this.updateStyleHints(o)),this.checkTriggers(o,e,f,r)}};Yo.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};Yo.removeBypasses=function(t,e,r){for(var a=!0,o=0;o<t.length;o++){for(var s=t[o],l={},u=0;u<e.length;u++){var d=e[u],f=this.properties[d],v=s.pstyle(f.name);if(!(!v||!v.bypass)){var h="",g=this.parse(d,h,!0),y=l[f.name]={prev:v};this.applyParsedProperty(s,g),y.next=s.pstyle(f.name)}}this.updateStyleHints(s),r&&this.updateTransitions(s,l,a)}};var $f={};$f.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};$f.containerCss=function(t){var e=this._private.cy,r=e.container(),a=e.window();if(a&&r&&a.getComputedStyle)return a.getComputedStyle(r).getPropertyValue(t)};var hn={};hn.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};hn.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var a={},o=0;o<r.properties.length;o++){var s=r.properties[o],l=r.getStylePropertyValue(t,s.name,e);l!=null&&(a[s.name]=l,a[Hl(s.name)]=l)}return a}};hn.getIndexedStyle=function(t,e,r,a){var o=t.pstyle(e)[r][a];return o??t.cy().style().getDefaultProperty(e)[r][0]};hn.getStylePropertyValue=function(t,e,r){var a=this;if(t=t[0],t){var o=a.properties[e];o.alias&&(o=o.pointsTo);var s=o.type,l=t.pstyle(o.name);if(l){var u=l.value,d=l.units,f=l.strValue;if(r&&s.number&&u!=null&&ke(u)){var v=t.cy().zoom(),h=function(x){return x*v},g=function(x,E){return h(x)+E},y=vt(u),m=y?d.every(function(C){return C!=null}):d!=null;return m?y?u.map(function(C,x){return g(C,d[x])}).join(" "):g(u,d):y?u.map(function(C){return Fe(C)?C:""+h(C)}).join(" "):""+h(u)}else if(f!=null)return f}return null}};hn.getAnimationStartStyle=function(t,e){for(var r={},a=0;a<e.length;a++){var o=e[a],s=o.name,l=t.pstyle(s);l!==void 0&&(nt(l)?l=this.parse(s,l.strValue):l=this.parse(s,l)),l&&(r[s]=l)}return r};hn.getPropsList=function(t){var e=this,r=[],a=t,o=e.properties;if(a)for(var s=Object.keys(a),l=0;l<s.length;l++){var u=s[l],d=a[u],f=o[u]||o[Pf(u)],v=this.parse(f.name,d);v&&r.push(v)}return r};hn.getNonDefaultPropertiesHash=function(t,e,r){var a=r.slice(),o,s,l,u,d,f;for(d=0;d<e.length;d++)if(o=e[d],s=t.pstyle(o,!1),s!=null)if(s.pfValue!=null)a[0]=Io(u,a[0]),a[1]=Oo(u,a[1]);else for(l=s.strValue,f=0;f<l.length;f++)u=l.charCodeAt(f),a[0]=Io(u,a[0]),a[1]=Oo(u,a[1]);return a};hn.getPropertiesHash=hn.getNonDefaultPropertiesHash;var nu={};nu.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var a=t[r],o=a.selector,s=a.style||a.css,l=Object.keys(s);e.selector(o);for(var u=0;u<l.length;u++){var d=l[u],f=s[d];e.css(d,f)}}return e};nu.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};nu.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],a=r.selector,o=r.properties,s={},l=0;l<o.length;l++){var u=o[l];s[u.name]=u.strValue}t.push({selector:a?a.toString():"core",style:s})}return t};var Uf={};Uf.appendFromString=function(t){var e=this,r=this,a=""+t,o,s,l;a=a.replace(/[/][*](\s|.)+?[*][/]/g,"");function u(){a.length>o.length?a=a.substr(o.length):a=""}function d(){s.length>l.length?s=s.substr(l.length):s=""}for(;;){var f=a.match(/^\s*$/);if(f)break;var v=a.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!v){ct("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+a);break}o=v[0];var h=v[1];if(h!=="core"){var g=new la(h);if(g.invalid){ct("Skipping parsing of block: Invalid selector found in string stylesheet: "+h),u();continue}}var y=v[2],m=!1;s=y;for(var C=[];;){var x=s.match(/^\s*$/);if(x)break;var E=s.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!E){ct("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+y),m=!0;break}l=E[0];var k=E[1],b=E[2],T=e.properties[k];if(!T){ct("Skipping property: Invalid property name in: "+l),d();continue}var R=r.parse(k,b);if(!R){ct("Skipping property: Invalid property definition in: "+l),d();continue}C.push({name:k,val:b}),d()}if(m){u();break}r.selector(h);for(var N=0;N<C.length;N++){var D=C[N];r.css(D.name,D.val)}u()}return r};Uf.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var Xt={};(function(){var t=Vt,e=U0,r=q0,a=W0,o=K0,s=function(Q){return"^"+Q+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},l=function(Q){var le=t+"|\\w+|"+e+"|"+r+"|"+a+"|"+o;return"^"+Q+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+le+")\\s*\\,\\s*("+le+")\\)$"},u=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Xt.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:s("data")},layoutData:{mapping:!0,regex:s("layoutData")},scratch:{mapping:!0,regex:s("scratch")},mapData:{mapping:!0,regex:l("mapData")},mapLayoutData:{mapping:!0,regex:l("mapLayoutData")},mapScratch:{mapping:!0,regex:l("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:u,singleRegexMatchValue:!0},urls:{regexes:u,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Q,le){switch(Q.length){case 2:return le[0]!=="deg"&&le[0]!=="rad"&&le[1]!=="deg"&&le[1]!=="rad";case 1:return Fe(Q[0])||le[0]==="deg"||le[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Q){var le=Q.length;return le===1||le===2||le===4}}};var d={zeroNonZero:function(Q,le){return(Q==null||le==null)&&Q!==le||Q==0&&le!=0?!0:Q!=0&&le==0},any:function(Q,le){return Q!=le},emptyNonEmpty:function(Q,le){var de=oa(Q),Ee=oa(le);return de&&!Ee||!de&&Ee}},f=Xt.types,v=[{name:"label",type:f.text,triggersBounds:d.any,triggersZOrder:d.emptyNonEmpty},{name:"text-rotation",type:f.textRotation,triggersBounds:d.any},{name:"text-margin-x",type:f.bidirectionalSize,triggersBounds:d.any},{name:"text-margin-y",type:f.bidirectionalSize,triggersBounds:d.any}],h=[{name:"source-label",type:f.text,triggersBounds:d.any},{name:"source-text-rotation",type:f.textRotation,triggersBounds:d.any},{name:"source-text-margin-x",type:f.bidirectionalSize,triggersBounds:d.any},{name:"source-text-margin-y",type:f.bidirectionalSize,triggersBounds:d.any},{name:"source-text-offset",type:f.size,triggersBounds:d.any}],g=[{name:"target-label",type:f.text,triggersBounds:d.any},{name:"target-text-rotation",type:f.textRotation,triggersBounds:d.any},{name:"target-text-margin-x",type:f.bidirectionalSize,triggersBounds:d.any},{name:"target-text-margin-y",type:f.bidirectionalSize,triggersBounds:d.any},{name:"target-text-offset",type:f.size,triggersBounds:d.any}],y=[{name:"font-family",type:f.fontFamily,triggersBounds:d.any},{name:"font-style",type:f.fontStyle,triggersBounds:d.any},{name:"font-weight",type:f.fontWeight,triggersBounds:d.any},{name:"font-size",type:f.size,triggersBounds:d.any},{name:"text-transform",type:f.textTransform,triggersBounds:d.any},{name:"text-wrap",type:f.textWrap,triggersBounds:d.any},{name:"text-overflow-wrap",type:f.textOverflowWrap,triggersBounds:d.any},{name:"text-max-width",type:f.size,triggersBounds:d.any},{name:"text-outline-width",type:f.size,triggersBounds:d.any},{name:"line-height",type:f.positiveNumber,triggersBounds:d.any}],m=[{name:"text-valign",type:f.valign,triggersBounds:d.any},{name:"text-halign",type:f.halign,triggersBounds:d.any},{name:"color",type:f.color},{name:"text-outline-color",type:f.color},{name:"text-outline-opacity",type:f.zeroOneNumber},{name:"text-background-color",type:f.color},{name:"text-background-opacity",type:f.zeroOneNumber},{name:"text-background-padding",type:f.size,triggersBounds:d.any},{name:"text-border-opacity",type:f.zeroOneNumber},{name:"text-border-color",type:f.color},{name:"text-border-width",type:f.size,triggersBounds:d.any},{name:"text-border-style",type:f.borderStyle,triggersBounds:d.any},{name:"text-background-shape",type:f.textBackgroundShape,triggersBounds:d.any},{name:"text-justification",type:f.justification}],C=[{name:"events",type:f.bool,triggersZOrder:d.any},{name:"text-events",type:f.bool,triggersZOrder:d.any}],x=[{name:"display",type:f.display,triggersZOrder:d.any,triggersBounds:d.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:f.visibility,triggersZOrder:d.any},{name:"opacity",type:f.zeroOneNumber,triggersZOrder:d.zeroNonZero},{name:"text-opacity",type:f.zeroOneNumber},{name:"min-zoomed-font-size",type:f.size},{name:"z-compound-depth",type:f.zCompoundDepth,triggersZOrder:d.any},{name:"z-index-compare",type:f.zIndexCompare,triggersZOrder:d.any},{name:"z-index",type:f.number,triggersZOrder:d.any}],E=[{name:"overlay-padding",type:f.size,triggersBounds:d.any},{name:"overlay-color",type:f.color},{name:"overlay-opacity",type:f.zeroOneNumber,triggersBounds:d.zeroNonZero},{name:"overlay-shape",type:f.overlayShape,triggersBounds:d.any},{name:"overlay-corner-radius",type:f.cornerRadius}],k=[{name:"underlay-padding",type:f.size,triggersBounds:d.any},{name:"underlay-color",type:f.color},{name:"underlay-opacity",type:f.zeroOneNumber,triggersBounds:d.zeroNonZero},{name:"underlay-shape",type:f.overlayShape,triggersBounds:d.any},{name:"underlay-corner-radius",type:f.cornerRadius}],b=[{name:"transition-property",type:f.propList},{name:"transition-duration",type:f.time},{name:"transition-delay",type:f.time},{name:"transition-timing-function",type:f.easing}],T=function(Q,le){return le.value==="label"?-Q.poolIndex():le.pfValue},R=[{name:"height",type:f.nodeSize,triggersBounds:d.any,hashOverride:T},{name:"width",type:f.nodeSize,triggersBounds:d.any,hashOverride:T},{name:"shape",type:f.nodeShape,triggersBounds:d.any},{name:"shape-polygon-points",type:f.polygonPointList,triggersBounds:d.any},{name:"corner-radius",type:f.cornerRadius},{name:"background-color",type:f.color},{name:"background-fill",type:f.fill},{name:"background-opacity",type:f.zeroOneNumber},{name:"background-blacken",type:f.nOneOneNumber},{name:"background-gradient-stop-colors",type:f.colors},{name:"background-gradient-stop-positions",type:f.percentages},{name:"background-gradient-direction",type:f.gradientDirection},{name:"padding",type:f.sizeMaybePercent,triggersBounds:d.any},{name:"padding-relative-to",type:f.paddingRelativeTo,triggersBounds:d.any},{name:"bounds-expansion",type:f.boundsExpansion,triggersBounds:d.any}],N=[{name:"border-color",type:f.color},{name:"border-opacity",type:f.zeroOneNumber},{name:"border-width",type:f.size,triggersBounds:d.any},{name:"border-style",type:f.borderStyle},{name:"border-cap",type:f.lineCap},{name:"border-join",type:f.lineJoin},{name:"border-dash-pattern",type:f.numbers},{name:"border-dash-offset",type:f.number},{name:"border-position",type:f.linePosition}],D=[{name:"outline-color",type:f.color},{name:"outline-opacity",type:f.zeroOneNumber},{name:"outline-width",type:f.size,triggersBounds:d.any},{name:"outline-style",type:f.borderStyle},{name:"outline-offset",type:f.size,triggersBounds:d.any}],I=[{name:"background-image",type:f.urls},{name:"background-image-crossorigin",type:f.bgCrossOrigin},{name:"background-image-opacity",type:f.zeroOneNumbers},{name:"background-image-containment",type:f.bgContainment},{name:"background-image-smoothing",type:f.bools},{name:"background-position-x",type:f.bgPos},{name:"background-position-y",type:f.bgPos},{name:"background-width-relative-to",type:f.bgRelativeTo},{name:"background-height-relative-to",type:f.bgRelativeTo},{name:"background-repeat",type:f.bgRepeat},{name:"background-fit",type:f.bgFit},{name:"background-clip",type:f.bgClip},{name:"background-width",type:f.bgWH},{name:"background-height",type:f.bgWH},{name:"background-offset-x",type:f.bgPos},{name:"background-offset-y",type:f.bgPos}],B=[{name:"position",type:f.position,triggersBounds:d.any},{name:"compound-sizing-wrt-labels",type:f.compoundIncludeLabels,triggersBounds:d.any},{name:"min-width",type:f.size,triggersBounds:d.any},{name:"min-width-bias-left",type:f.sizeMaybePercent,triggersBounds:d.any},{name:"min-width-bias-right",type:f.sizeMaybePercent,triggersBounds:d.any},{name:"min-height",type:f.size,triggersBounds:d.any},{name:"min-height-bias-top",type:f.sizeMaybePercent,triggersBounds:d.any},{name:"min-height-bias-bottom",type:f.sizeMaybePercent,triggersBounds:d.any}],F=[{name:"line-style",type:f.lineStyle},{name:"line-color",type:f.color},{name:"line-fill",type:f.fill},{name:"line-cap",type:f.lineCap},{name:"line-opacity",type:f.zeroOneNumber},{name:"line-dash-pattern",type:f.numbers},{name:"line-dash-offset",type:f.number},{name:"line-outline-width",type:f.size},{name:"line-outline-color",type:f.color},{name:"line-gradient-stop-colors",type:f.colors},{name:"line-gradient-stop-positions",type:f.percentages},{name:"curve-style",type:f.curveStyle,triggersBounds:d.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:f.zeroOneNumber,triggersBounds:d.any},{name:"source-endpoint",type:f.edgeEndpoint,triggersBounds:d.any},{name:"target-endpoint",type:f.edgeEndpoint,triggersBounds:d.any},{name:"control-point-step-size",type:f.size,triggersBounds:d.any},{name:"control-point-distances",type:f.bidirectionalSizes,triggersBounds:d.any},{name:"control-point-weights",type:f.numbers,triggersBounds:d.any},{name:"segment-distances",type:f.bidirectionalSizes,triggersBounds:d.any},{name:"segment-weights",type:f.numbers,triggersBounds:d.any},{name:"segment-radii",type:f.numbers,triggersBounds:d.any},{name:"radius-type",type:f.radiusType,triggersBounds:d.any},{name:"taxi-turn",type:f.bidirectionalSizeMaybePercent,triggersBounds:d.any},{name:"taxi-turn-min-distance",type:f.size,triggersBounds:d.any},{name:"taxi-direction",type:f.axisDirection,triggersBounds:d.any},{name:"taxi-radius",type:f.number,triggersBounds:d.any},{name:"edge-distances",type:f.edgeDistances,triggersBounds:d.any},{name:"arrow-scale",type:f.positiveNumber,triggersBounds:d.any},{name:"loop-direction",type:f.angle,triggersBounds:d.any},{name:"loop-sweep",type:f.angle,triggersBounds:d.any},{name:"source-distance-from-node",type:f.size,triggersBounds:d.any},{name:"target-distance-from-node",type:f.size,triggersBounds:d.any}],A=[{name:"ghost",type:f.bool,triggersBounds:d.any},{name:"ghost-offset-x",type:f.bidirectionalSize,triggersBounds:d.any},{name:"ghost-offset-y",type:f.bidirectionalSize,triggersBounds:d.any},{name:"ghost-opacity",type:f.zeroOneNumber}],j=[{name:"selection-box-color",type:f.color},{name:"selection-box-opacity",type:f.zeroOneNumber},{name:"selection-box-border-color",type:f.color},{name:"selection-box-border-width",type:f.size},{name:"active-bg-color",type:f.color},{name:"active-bg-opacity",type:f.zeroOneNumber},{name:"active-bg-size",type:f.size},{name:"outside-texture-bg-color",type:f.color},{name:"outside-texture-bg-opacity",type:f.zeroOneNumber}],_=[];Xt.pieBackgroundN=16,_.push({name:"pie-size",type:f.sizeMaybePercent});for(var L=1;L<=Xt.pieBackgroundN;L++)_.push({name:"pie-"+L+"-background-color",type:f.color}),_.push({name:"pie-"+L+"-background-size",type:f.percent}),_.push({name:"pie-"+L+"-background-opacity",type:f.zeroOneNumber});var $=[],V=Xt.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:f.arrowShape,triggersBounds:d.any},{name:"arrow-color",type:f.color},{name:"arrow-fill",type:f.arrowFill},{name:"arrow-width",type:f.arrowWidth}].forEach(function(ae){V.forEach(function(Q){var le=Q+"-"+ae.name,de=ae.type,Ee=ae.triggersBounds;$.push({name:le,type:de,triggersBounds:Ee})})},{});var U=Xt.properties=[].concat(C,b,x,E,k,A,m,y,v,h,g,R,N,D,I,_,B,F,$,j),H=Xt.propertyGroups={behavior:C,transition:b,visibility:x,overlay:E,underlay:k,ghost:A,commonLabel:m,labelDimensions:y,mainLabel:v,sourceLabel:h,targetLabel:g,nodeBody:R,nodeBorder:N,nodeOutline:D,backgroundImage:I,pie:_,compound:B,edgeLine:F,edgeArrow:$,core:j},K=Xt.propertyGroupNames={},Y=Xt.propertyGroupKeys=Object.keys(H);Y.forEach(function(ae){K[ae]=H[ae].map(function(Q){return Q.name}),H[ae].forEach(function(Q){return Q.groupKey=ae})});var M=Xt.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Xt.propertyNames=U.map(function(ae){return ae.name});for(var q=0;q<U.length;q++){var te=U[q];U[te.name]=te}for(var ie=0;ie<M.length;ie++){var se=M[ie],ue=U[se.pointsTo],ce={name:se.name,alias:!0,pointsTo:ue};U.push(ce),U[se.name]=ce}})();Xt.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};Xt.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=Ue({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(d,f){for(var v=1;v<=Xt.pieBackgroundN;v++){var h=f.name.replace("{{i}}",v),g=f.value;d[h]=g}return d},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(d,f){return Xt.arrowPrefixes.forEach(function(v){var h=v+"-"+f.name,g=f.value;d[h]=g}),d},{})),r={},a=0;a<this.properties.length;a++){var o=this.properties[a];if(!o.pointsTo){var s=o.name,l=e[s],u=this.parse(s,l);r[s]=u}}return t.defaultProperties=r,t.defaultProperties};Xt.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var au={};au.parse=function(t,e,r,a){var o=this;if(bt(e))return o.parseImplWarn(t,e,r,a);var s=a==="mapping"||a===!0||a===!1||a==null?"dontcare":a,l=r?"t":"f",u=""+e,d=rg(t,u,l,s),f=o.propCache=o.propCache||[],v;return(v=f[d])||(v=f[d]=o.parseImplWarn(t,e,r,a)),(r||a==="mapping")&&(v=dn(v),v&&(v.value=dn(v.value))),v};au.parseImplWarn=function(t,e,r,a){var o=this.parseImpl(t,e,r,a);return!o&&e!=null&&ct("The style property `".concat(t,": ").concat(e,"` is invalid")),o&&(o.name==="width"||o.name==="height")&&e==="label"&&ct("The style value of `label` is deprecated for `"+o.name+"`"),o};au.parseImpl=function(t,e,r,a){var o=this;t=Pf(t);var s=o.properties[t],l=e,u=o.types;if(!s||e===void 0)return null;s.alias&&(s=s.pointsTo,t=s.name);var d=Fe(e);d&&(e=e.trim());var f=s.type;if(!f)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(bt(e))return{name:t,value:e,strValue:"fn",mapped:u.fn,bypass:r};var v,h;if(!(!d||a||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(v=new RegExp(u.data.regex).exec(e))){if(r)return!1;var g=u.data;return{name:t,value:v,strValue:""+e,mapped:g,field:v[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(h=new RegExp(u.mapData.regex).exec(e))){if(r||f.multiple)return!1;var y=u.mapData;if(!(f.color||f.number))return!1;var m=this.parse(t,h[4]);if(!m||m.mapped)return!1;var C=this.parse(t,h[5]);if(!C||C.mapped)return!1;if(m.pfValue===C.pfValue||m.strValue===C.strValue)return ct("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+m.strValue+"`"),this.parse(t,m.strValue);if(f.color){var x=m.value,E=C.value,k=x[0]===E[0]&&x[1]===E[1]&&x[2]===E[2]&&(x[3]===E[3]||(x[3]==null||x[3]===1)&&(E[3]==null||E[3]===1));if(k)return!1}return{name:t,value:h,strValue:""+e,mapped:y,field:h[1],fieldMin:parseFloat(h[2]),fieldMax:parseFloat(h[3]),valueMin:m.value,valueMax:C.value,bypass:r}}}if(f.multiple&&a!=="multiple"){var b;if(d?b=e.split(/\s+/):vt(e)?b=e:b=[e],f.evenMultiple&&b.length%2!==0)return null;for(var T=[],R=[],N=[],D="",I=!1,B=0;B<b.length;B++){var F=o.parse(t,b[B],r,"multiple");I=I||Fe(F.value),T.push(F.value),N.push(F.pfValue!=null?F.pfValue:F.value),R.push(F.units),D+=(B>0?" ":"")+F.strValue}return f.validate&&!f.validate(T,R)?null:f.singleEnum&&I?T.length===1&&Fe(T[0])?{name:t,value:T[0],strValue:T[0],bypass:r}:null:{name:t,value:T,pfValue:N,strValue:D,bypass:r,units:R}}var A=function(){for(var Q=0;Q<f.enums.length;Q++){var le=f.enums[Q];if(le===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(f.number){var j,_="px";if(f.units&&(j=f.units),f.implicitUnits&&(_=f.implicitUnits),!f.unitless)if(d){var L="px|em"+(f.allowPercent?"|\\%":"");j&&(L=j);var $=e.match("^("+Vt+")("+L+")?$");$&&(e=$[1],j=$[2]||_)}else(!j||f.implicitUnits)&&(j=_);if(e=parseFloat(e),isNaN(e)&&f.enums===void 0)return null;if(isNaN(e)&&f.enums!==void 0)return e=l,A();if(f.integer&&!z0(e)||f.min!==void 0&&(e<f.min||f.strictMin&&e===f.min)||f.max!==void 0&&(e>f.max||f.strictMax&&e===f.max))return null;var V={name:t,value:e,strValue:""+e+(j||""),units:j,bypass:r};return f.unitless||j!=="px"&&j!=="em"?V.pfValue=e:V.pfValue=j==="px"||!j?e:this.getEmSizeInPixels()*e,(j==="ms"||j==="s")&&(V.pfValue=j==="ms"?e:1e3*e),(j==="deg"||j==="rad")&&(V.pfValue=j==="rad"?e:gw(e)),j==="%"&&(V.pfValue=e/100),V}else if(f.propList){var U=[],H=""+e;if(H!=="none"){for(var K=H.split(/\s*,\s*|\s+/),Y=0;Y<K.length;Y++){var M=K[Y].trim();o.properties[M]?U.push(M):ct("`"+M+"` is not a valid property name")}if(U.length===0)return null}return{name:t,value:U,strValue:U.length===0?"none":U.join(" "),bypass:r}}else if(f.color){var q=J0(e);return q?{name:t,value:q,pfValue:q,strValue:"rgb("+q[0]+","+q[1]+","+q[2]+")",bypass:r}:null}else if(f.regex||f.regexes){if(f.enums){var te=A();if(te)return te}for(var ie=f.regexes?f.regexes:[f.regex],se=0;se<ie.length;se++){var ue=new RegExp(ie[se]),ce=ue.exec(e);if(ce)return{name:t,value:f.singleRegexMatchValue?ce[1]:ce,strValue:""+e,bypass:r}}return null}else return f.string?{name:t,value:""+e,strValue:""+e,bypass:r}:f.enums?A():null};var dr=function t(e){if(!(this instanceof t))return new t(e);if(!Df(e)){Nt("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},hr=dr.prototype;hr.instanceString=function(){return"style"};hr.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),a=0;a<this.length;a++)this[a]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(o){var s=o[0]._private;s.styleDirty=!0,s.appliedInitStyle=!1}),this};hr.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};hr.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};hr.selector=function(t){var e=t==="core"?null:new la(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};hr.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],a=0;a<t.properties.length;a++){var o=t.properties[a],s=r[o.name];s===void 0&&(s=r[Hl(o.name)]),s!==void 0&&this.cssRule(o.name,s)}else e.length===2&&this.cssRule(e[0],e[1]);return this};hr.style=hr.css;hr.cssRule=function(t,e){var r=this.parse(t,e);if(r){var a=this.length-1;this[a].properties.push(r),this[a].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[a].mappedProperties.push(r);var o=!this[a].selector;o&&(this._private.coreStyle[r.name]=r)}return this};hr.append=function(t){return Wp(t)?t.appendToStyle(this):vt(t)?this.appendFromJson(t):Fe(t)&&this.appendFromString(t),this};dr.fromJson=function(t,e){var r=new dr(t);return r.fromJson(e),r};dr.fromString=function(t,e){return new dr(t).fromString(e)};[pr,Yo,$f,hn,nu,Uf,Xt,au].forEach(function(t){Ue(hr,t)});dr.types=hr.types;dr.properties=hr.properties;dr.propertyGroups=hr.propertyGroups;dr.propertyGroupNames=hr.propertyGroupNames;dr.propertyGroupKeys=hr.propertyGroupKeys;var zC={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return Wp(e)?r.style=e.generateStyle(this):vt(e)?r.style=dr.fromJson(this,e):Fe(e)?r.style=dr.fromString(this,e):r.style=dr(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},AC="single",za={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=AC),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,a,o,s,l,u;switch(e.length){case 0:return r;case 1:if(Fe(e[0]))return a=e[0],r[a];if(nt(e[0])){if(!this._private.panningEnabled)return this;s=e[0],l=s.x,u=s.y,ke(l)&&(r.x=l),ke(u)&&(r.y=u),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;a=e[0],o=e[1],(a==="x"||a==="y")&&ke(o)&&(r[a]=o),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var a=arguments,o=this._private.pan,s,l,u,d,f;if(!this._private.panningEnabled)return this;switch(a.length){case 1:nt(e)&&(u=a[0],d=u.x,f=u.y,ke(d)&&(o.x+=d),ke(f)&&(o.y+=f),this.emit("pan viewport"));break;case 2:s=e,l=r,(s==="x"||s==="y")&&ke(l)&&(o[s]+=l),this.emit("pan viewport");break}return this.notify("viewport"),this},fit:function(e,r){var a=this.getFitViewport(e,r);if(a){var o=this._private;o.zoom=a.zoom,o.pan=a.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if(ke(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var a;if(Fe(e)){var o=e;e=this.$(o)}else if(j0(e)){var s=e;a={x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2},a.w=a.x2-a.x1,a.h=a.y2-a.y1}else Ir(e)||(e=this.mutableElements());if(!(Ir(e)&&e.empty())){a=a||e.boundingBox();var l=this.width(),u=this.height(),d;if(r=ke(r)?r:0,!isNaN(l)&&!isNaN(u)&&l>0&&u>0&&!isNaN(a.w)&&!isNaN(a.h)&&a.w>0&&a.h>0){d=Math.min((l-2*r)/a.w,(u-2*r)/a.h),d=d>this._private.maxZoom?this._private.maxZoom:d,d=d<this._private.minZoom?this._private.minZoom:d;var f={x:(l-d*(a.x1+a.x2))/2,y:(u-d*(a.y1+a.y2))/2};return{zoom:d,pan:f}}}}},zoomRange:function(e,r){var a=this._private;if(r==null){var o=e;e=o.min,r=o.max}return ke(e)&&ke(r)&&e<=r?(a.minZoom=e,a.maxZoom=r):ke(e)&&r===void 0&&e<=a.maxZoom?a.minZoom=e:ke(r)&&e===void 0&&r>=a.minZoom&&(a.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,a=r.pan,o=r.zoom,s,l,u=!1;if(r.zoomingEnabled||(u=!0),ke(e)?l=e:nt(e)&&(l=e.level,e.position!=null?s=Gl(e.position,o,a):e.renderedPosition!=null&&(s=e.renderedPosition),s!=null&&!r.panningEnabled&&(u=!0)),l=l>r.maxZoom?r.maxZoom:l,l=l<r.minZoom?r.minZoom:l,u||!ke(l)||l===o||s!=null&&(!ke(s.x)||!ke(s.y)))return null;if(s!=null){var d=a,f=o,v=l,h={x:-v/f*(s.x-d.x)+s.x,y:-v/f*(s.y-d.y)+s.y};return{zoomed:!0,panned:!0,zoom:v,pan:h}}else return{zoomed:!0,panned:!1,zoom:l,pan:a}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),a=this._private;return r==null||!r.zoomed?this:(a.zoom=r.zoom,r.panned&&(a.pan.x=r.pan.x,a.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,a=!0,o=!0,s=[],l=!1,u=!1;if(!e)return this;if(ke(e.zoom)||(a=!1),nt(e.pan)||(o=!1),!a&&!o)return this;if(a){var d=e.zoom;d<r.minZoom||d>r.maxZoom||!r.zoomingEnabled?l=!0:(r.zoom=d,s.push("zoom"))}if(o&&(!l||!e.cancelOnFailedZoom)&&r.panningEnabled){var f=e.pan;ke(f.x)&&(r.pan.x=f.x,u=!1),ke(f.y)&&(r.pan.y=f.y,u=!1),u||s.push("pan")}return s.length>0&&(s.push("viewport"),this.emit(s.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(Fe(e)){var a=e;e=this.mutableElements().filter(a)}else Ir(e)||(e=this.mutableElements());if(e.length!==0){var o=e.boundingBox(),s=this.width(),l=this.height();r=r===void 0?this._private.zoom:r;var u={x:(s-r*(o.x1+o.x2))/2,y:(l-r*(o.y1+o.y2))/2};return u}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container,a=this;return e.sizeCache=e.sizeCache||(r?function(){var o=a.window().getComputedStyle(r),s=function(u){return parseFloat(o.getPropertyValue(u))};return{width:r.clientWidth-s("padding-left")-s("padding-right"),height:r.clientHeight-s("padding-top")-s("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,a=this.renderedExtent(),o={x1:(a.x1-e.x)/r,x2:(a.x2-e.x)/r,y1:(a.y1-e.y)/r,y2:(a.y2-e.y)/r};return o.w=o.x2-o.x1,o.h=o.y2-o.y1,o},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};za.centre=za.center;za.autolockNodes=za.autolock;za.autoungrabifyNodes=za.autoungrabify;var $o={data:ut.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:ut.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:ut.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ut.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};$o.attr=$o.data;$o.removeAttr=$o.removeData;var Uo=function(e){var r=this;e=Ue({},e);var a=e.container;a&&!Ml(a)&&Ml(a[0])&&(a=a[0]);var o=a?a._cyreg:null;o=o||{},o&&o.cy&&(o.cy.destroy(),o={});var s=o.readies=o.readies||[];a&&(a._cyreg=o),o.cy=r;var l=jt!==void 0&&a!==void 0&&!e.headless,u=e;u.layout=Ue({name:l?"grid":"null"},u.layout),u.renderer=Ue({name:l?"canvas":"null"},u.renderer);var d=function(m,C,x){return C!==void 0?C:x!==void 0?x:m},f=this._private={container:a,ready:!1,options:u,elements:new Jt(this),listeners:[],aniEles:new Jt(this),data:u.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:d(!0,u.zoomingEnabled),userZoomingEnabled:d(!0,u.userZoomingEnabled),panningEnabled:d(!0,u.panningEnabled),userPanningEnabled:d(!0,u.userPanningEnabled),boxSelectionEnabled:d(!0,u.boxSelectionEnabled),autolock:d(!1,u.autolock,u.autolockNodes),autoungrabify:d(!1,u.autoungrabify,u.autoungrabifyNodes),autounselectify:d(!1,u.autounselectify),styleEnabled:u.styleEnabled===void 0?l:u.styleEnabled,zoom:ke(u.zoom)?u.zoom:1,pan:{x:nt(u.pan)&&ke(u.pan.x)?u.pan.x:0,y:nt(u.pan)&&ke(u.pan.y)?u.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:d(250,u.multiClickDebounceTime)};this.createEmitter(),this.selectionType(u.selectionType),this.zoomRange({min:u.minZoom,max:u.maxZoom});var v=function(m,C){var x=m.some(V0);if(x)return Ni.all(m).then(C);C(m)};f.styleEnabled&&r.setStyle([]);var h=Ue({},u,u.renderer);r.initRenderer(h);var g=function(m,C,x){r.notifications(!1);var E=r.mutableElements();E.length>0&&E.remove(),m!=null&&(nt(m)||vt(m))&&r.add(m),r.one("layoutready",function(b){r.notifications(!0),r.emit(b),r.one("load",C),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",x),r.emit("done")});var k=Ue({},r._private.options.layout);k.eles=r.elements(),r.layout(k).run()};v([u.style,u.elements],function(y){var m=y[0],C=y[1];f.styleEnabled&&r.style().append(m),g(C,function(){r.startAnimationLoop(),f.ready=!0,bt(u.ready)&&r.on("ready",u.ready);for(var x=0;x<s.length;x++){var E=s[x];r.on("ready",E)}o&&(o.readies=[]),r.emit("ready")},u.done)})},Vl=Uo.prototype;Ue(Vl,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return jt;var r=this._private.container.ownerDocument;return r===void 0||r==null?jt:r.defaultView||jt},mount:function(e){if(e!=null){var r=this,a=r._private,o=a.options;return!Ml(e)&&Ml(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),a.container=e,a.styleEnabled=!0,r.invalidateSize(),r.initRenderer(Ue({},o,o.renderer,{name:o.renderer.name==="null"?"canvas":o.renderer.name})),r.startAnimationLoop(),r.style(o.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return dn(this._private.options)},json:function(e){var r=this,a=r._private,o=r.mutableElements(),s=function(T){return r.getElementById(T.id())};if(nt(e)){if(r.startBatch(),e.elements){var l={},u=function(T,R){for(var N=[],D=[],I=0;I<T.length;I++){var B=T[I];if(!B.data.id){ct("cy.json() cannot handle elements without an ID attribute");continue}var F=""+B.data.id,A=r.getElementById(F);l[F]=!0,A.length!==0?D.push({ele:A,json:B}):(R&&(B.group=R),N.push(B))}r.add(N);for(var j=0;j<D.length;j++){var _=D[j],L=_.ele,$=_.json;L.json($)}};if(vt(e.elements))u(e.elements);else for(var d=["nodes","edges"],f=0;f<d.length;f++){var v=d[f],h=e.elements[v];vt(h)&&u(h,v)}var g=r.collection();o.filter(function(b){return!l[b.id()]}).forEach(function(b){b.isParent()?g.merge(b):b.remove()}),g.forEach(function(b){return b.children().move({parent:null})}),g.forEach(function(b){return s(b).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==a.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==a.pan.x||e.pan.y!==a.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var y=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],m=0;m<y.length;m++){var C=y[m];e[C]!=null&&r[C](e[C])}return r.endBatch(),this}else{var x=!!e,E={};x?E.elements=this.elements().map(function(b){return b.json()}):(E.elements={},o.forEach(function(b){var T=b.group();E.elements[T]||(E.elements[T]=[]),E.elements[T].push(b.json())})),this._private.styleEnabled&&(E.style=r.style().json()),E.data=dn(r.data());var k=a.options;return E.zoomingEnabled=a.zoomingEnabled,E.userZoomingEnabled=a.userZoomingEnabled,E.zoom=a.zoom,E.minZoom=a.minZoom,E.maxZoom=a.maxZoom,E.panningEnabled=a.panningEnabled,E.userPanningEnabled=a.userPanningEnabled,E.pan=dn(a.pan),E.boxSelectionEnabled=a.boxSelectionEnabled,E.renderer=dn(k.renderer),E.hideEdgesOnViewport=k.hideEdgesOnViewport,E.textureOnViewport=k.textureOnViewport,E.wheelSensitivity=k.wheelSensitivity,E.motionBlur=k.motionBlur,E.multiClickDebounceTime=k.multiClickDebounceTime,E}}});Vl.$id=Vl.getElementById;[TC,RC,Kg,hf,Nl,MC,pf,Ll,zC,za,$o].forEach(function(t){Ue(Vl,t)});var FC={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},jC={maximal:!1,acyclic:!1},hi=function(e){return e.scratch("breadthfirst")},xp=function(e,r){return e.scratch("breadthfirst",r)};function Gg(t){this.options=Ue({},FC,jC,t)}Gg.prototype.run=function(){var t=this.options,e=t,r=t.cy,a=e.eles,o=a.nodes().filter(function(xe){return!xe.isParent()}),s=a,l=e.directed,u=e.acyclic||e.maximal||e.maximalAdjustments>0,d=Nr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),f;if(Ir(e.roots))f=e.roots;else if(vt(e.roots)){for(var v=[],h=0;h<e.roots.length;h++){var g=e.roots[h],y=r.getElementById(g);v.push(y)}f=r.collection(v)}else if(Fe(e.roots))f=r.$(e.roots);else if(l)f=o.roots();else{var m=a.components();f=r.collection();for(var C=function(we){var Re=m[we],Pe=Re.maxDegree(!1),Te=Re.filter(function(Ae){return Ae.degree(!1)===Pe});f=f.add(Te)},x=0;x<m.length;x++)C(x)}var E=[],k={},b=function(we,Re){E[Re]==null&&(E[Re]=[]);var Pe=E[Re].length;E[Re].push(we),xp(we,{index:Pe,depth:Re})},T=function(we,Re){var Pe=hi(we),Te=Pe.depth,Ae=Pe.index;E[Te][Ae]=null,b(we,Re)};s.bfs({roots:f,directed:e.directed,visit:function(we,Re,Pe,Te,Ae){var Ze=we[0],Qe=Ze.id();b(Ze,Ae),k[Qe]=!0}});for(var R=[],N=0;N<o.length;N++){var D=o[N];k[D.id()]||R.push(D)}var I=function(we){for(var Re=E[we],Pe=0;Pe<Re.length;Pe++){var Te=Re[Pe];if(Te==null){Re.splice(Pe,1),Pe--;continue}xp(Te,{depth:we,index:Pe})}},B=function(){for(var we=0;we<E.length;we++)I(we)},F=function(we,Re){for(var Pe=hi(we),Te=we.incomers().filter(function(Je){return Je.isNode()&&a.has(Je)}),Ae=-1,Ze=we.id(),Qe=0;Qe<Te.length;Qe++){var Ge=Te[Qe],at=hi(Ge);Ae=Math.max(Ae,at.depth)}if(Pe.depth<=Ae){if(!e.acyclic&&Re[Ze])return null;var Ye=Ae+1;return T(we,Ye),Re[Ze]=Ye,!0}return!1};if(l&&u){var A=[],j={},_=function(we){return A.push(we)},L=function(){return A.shift()};for(o.forEach(function(xe){return A.push(xe)});A.length>0;){var $=L(),V=F($,j);if(V)$.outgoers().filter(function(xe){return xe.isNode()&&a.has(xe)}).forEach(_);else if(V===null){ct("Detected double maximal shift for node `"+$.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}B();var U=0;if(e.avoidOverlap)for(var H=0;H<o.length;H++){var K=o[H],Y=K.layoutDimensions(e),M=Y.w,q=Y.h;U=Math.max(U,M,q)}var te={},ie=function(we){if(te[we.id()])return te[we.id()];for(var Re=hi(we).depth,Pe=we.neighborhood(),Te=0,Ae=0,Ze=0;Ze<Pe.length;Ze++){var Qe=Pe[Ze];if(!(Qe.isEdge()||Qe.isParent()||!o.has(Qe))){var Ge=hi(Qe);if(Ge!=null){var at=Ge.index,Ye=Ge.depth;if(!(at==null||Ye==null)){var Je=E[Ye].length;Ye<Re&&(Te+=at/Je,Ae++)}}}}return Ae=Math.max(1,Ae),Te=Te/Ae,Ae===0&&(Te=0),te[we.id()]=Te,Te},se=function(we,Re){var Pe=ie(we),Te=ie(Re),Ae=Pe-Te;return Ae===0?Gp(we.id(),Re.id()):Ae};e.depthSort!==void 0&&(se=e.depthSort);for(var ue=0;ue<E.length;ue++)E[ue].sort(se),I(ue);for(var ce=[],ae=0;ae<R.length;ae++)ce.push(R[ae]);E.unshift(ce),B();for(var Q=0,le=0;le<E.length;le++)Q=Math.max(E[le].length,Q);var de={x:d.x1+d.w/2,y:d.x1+d.h/2},Ee=E.reduce(function(xe,we){return Math.max(xe,we.length)},0),ze=function(we){var Re=hi(we),Pe=Re.depth,Te=Re.index,Ae=E[Pe].length,Ze=Math.max(d.w/((e.grid?Ee:Ae)+1),U),Qe=Math.max(d.h/(E.length+1),U),Ge=Math.min(d.w/2/E.length,d.h/2/E.length);if(Ge=Math.max(Ge,U),e.circle){var Ye=Ge*Pe+Ge-(E.length>0&&E[0].length<=3?Ge/2:0),Je=2*Math.PI/E[Pe].length*Te;return Pe===0&&E[0].length===1&&(Ye=1),{x:de.x+Ye*Math.cos(Je),y:de.y+Ye*Math.sin(Je)}}else{var at={x:de.x+(Te+1-(Ae+1)/2)*Ze,y:(Pe+1)*Qe};return at}};return a.nodes().layoutPositions(this,e,ze),this};var VC={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Yg(t){this.options=Ue({},VC,t)}Yg.prototype.run=function(){var t=this.options,e=t,r=t.cy,a=e.eles,o=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,s=a.nodes().not(":parent");e.sort&&(s=s.sort(e.sort));for(var l=Nr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),u={x:l.x1+l.w/2,y:l.y1+l.h/2},d=e.sweep===void 0?2*Math.PI-2*Math.PI/s.length:e.sweep,f=d/Math.max(1,s.length-1),v,h=0,g=0;g<s.length;g++){var y=s[g],m=y.layoutDimensions(e),C=m.w,x=m.h;h=Math.max(h,C,x)}if(ke(e.radius)?v=e.radius:s.length<=1?v=0:v=Math.min(l.h,l.w)/2-h,s.length>1&&e.avoidOverlap){h*=1.75;var E=Math.cos(f)-Math.cos(0),k=Math.sin(f)-Math.sin(0),b=Math.sqrt(h*h/(E*E+k*k));v=Math.max(b,v)}var T=function(N,D){var I=e.startAngle+D*f*(o?1:-1),B=v*Math.cos(I),F=v*Math.sin(I),A={x:u.x+B,y:u.y+F};return A};return a.nodes().layoutPositions(this,e,T),this};var _C={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Qg(t){this.options=Ue({},_C,t)}Qg.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,a=t.cy,o=e.eles,s=o.nodes().not(":parent"),l=Nr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:a.width(),h:a.height()}),u={x:l.x1+l.w/2,y:l.y1+l.h/2},d=[],f=0,v=0;v<s.length;v++){var h=s[v],g=void 0;g=e.concentric(h),d.push({value:g,node:h}),h._private.scratch.concentric=g}s.updateStyle();for(var y=0;y<s.length;y++){var m=s[y],C=m.layoutDimensions(e);f=Math.max(f,C.w,C.h)}d.sort(function(xe,we){return we.value-xe.value});for(var x=e.levelWidth(s),E=[[]],k=E[0],b=0;b<d.length;b++){var T=d[b];if(k.length>0){var R=Math.abs(k[0].value-T.value);R>=x&&(k=[],E.push(k))}k.push(T)}var N=f+e.minNodeSpacing;if(!e.avoidOverlap){var D=E.length>0&&E[0].length>1,I=Math.min(l.w,l.h)/2-N,B=I/(E.length+D?1:0);N=Math.min(N,B)}for(var F=0,A=0;A<E.length;A++){var j=E[A],_=e.sweep===void 0?2*Math.PI-2*Math.PI/j.length:e.sweep,L=j.dTheta=_/Math.max(1,j.length-1);if(j.length>1&&e.avoidOverlap){var $=Math.cos(L)-Math.cos(0),V=Math.sin(L)-Math.sin(0),U=Math.sqrt(N*N/($*$+V*V));F=Math.max(U,F)}j.r=F,F+=N}if(e.equidistant){for(var H=0,K=0,Y=0;Y<E.length;Y++){var M=E[Y],q=M.r-K;H=Math.max(H,q)}K=0;for(var te=0;te<E.length;te++){var ie=E[te];te===0&&(K=ie.r),ie.r=K,K+=H}}for(var se={},ue=0;ue<E.length;ue++)for(var ce=E[ue],ae=ce.dTheta,Q=ce.r,le=0;le<ce.length;le++){var de=ce[le],Ee=e.startAngle+(r?1:-1)*ae*le,ze={x:u.x+Q*Math.cos(Ee),y:u.y+Q*Math.sin(Ee)};se[de.node.id()]=ze}return o.nodes().layoutPositions(this,e,function(xe){var we=xe.id();return se[we]}),this};var rf,$C={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function iu(t){this.options=Ue({},$C,t),this.options.layout=this;var e=this.options.eles.nodes(),r=this.options.eles.edges(),a=r.filter(function(o){var s=o.source().data("id"),l=o.target().data("id"),u=e.some(function(f){return f.data("id")===s}),d=e.some(function(f){return f.data("id")===l});return!u||!d});this.options.eles=this.options.eles.not(a)}iu.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?rf=!0:rf=!1;var a=UC(e,r,t);rf&&WC(a),t.randomize&&KC(a);var o=Dn(),s=function(){GC(a,e,t),t.fit===!0&&e.fit(t.padding)},l=function(g){return!(r.stopped||g>=t.numIter||(YC(a,t),a.temperature=a.temperature*t.coolingFactor,a.temperature<t.minTemp))},u=function(){if(t.animate===!0||t.animate===!1)s(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var g=t.eles.nodes(),y=Xg(a,t,g);g.layoutPositions(r,t,y)}},d=0,f=!0;if(t.animate===!0){var v=function h(){for(var g=0;f&&g<t.refresh;)f=l(d),d++,g++;if(!f)Sp(a,t),u();else{var y=Dn();y-o>=t.animationThreshold&&s(),Il(h)}};v()}else{for(;f;)f=l(d),d++;Sp(a,t),u()}return this};iu.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};iu.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var UC=function(e,r,a){for(var o=a.eles.edges(),s=a.eles.nodes(),l=Nr(a.boundingBox?a.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),u={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:s.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:o.size(),temperature:a.initialTemp,clientWidth:l.w,clientHeight:l.h,boundingBox:l},d=a.eles.components(),f={},v=0;v<d.length;v++)for(var h=d[v],g=0;g<h.length;g++){var y=h[g];f[y.id()]=v}for(var v=0;v<u.nodeSize;v++){var m=s[v],C=m.layoutDimensions(a),x={};x.isLocked=m.locked(),x.id=m.data("id"),x.parentId=m.data("parent"),x.cmptId=f[m.id()],x.children=[],x.positionX=m.position("x"),x.positionY=m.position("y"),x.offsetX=0,x.offsetY=0,x.height=C.w,x.width=C.h,x.maxX=x.positionX+x.width/2,x.minX=x.positionX-x.width/2,x.maxY=x.positionY+x.height/2,x.minY=x.positionY-x.height/2,x.padLeft=parseFloat(m.style("padding")),x.padRight=parseFloat(m.style("padding")),x.padTop=parseFloat(m.style("padding")),x.padBottom=parseFloat(m.style("padding")),x.nodeRepulsion=bt(a.nodeRepulsion)?a.nodeRepulsion(m):a.nodeRepulsion,u.layoutNodes.push(x),u.idToIndex[x.id]=v}for(var E=[],k=0,b=-1,T=[],v=0;v<u.nodeSize;v++){var m=u.layoutNodes[v],R=m.parentId;R!=null?u.layoutNodes[u.idToIndex[R]].children.push(m.id):(E[++b]=m.id,T.push(m.id))}for(u.graphSet.push(T);k<=b;){var N=E[k++],D=u.idToIndex[N],y=u.layoutNodes[D],I=y.children;if(I.length>0){u.graphSet.push(I);for(var v=0;v<I.length;v++)E[++b]=I[v]}}for(var v=0;v<u.graphSet.length;v++)for(var B=u.graphSet[v],g=0;g<B.length;g++){var F=u.idToIndex[B[g]];u.indexToGraph[F]=v}for(var v=0;v<u.edgeSize;v++){var A=o[v],j={};j.id=A.data("id"),j.sourceId=A.data("source"),j.targetId=A.data("target");var _=bt(a.idealEdgeLength)?a.idealEdgeLength(A):a.idealEdgeLength,L=bt(a.edgeElasticity)?a.edgeElasticity(A):a.edgeElasticity,$=u.idToIndex[j.sourceId],V=u.idToIndex[j.targetId],U=u.indexToGraph[$],H=u.indexToGraph[V];if(U!=H){for(var K=HC(j.sourceId,j.targetId,u),Y=u.graphSet[K],M=0,x=u.layoutNodes[$];Y.indexOf(x.id)===-1;)x=u.layoutNodes[u.idToIndex[x.parentId]],M++;for(x=u.layoutNodes[V];Y.indexOf(x.id)===-1;)x=u.layoutNodes[u.idToIndex[x.parentId]],M++;_*=M*a.nestingFactor}j.idealLength=_,j.elasticity=L,u.layoutEdges.push(j)}return u},HC=function(e,r,a){var o=qC(e,r,0,a);return 2>o.count?0:o.graph},qC=function t(e,r,a,o){var s=o.graphSet[a];if(-1<s.indexOf(e)&&-1<s.indexOf(r))return{count:2,graph:a};for(var l=0,u=0;u<s.length;u++){var d=s[u],f=o.idToIndex[d],v=o.layoutNodes[f].children;if(v.length!==0){var h=o.indexToGraph[o.idToIndex[v[0]]],g=t(e,r,h,o);if(g.count!==0)if(g.count===1){if(l++,l===2)break}else return g}}return{count:l,graph:a}},WC,KC=function(e,r){for(var a=e.clientWidth,o=e.clientHeight,s=0;s<e.nodeSize;s++){var l=e.layoutNodes[s];l.children.length===0&&!l.isLocked&&(l.positionX=Math.random()*a,l.positionY=Math.random()*o)}},Xg=function(e,r,a){var o=e.boundingBox,s={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(a.forEach(function(l){var u=e.layoutNodes[e.idToIndex[l.data("id")]];s.x1=Math.min(s.x1,u.positionX),s.x2=Math.max(s.x2,u.positionX),s.y1=Math.min(s.y1,u.positionY),s.y2=Math.max(s.y2,u.positionY)}),s.w=s.x2-s.x1,s.h=s.y2-s.y1),function(l,u){var d=e.layoutNodes[e.idToIndex[l.data("id")]];if(r.boundingBox){var f=(d.positionX-s.x1)/s.w,v=(d.positionY-s.y1)/s.h;return{x:o.x1+f*o.w,y:o.y1+v*o.h}}else return{x:d.positionX,y:d.positionY}}},GC=function(e,r,a){var o=a.layout,s=a.eles.nodes(),l=Xg(e,a,s);s.positions(l),e.ready!==!0&&(e.ready=!0,o.one("layoutready",a.ready),o.emit({type:"layoutready",layout:this}))},YC=function(e,r,a){QC(e,r),JC(e),e2(e,r),t2(e),r2(e)},QC=function(e,r){for(var a=0;a<e.graphSet.length;a++)for(var o=e.graphSet[a],s=o.length,l=0;l<s;l++)for(var u=e.layoutNodes[e.idToIndex[o[l]]],d=l+1;d<s;d++){var f=e.layoutNodes[e.idToIndex[o[d]]];XC(u,f,e,r)}},Ep=function(e){return-e+2*e*Math.random()},XC=function(e,r,a,o){var s=e.cmptId,l=r.cmptId;if(!(s!==l&&!a.isCompound)){var u=r.positionX-e.positionX,d=r.positionY-e.positionY,f=1;u===0&&d===0&&(u=Ep(f),d=Ep(f));var v=ZC(e,r,u,d);if(v>0)var h=o.nodeOverlap*v,g=Math.sqrt(u*u+d*d),y=h*u/g,m=h*d/g;else var C=_l(e,u,d),x=_l(r,-1*u,-1*d),E=x.x-C.x,k=x.y-C.y,b=E*E+k*k,g=Math.sqrt(b),h=(e.nodeRepulsion+r.nodeRepulsion)/b,y=h*E/g,m=h*k/g;e.isLocked||(e.offsetX-=y,e.offsetY-=m),r.isLocked||(r.offsetX+=y,r.offsetY+=m)}},ZC=function(e,r,a,o){if(a>0)var s=e.maxX-r.minX;else var s=r.maxX-e.minX;if(o>0)var l=e.maxY-r.minY;else var l=r.maxY-e.minY;return s>=0&&l>=0?Math.sqrt(s*s+l*l):0},_l=function(e,r,a){var o=e.positionX,s=e.positionY,l=e.height||1,u=e.width||1,d=a/r,f=l/u,v={};return r===0&&0<a||r===0&&0>a?(v.x=o,v.y=s+l/2,v):0<r&&-1*f<=d&&d<=f?(v.x=o+u/2,v.y=s+u*a/2/r,v):0>r&&-1*f<=d&&d<=f?(v.x=o-u/2,v.y=s-u*a/2/r,v):0<a&&(d<=-1*f||d>=f)?(v.x=o+l*r/2/a,v.y=s+l/2,v):(0>a&&(d<=-1*f||d>=f)&&(v.x=o-l*r/2/a,v.y=s-l/2),v)},JC=function(e,r){for(var a=0;a<e.edgeSize;a++){var o=e.layoutEdges[a],s=e.idToIndex[o.sourceId],l=e.layoutNodes[s],u=e.idToIndex[o.targetId],d=e.layoutNodes[u],f=d.positionX-l.positionX,v=d.positionY-l.positionY;if(!(f===0&&v===0)){var h=_l(l,f,v),g=_l(d,-1*f,-1*v),y=g.x-h.x,m=g.y-h.y,C=Math.sqrt(y*y+m*m),x=Math.pow(o.idealLength-C,2)/o.elasticity;if(C!==0)var E=x*y/C,k=x*m/C;else var E=0,k=0;l.isLocked||(l.offsetX+=E,l.offsetY+=k),d.isLocked||(d.offsetX-=E,d.offsetY-=k)}}},e2=function(e,r){if(r.gravity!==0)for(var a=1,o=0;o<e.graphSet.length;o++){var s=e.graphSet[o],l=s.length;if(o===0)var u=e.clientHeight/2,d=e.clientWidth/2;else var f=e.layoutNodes[e.idToIndex[s[0]]],v=e.layoutNodes[e.idToIndex[f.parentId]],u=v.positionX,d=v.positionY;for(var h=0;h<l;h++){var g=e.layoutNodes[e.idToIndex[s[h]]];if(!g.isLocked){var y=u-g.positionX,m=d-g.positionY,C=Math.sqrt(y*y+m*m);if(C>a){var x=r.gravity*y/C,E=r.gravity*m/C;g.offsetX+=x,g.offsetY+=E}}}}},t2=function(e,r){var a=[],o=0,s=-1;for(a.push.apply(a,e.graphSet[0]),s+=e.graphSet[0].length;o<=s;){var l=a[o++],u=e.idToIndex[l],d=e.layoutNodes[u],f=d.children;if(0<f.length&&!d.isLocked){for(var v=d.offsetX,h=d.offsetY,g=0;g<f.length;g++){var y=e.layoutNodes[e.idToIndex[f[g]]];y.offsetX+=v,y.offsetY+=h,a[++s]=f[g]}d.offsetX=0,d.offsetY=0}}},r2=function(e,r){for(var a=0;a<e.nodeSize;a++){var o=e.layoutNodes[a];0<o.children.length&&(o.maxX=void 0,o.minX=void 0,o.maxY=void 0,o.minY=void 0)}for(var a=0;a<e.nodeSize;a++){var o=e.layoutNodes[a];if(!(0<o.children.length||o.isLocked)){var s=n2(o.offsetX,o.offsetY,e.temperature);o.positionX+=s.x,o.positionY+=s.y,o.offsetX=0,o.offsetY=0,o.minX=o.positionX-o.width,o.maxX=o.positionX+o.width,o.minY=o.positionY-o.height,o.maxY=o.positionY+o.height,a2(o,e)}}for(var a=0;a<e.nodeSize;a++){var o=e.layoutNodes[a];0<o.children.length&&!o.isLocked&&(o.positionX=(o.maxX+o.minX)/2,o.positionY=(o.maxY+o.minY)/2,o.width=o.maxX-o.minX,o.height=o.maxY-o.minY)}},n2=function(e,r,a){var o=Math.sqrt(e*e+r*r);if(o>a)var s={x:a*e/o,y:a*r/o};else var s={x:e,y:r};return s},a2=function t(e,r){var a=e.parentId;if(a!=null){var o=r.layoutNodes[r.idToIndex[a]],s=!1;if((o.maxX==null||e.maxX+o.padRight>o.maxX)&&(o.maxX=e.maxX+o.padRight,s=!0),(o.minX==null||e.minX-o.padLeft<o.minX)&&(o.minX=e.minX-o.padLeft,s=!0),(o.maxY==null||e.maxY+o.padBottom>o.maxY)&&(o.maxY=e.maxY+o.padBottom,s=!0),(o.minY==null||e.minY-o.padTop<o.minY)&&(o.minY=e.minY-o.padTop,s=!0),s)return t(o,r)}},Sp=function(e,r){for(var a=e.layoutNodes,o=[],s=0;s<a.length;s++){var l=a[s],u=l.cmptId,d=o[u]=o[u]||[];d.push(l)}for(var f=0,s=0;s<o.length;s++){var v=o[s];if(v){v.x1=1/0,v.x2=-1/0,v.y1=1/0,v.y2=-1/0;for(var h=0;h<v.length;h++){var g=v[h];v.x1=Math.min(v.x1,g.positionX-g.width/2),v.x2=Math.max(v.x2,g.positionX+g.width/2),v.y1=Math.min(v.y1,g.positionY-g.height/2),v.y2=Math.max(v.y2,g.positionY+g.height/2)}v.w=v.x2-v.x1,v.h=v.y2-v.y1,f+=v.w*v.h}}o.sort(function(k,b){return b.w*b.h-k.w*k.h});for(var y=0,m=0,C=0,x=0,E=Math.sqrt(f)*e.clientWidth/e.clientHeight,s=0;s<o.length;s++){var v=o[s];if(v){for(var h=0;h<v.length;h++){var g=v[h];g.isLocked||(g.positionX+=y-v.x1,g.positionY+=m-v.y1)}y+=v.w+r.componentSpacing,C+=v.w+r.componentSpacing,x=Math.max(x,v.h),C>E&&(m+=x+r.componentSpacing,y=0,C=0,x=0)}}},i2={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Zg(t){this.options=Ue({},i2,t)}Zg.prototype.run=function(){var t=this.options,e=t,r=t.cy,a=e.eles,o=a.nodes().not(":parent");e.sort&&(o=o.sort(e.sort));var s=Nr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(s.h===0||s.w===0)a.nodes().layoutPositions(this,e,function(te){return{x:s.x1,y:s.y1}});else{var l=o.size(),u=Math.sqrt(l*s.h/s.w),d=Math.round(u),f=Math.round(s.w/s.h*u),v=function(ie){if(ie==null)return Math.min(d,f);var se=Math.min(d,f);se==d?d=ie:f=ie},h=function(ie){if(ie==null)return Math.max(d,f);var se=Math.max(d,f);se==d?d=ie:f=ie},g=e.rows,y=e.cols!=null?e.cols:e.columns;if(g!=null&&y!=null)d=g,f=y;else if(g!=null&&y==null)d=g,f=Math.ceil(l/d);else if(g==null&&y!=null)f=y,d=Math.ceil(l/f);else if(f*d>l){var m=v(),C=h();(m-1)*C>=l?v(m-1):(C-1)*m>=l&&h(C-1)}else for(;f*d<l;){var x=v(),E=h();(E+1)*x>=l?h(E+1):v(x+1)}var k=s.w/f,b=s.h/d;if(e.condense&&(k=0,b=0),e.avoidOverlap)for(var T=0;T<o.length;T++){var R=o[T],N=R._private.position;(N.x==null||N.y==null)&&(N.x=0,N.y=0);var D=R.layoutDimensions(e),I=e.avoidOverlapPadding,B=D.w+I,F=D.h+I;k=Math.max(k,B),b=Math.max(b,F)}for(var A={},j=function(ie,se){return!!A["c-"+ie+"-"+se]},_=function(ie,se){A["c-"+ie+"-"+se]=!0},L=0,$=0,V=function(){$++,$>=f&&($=0,L++)},U={},H=0;H<o.length;H++){var K=o[H],Y=e.position(K);if(Y&&(Y.row!==void 0||Y.col!==void 0)){var M={row:Y.row,col:Y.col};if(M.col===void 0)for(M.col=0;j(M.row,M.col);)M.col++;else if(M.row===void 0)for(M.row=0;j(M.row,M.col);)M.row++;U[K.id()]=M,_(M.row,M.col)}}var q=function(ie,se){var ue,ce;if(ie.locked()||ie.isParent())return!1;var ae=U[ie.id()];if(ae)ue=ae.col*k+k/2+s.x1,ce=ae.row*b+b/2+s.y1;else{for(;j(L,$);)V();ue=$*k+k/2+s.x1,ce=L*b+b/2+s.y1,_(L,$),V()}return{x:ue,y:ce}};o.layoutPositions(this,e,q)}return this};var o2={ready:function(){},stop:function(){}};function Hf(t){this.options=Ue({},o2,t)}Hf.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};Hf.prototype.stop=function(){return this};var s2={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Jg(t){this.options=Ue({},s2,t)}Jg.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),a=bt(t.positions);function o(s){if(t.positions==null)return fw(s.position());if(a)return t.positions(s);var l=t.positions[s._private.data.id];return l??null}return r.layoutPositions(this,t,function(s,l){var u=o(s);return s.locked()||u==null?!1:u}),this};var l2={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function em(t){this.options=Ue({},l2,t)}em.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,a=Nr(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),o=function(l,u){return{x:a.x1+Math.round(Math.random()*a.w),y:a.y1+Math.round(Math.random()*a.h)}};return r.nodes().layoutPositions(this,t,o),this};var u2=[{name:"breadthfirst",impl:Gg},{name:"circle",impl:Yg},{name:"concentric",impl:Qg},{name:"cose",impl:iu},{name:"grid",impl:Zg},{name:"null",impl:Hf},{name:"preset",impl:Jg},{name:"random",impl:em}];function tm(t){this.options=t,this.notifications=0}var Cp=function(){},kp=function(){throw new Error("A headless instance can not render images")};tm.prototype={recalculateRenderedStyle:Cp,notify:function(){this.notifications++},init:Cp,isHeadless:function(){return!0},png:kp,jpg:kp};var qf={};qf.arrowShapeWidth=.3;qf.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(f,v,h,g,y,m,C){var x=y.x-h/2-C,E=y.x+h/2+C,k=y.y-h/2-C,b=y.y+h/2+C,T=x<=f&&f<=E&&k<=v&&v<=b;return T},a=function(f,v,h,g,y){var m=f*Math.cos(g)-v*Math.sin(g),C=f*Math.sin(g)+v*Math.cos(g),x=m*h,E=C*h,k=x+y.x,b=E+y.y;return{x:k,y:b}},o=function(f,v,h,g){for(var y=[],m=0;m<f.length;m+=2){var C=f[m],x=f[m+1];y.push(a(C,x,v,h,g))}return y},s=function(f){for(var v=[],h=0;h<f.length;h++){var g=f[h];v.push(g.x,g.y)}return v},l=function(f){return f.pstyle("width").pfValue*f.pstyle("arrow-scale").pfValue*2},u=function(f,v){Fe(v)&&(v=t[v]),t[f]=Ue({name:f,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(g,y,m,C,x,E){var k=s(o(this.points,m+2*E,C,x)),b=Pr(g,y,k);return b},roughCollide:r,draw:function(g,y,m,C){var x=o(this.points,y,m,C);e.arrowShapeImpl("polygon")(g,x)},spacing:function(g){return 0},gap:l},v)};u("none",{collide:Ol,roughCollide:Ol,draw:Lf,spacing:Ih,gap:Ih}),u("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),u("arrow","triangle"),u("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(f,v,h,g,y){var m=o(this.points,v,h,g),C=this.controlPoint,x=a(C[0],C[1],v,h,g);e.arrowShapeImpl(this.name)(f,m,x)},gap:function(f){return l(f)*.8}}),u("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(f,v,h,g,y,m,C){var x=s(o(this.points,h+2*C,g,y)),E=s(o(this.pointsTee,h+2*C,g,y)),k=Pr(f,v,x)||Pr(f,v,E);return k},draw:function(f,v,h,g,y){var m=o(this.points,v,h,g),C=o(this.pointsTee,v,h,g);e.arrowShapeImpl(this.name)(f,m,C)}}),u("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(f,v,h,g,y,m,C){var x=y,E=Math.pow(x.x-f,2)+Math.pow(x.y-v,2)<=Math.pow((h+2*C)*this.radius,2),k=s(o(this.points,h+2*C,g,y));return Pr(f,v,k)||E},draw:function(f,v,h,g,y){var m=o(this.pointsTr,v,h,g);e.arrowShapeImpl(this.name)(f,m,g.x,g.y,this.radius*v)},spacing:function(f){return e.getArrowWidth(f.pstyle("width").pfValue,f.pstyle("arrow-scale").value)*this.radius}}),u("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(f,v){var h=this.baseCrossLinePts.slice(),g=v/f,y=3,m=5;return h[y]=h[y]-g,h[m]=h[m]-g,h},collide:function(f,v,h,g,y,m,C){var x=s(o(this.points,h+2*C,g,y)),E=s(o(this.crossLinePts(h,m),h+2*C,g,y)),k=Pr(f,v,x)||Pr(f,v,E);return k},draw:function(f,v,h,g,y){var m=o(this.points,v,h,g),C=o(this.crossLinePts(v,y),v,h,g);e.arrowShapeImpl(this.name)(f,m,C)}}),u("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(f){return l(f)*.525}}),u("circle",{radius:.15,collide:function(f,v,h,g,y,m,C){var x=y,E=Math.pow(x.x-f,2)+Math.pow(x.y-v,2)<=Math.pow((h+2*C)*this.radius,2);return E},draw:function(f,v,h,g,y){e.arrowShapeImpl(this.name)(f,g.x,g.y,this.radius*v)},spacing:function(f){return e.getArrowWidth(f.pstyle("width").pfValue,f.pstyle("arrow-scale").value)*this.radius}}),u("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(f){return 1},gap:function(f){return 1}}),u("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),u("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(f){return f.pstyle("width").pfValue*f.pstyle("arrow-scale").value}}),u("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(f){return .95*f.pstyle("width").pfValue*f.pstyle("arrow-scale").value}})};var ja={};ja.projectIntoViewport=function(t,e){var r=this.cy,a=this.findContainerClientCoords(),o=a[0],s=a[1],l=a[4],u=r.pan(),d=r.zoom(),f=((t-o)/l-u.x)/d,v=((e-s)/l-u.y)/d;return[f,v]};ja.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=this.cy.window().getComputedStyle(t),a=function(E){return parseFloat(r.getPropertyValue(E))},o={left:a("padding-left"),right:a("padding-right"),top:a("padding-top"),bottom:a("padding-bottom")},s={left:a("border-left-width"),right:a("border-right-width"),top:a("border-top-width"),bottom:a("border-bottom-width")},l=t.clientWidth,u=t.clientHeight,d=o.left+o.right,f=o.top+o.bottom,v=s.left+s.right,h=e.width/(l+v),g=l-d,y=u-f,m=e.left+o.left+s.left,C=e.top+o.top+s.top;return this.containerBB=[m,C,g,y,h]};ja.invalidateContainerClientCoordsCache=function(){this.containerBB=null};ja.findNearestElement=function(t,e,r,a){return this.findNearestElements(t,e,r,a)[0]};ja.findNearestElements=function(t,e,r,a){var o=this,s=this,l=s.getCachedZSortedEles(),u=[],d=s.cy.zoom(),f=s.cy.hasCompoundNodes(),v=(a?24:8)/d,h=(a?8:2)/d,g=(a?8:2)/d,y=1/0,m,C;r&&(l=l.interactive);function x(D,I){if(D.isNode()){if(C)return;C=D,u.push(D)}if(D.isEdge()&&(I==null||I<y))if(m){if(m.pstyle("z-compound-depth").value===D.pstyle("z-compound-depth").value&&m.pstyle("z-compound-depth").value===D.pstyle("z-compound-depth").value){for(var B=0;B<u.length;B++)if(u[B].isEdge()){u[B]=D,m=D,y=I??y;break}}}else u.push(D),m=D,y=I??y}function E(D){var I=D.outerWidth()+2*h,B=D.outerHeight()+2*h,F=I/2,A=B/2,j=D.position(),_=D.pstyle("corner-radius").value==="auto"?"auto":D.pstyle("corner-radius").pfValue,L=D._private.rscratch;if(j.x-F<=t&&t<=j.x+F&&j.y-A<=e&&e<=j.y+A){var $=s.nodeShapes[o.getNodeShape(D)];if($.checkPoint(t,e,0,I,B,j.x,j.y,_,L))return x(D,0),!0}}function k(D){var I=D._private,B=I.rscratch,F=D.pstyle("width").pfValue,A=D.pstyle("arrow-scale").value,j=F/2+v,_=j*j,L=j*2,H=I.source,K=I.target,$;if(B.edgeType==="segments"||B.edgeType==="straight"||B.edgeType==="haystack"){for(var V=B.allpts,U=0;U+3<V.length;U+=2)if(kw(t,e,V[U],V[U+1],V[U+2],V[U+3],L)&&_>($=Nw(t,e,V[U],V[U+1],V[U+2],V[U+3])))return x(D,$),!0}else if(B.edgeType==="bezier"||B.edgeType==="multibezier"||B.edgeType==="self"||B.edgeType==="compound"){for(var V=B.allpts,U=0;U+5<B.allpts.length;U+=4)if(bw(t,e,V[U],V[U+1],V[U+2],V[U+3],V[U+4],V[U+5],L)&&_>($=Pw(t,e,V[U],V[U+1],V[U+2],V[U+3],V[U+4],V[U+5])))return x(D,$),!0}for(var H=H||I.source,K=K||I.target,Y=o.getArrowWidth(F,A),M=[{name:"source",x:B.arrowStartX,y:B.arrowStartY,angle:B.srcArrowAngle},{name:"target",x:B.arrowEndX,y:B.arrowEndY,angle:B.tgtArrowAngle},{name:"mid-source",x:B.midX,y:B.midY,angle:B.midsrcArrowAngle},{name:"mid-target",x:B.midX,y:B.midY,angle:B.midtgtArrowAngle}],U=0;U<M.length;U++){var q=M[U],te=s.arrowShapes[D.pstyle(q.name+"-arrow-shape").value],ie=D.pstyle("width").pfValue;if(te.roughCollide(t,e,Y,q.angle,{x:q.x,y:q.y},ie,v)&&te.collide(t,e,Y,q.angle,{x:q.x,y:q.y},ie,v))return x(D),!0}f&&u.length>0&&(E(H),E(K))}function b(D,I,B){return nn(D,I,B)}function T(D,I){var B=D._private,F=g,A;I?A=I+"-":A="",D.boundingBox();var j=B.labelBounds[I||"main"],_=D.pstyle(A+"label").value,L=D.pstyle("text-events").strValue==="yes";if(!(!L||!_)){var $=b(B.rscratch,"labelX",I),V=b(B.rscratch,"labelY",I),U=b(B.rscratch,"labelAngle",I),H=D.pstyle(A+"text-margin-x").pfValue,K=D.pstyle(A+"text-margin-y").pfValue,Y=j.x1-F-H,M=j.x2+F-H,q=j.y1-F-K,te=j.y2+F-K;if(U){var ie=Math.cos(U),se=Math.sin(U),ue=function(ze,xe){return ze=ze-$,xe=xe-V,{x:ze*ie-xe*se+$,y:ze*se+xe*ie+V}},ce=ue(Y,q),ae=ue(Y,te),Q=ue(M,q),le=ue(M,te),de=[ce.x+H,ce.y+K,Q.x+H,Q.y+K,le.x+H,le.y+K,ae.x+H,ae.y+K];if(Pr(t,e,de))return x(D),!0}else if(bi(j,t,e))return x(D),!0}}for(var R=l.length-1;R>=0;R--){var N=l[R];N.isNode()?E(N)||T(N):k(N)||T(N)||T(N,"source")||T(N,"target")}return u};ja.getAllInBox=function(t,e,r,a){var o=this.getCachedZSortedEles().interactive,s=[],l=Math.min(t,r),u=Math.max(t,r),d=Math.min(e,a),f=Math.max(e,a);t=l,r=u,e=d,a=f;for(var v=Nr({x1:t,y1:e,x2:r,y2:a}),h=0;h<o.length;h++){var g=o[h];if(g.isNode()){var y=g,m=y.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});Mf(v,m)&&!cg(m,v)&&s.push(y)}else{var C=g,x=C._private,E=x.rscratch;if(E.startX!=null&&E.startY!=null&&!bi(v,E.startX,E.startY)||E.endX!=null&&E.endY!=null&&!bi(v,E.endX,E.endY))continue;if(E.edgeType==="bezier"||E.edgeType==="multibezier"||E.edgeType==="self"||E.edgeType==="compound"||E.edgeType==="segments"||E.edgeType==="haystack"){for(var k=x.rstyle.bezierPts||x.rstyle.linePts||x.rstyle.haystackPts,b=!0,T=0;T<k.length;T++)if(!Cw(v,k[T])){b=!1;break}b&&s.push(C)}else(E.edgeType==="haystack"||E.edgeType==="straight")&&s.push(C)}}return s};var $l={};$l.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",a=e.edgeType==="bezier",o=e.edgeType==="multibezier",s=e.edgeType==="segments",l=e.edgeType==="compound",u=e.edgeType==="self",d,f,v,h,g,y,E,k;if(r?(v=e.haystackPts[0],h=e.haystackPts[1],g=e.haystackPts[2],y=e.haystackPts[3]):(v=e.arrowStartX,h=e.arrowStartY,g=e.arrowEndX,y=e.arrowEndY),E=e.midX,k=e.midY,s)d=v-e.segpts[0],f=h-e.segpts[1];else if(o||l||u||a){var m=e.allpts,C=Gt(m[0],m[2],m[4],.1),x=Gt(m[1],m[3],m[5],.1);d=v-C,f=h-x}else d=v-E,f=h-k;e.srcArrowAngle=vl(d,f);var E=e.midX,k=e.midY;if(r&&(E=(v+g)/2,k=(h+y)/2),d=g-v,f=y-h,s){var m=e.allpts;if(m.length/2%2===0){var b=m.length/2,T=b-2;d=m[b]-m[T],f=m[b+1]-m[T+1]}else if(e.isRound)d=e.midVector[1],f=-e.midVector[0];else{var b=m.length/2-1,T=b-2;d=m[b]-m[T],f=m[b+1]-m[T+1]}}else if(o||l||u){var m=e.allpts,R=e.ctrlpts,N,D,I,B;if(R.length/2%2===0){var F=m.length/2-1,A=F+2,j=A+2;N=Gt(m[F],m[A],m[j],0),D=Gt(m[F+1],m[A+1],m[j+1],0),I=Gt(m[F],m[A],m[j],1e-4),B=Gt(m[F+1],m[A+1],m[j+1],1e-4)}else{var A=m.length/2-1,F=A-2,j=A+2;N=Gt(m[F],m[A],m[j],.4999),D=Gt(m[F+1],m[A+1],m[j+1],.4999),I=Gt(m[F],m[A],m[j],.5),B=Gt(m[F+1],m[A+1],m[j+1],.5)}d=I-N,f=B-D}if(e.midtgtArrowAngle=vl(d,f),e.midDispX=d,e.midDispY=f,d*=-1,f*=-1,s){var m=e.allpts;if(m.length/2%2!==0){if(!e.isRound){var b=m.length/2-1,_=b+2;d=-(m[_]-m[b]),f=-(m[_+1]-m[b+1])}}}if(e.midsrcArrowAngle=vl(d,f),s)d=g-e.segpts[e.segpts.length-2],f=y-e.segpts[e.segpts.length-1];else if(o||l||u||a){var m=e.allpts,L=m.length,C=Gt(m[L-6],m[L-4],m[L-2],.9),x=Gt(m[L-5],m[L-3],m[L-1],.9);d=g-C,f=y-x}else d=g-E,f=y-k;e.tgtArrowAngle=vl(d,f)};$l.getArrowWidth=$l.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},a=r[t+", "+e];return a||(a=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=a,a)};var gf,mf,fn={},Hr={},bp,Tp,Na,Rl,Tn,ba,Pa,cn,pi,Sl,rm,nm,yf,wf,Dp,Pp=function(e,r,a){a.x=r.x-e.x,a.y=r.y-e.y,a.len=Math.sqrt(a.x*a.x+a.y*a.y),a.nx=a.x/a.len,a.ny=a.y/a.len,a.ang=Math.atan2(a.ny,a.nx)},c2=function(e,r){r.x=e.x*-1,r.y=e.y*-1,r.nx=e.nx*-1,r.ny=e.ny*-1,r.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},f2=function(e,r,a,o,s){if(e!==Dp?Pp(r,e,fn):c2(Hr,fn),Pp(r,a,Hr),bp=fn.nx*Hr.ny-fn.ny*Hr.nx,Tp=fn.nx*Hr.nx-fn.ny*-Hr.ny,Tn=Math.asin(Math.max(-1,Math.min(1,bp))),Math.abs(Tn)<1e-6){gf=r.x,mf=r.y,Pa=pi=0;return}Na=1,Rl=!1,Tp<0?Tn<0?Tn=Math.PI+Tn:(Tn=Math.PI-Tn,Na=-1,Rl=!0):Tn>0&&(Na=-1,Rl=!0),r.radius!==void 0?pi=r.radius:pi=o,ba=Tn/2,Sl=Math.min(fn.len/2,Hr.len/2),s?(cn=Math.abs(Math.cos(ba)*pi/Math.sin(ba)),cn>Sl?(cn=Sl,Pa=Math.abs(cn*Math.sin(ba)/Math.cos(ba))):Pa=pi):(cn=Math.min(Sl,pi),Pa=Math.abs(cn*Math.sin(ba)/Math.cos(ba))),yf=r.x+Hr.nx*cn,wf=r.y+Hr.ny*cn,gf=yf-Hr.ny*Pa*Na,mf=wf+Hr.nx*Pa*Na,rm=r.x+fn.nx*cn,nm=r.y+fn.ny*cn,Dp=r};function am(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function Wf(t,e,r,a){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return a===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(f2(t,e,r,a,o),{cx:gf,cy:mf,radius:Pa,startX:rm,startY:nm,stopX:yf,stopY:wf,startAngle:fn.ang+Math.PI/2*Na,endAngle:Hr.ang-Math.PI/2*Na,counterClockwise:Rl})}var gr={};gr.findMidptPtsEtc=function(t,e){var r=e.posPts,a=e.intersectionPts,o=e.vectorNormInverse,s,l=t.pstyle("source-endpoint"),u=t.pstyle("target-endpoint"),d=l.units!=null&&u.units!=null,f=function(R,N,D,I){var B=I-N,F=D-R,A=Math.sqrt(F*F+B*B);return{x:-B/A,y:F/A}},v=t.pstyle("edge-distances").value;switch(v){case"node-position":s=r;break;case"intersection":s=a;break;case"endpoints":{if(d){var h=this.manualEndptToPx(t.source()[0],l),g=tn(h,2),y=g[0],m=g[1],C=this.manualEndptToPx(t.target()[0],u),x=tn(C,2),E=x[0],k=x[1],b={x1:y,y1:m,x2:E,y2:k};o=f(y,m,E,k),s=b}else ct("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),s=a;break}}return{midptPts:s,vectorNormInverse:o}};gr.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],a=r._private,o=a.rscratch;if(!o.haystack){var s=Math.random()*2*Math.PI;o.source={x:Math.cos(s),y:Math.sin(s)},s=Math.random()*2*Math.PI,o.target={x:Math.cos(s),y:Math.sin(s)}}var l=a.source,u=a.target,d=l.position(),f=u.position(),v=l.width(),h=u.width(),g=l.height(),y=u.height(),m=r.pstyle("haystack-radius").value,C=m/2;o.haystackPts=o.allpts=[o.source.x*v*C+d.x,o.source.y*g*C+d.y,o.target.x*h*C+f.x,o.target.y*y*C+f.y],o.midX=(o.allpts[0]+o.allpts[2])/2,o.midY=(o.allpts[1]+o.allpts[3])/2,o.edgeType="haystack",o.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};gr.findSegmentsPoints=function(t,e){var r=t._private.rscratch,a=t.pstyle("segment-weights"),o=t.pstyle("segment-distances"),s=t.pstyle("segment-radii"),l=t.pstyle("radius-type"),u=Math.min(a.pfValue.length,o.pfValue.length),d=s.pfValue[s.pfValue.length-1],f=l.pfValue[l.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var v=0;v<u;v++){var h=a.pfValue[v],g=o.pfValue[v],y=1-h,m=h,C=this.findMidptPtsEtc(t,e),x=C.midptPts,E=C.vectorNormInverse,k={x:x.x1*y+x.x2*m,y:x.y1*y+x.y2*m};r.segpts.push(k.x+E.x*g,k.y+E.y*g),r.radii.push(s.pfValue[v]!==void 0?s.pfValue[v]:d),r.isArcRadius.push((l.pfValue[v]!==void 0?l.pfValue[v]:f)==="arc-radius")}};gr.findLoopPoints=function(t,e,r,a){var o=t._private.rscratch,s=e.dirCounts,l=e.srcPos,u=t.pstyle("control-point-distances"),d=u?u.pfValue[0]:void 0,f=t.pstyle("loop-direction").pfValue,v=t.pstyle("loop-sweep").pfValue,h=t.pstyle("control-point-step-size").pfValue;o.edgeType="self";var g=r,y=h;a&&(g=0,y=d);var m=f-Math.PI/2,C=m-v/2,x=m+v/2,E=f+"_"+v;g=s[E]===void 0?s[E]=0:++s[E],o.ctrlpts=[l.x+Math.cos(C)*1.4*y*(g/3+1),l.y+Math.sin(C)*1.4*y*(g/3+1),l.x+Math.cos(x)*1.4*y*(g/3+1),l.y+Math.sin(x)*1.4*y*(g/3+1)]};gr.findCompoundLoopPoints=function(t,e,r,a){var o=t._private.rscratch;o.edgeType="compound";var s=e.srcPos,l=e.tgtPos,u=e.srcW,d=e.srcH,f=e.tgtW,v=e.tgtH,h=t.pstyle("control-point-step-size").pfValue,g=t.pstyle("control-point-distances"),y=g?g.pfValue[0]:void 0,m=r,C=h;a&&(m=0,C=y);var x=50,E={x:s.x-u/2,y:s.y-d/2},k={x:l.x-f/2,y:l.y-v/2},b={x:Math.min(E.x,k.x),y:Math.min(E.y,k.y)},T=.5,R=Math.max(T,Math.log(u*.01)),N=Math.max(T,Math.log(f*.01));o.ctrlpts=[b.x,b.y-(1+Math.pow(x,1.12)/100)*C*(m/3+1)*R,b.x-(1+Math.pow(x,1.12)/100)*C*(m/3+1)*N,b.y]};gr.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};gr.findBezierPoints=function(t,e,r,a,o){var s=t._private.rscratch,l=t.pstyle("control-point-step-size").pfValue,u=t.pstyle("control-point-distances"),d=t.pstyle("control-point-weights"),f=u&&d?Math.min(u.value.length,d.value.length):1,v=u?u.pfValue[0]:void 0,h=d.value[0],g=a;s.edgeType=g?"multibezier":"bezier",s.ctrlpts=[];for(var y=0;y<f;y++){var m=(.5-e.eles.length/2+r)*l*(o?-1:1),C=void 0,x=lg(m);g&&(v=u?u.pfValue[y]:l,h=d.value[y]),a?C=v:C=v!==void 0?x*v:void 0;var E=C!==void 0?C:m,k=1-h,b=h,T=this.findMidptPtsEtc(t,e),R=T.midptPts,N=T.vectorNormInverse,D={x:R.x1*k+R.x2*b,y:R.y1*k+R.y2*b};s.ctrlpts.push(D.x+N.x*E,D.y+N.y*E)}};gr.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var a="vertical",o="horizontal",s="leftward",l="rightward",u="downward",d="upward",f="auto",v=e.posPts,h=e.srcW,g=e.srcH,y=e.tgtW,m=e.tgtH,C=t.pstyle("edge-distances").value,x=C!=="node-position",E=t.pstyle("taxi-direction").value,k=E,b=t.pstyle("taxi-turn"),T=b.units==="%",R=b.pfValue,N=R<0,D=t.pstyle("taxi-turn-min-distance").pfValue,I=x?(h+y)/2:0,B=x?(g+m)/2:0,F=v.x2-v.x1,A=v.y2-v.y1,j=function(ve,Ce){return ve>0?Math.max(ve-Ce,0):Math.min(ve+Ce,0)},_=j(F,I),L=j(A,B),$=!1;k===f?E=Math.abs(_)>Math.abs(L)?o:a:k===d||k===u?(E=a,$=!0):(k===s||k===l)&&(E=o,$=!0);var V=E===a,U=V?L:_,H=V?A:F,K=lg(H),Y=!1;!($&&(T||N))&&(k===u&&H<0||k===d&&H>0||k===s&&H>0||k===l&&H<0)&&(K*=-1,U=K*Math.abs(U),Y=!0);var M;if(T){var q=R<0?1+R:R;M=q*U}else{var te=R<0?U:0;M=te+R*K}var ie=function(ve){return Math.abs(ve)<D||Math.abs(ve)>=Math.abs(U)},se=ie(M),ue=ie(Math.abs(U)-Math.abs(M)),ce=se||ue;if(ce&&!Y)if(V){var ae=Math.abs(H)<=g/2,Q=Math.abs(F)<=y/2;if(ae){var le=(v.x1+v.x2)/2,de=v.y1,Ee=v.y2;r.segpts=[le,de,le,Ee]}else if(Q){var ze=(v.y1+v.y2)/2,xe=v.x1,we=v.x2;r.segpts=[xe,ze,we,ze]}else r.segpts=[v.x1,v.y2]}else{var Re=Math.abs(H)<=h/2,Pe=Math.abs(A)<=m/2;if(Re){var Te=(v.y1+v.y2)/2,Ae=v.x1,Ze=v.x2;r.segpts=[Ae,Te,Ze,Te]}else if(Pe){var Qe=(v.x1+v.x2)/2,Ge=v.y1,at=v.y2;r.segpts=[Qe,Ge,Qe,at]}else r.segpts=[v.x2,v.y1]}else if(V){var Ye=v.y1+M+(x?g/2*K:0),Je=v.x1,ge=v.x2;r.segpts=[Je,Ye,ge,Ye]}else{var z=v.x1+M+(x?h/2*K:0),ee=v.y1,fe=v.y2;r.segpts=[z,ee,z,fe]}if(r.isRound){var Z=t.pstyle("taxi-radius").value,ne=t.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(Z),r.isArcRadius=new Array(r.segpts.length/2).fill(ne)}};gr.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var a=e.srcPos,o=e.tgtPos,s=e.srcW,l=e.srcH,u=e.tgtW,d=e.tgtH,f=e.srcShape,v=e.tgtShape,h=e.srcCornerRadius,g=e.tgtCornerRadius,y=e.srcRs,m=e.tgtRs,C=!ke(r.startX)||!ke(r.startY),x=!ke(r.arrowStartX)||!ke(r.arrowStartY),E=!ke(r.endX)||!ke(r.endY),k=!ke(r.arrowEndX)||!ke(r.arrowEndY),b=3,T=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,R=b*T,N=Ma({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),D=N<R,I=Ma({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),B=I<R,F=!1;if(C||x||D){F=!0;var A={x:r.ctrlpts[0]-a.x,y:r.ctrlpts[1]-a.y},j=Math.sqrt(A.x*A.x+A.y*A.y),_={x:A.x/j,y:A.y/j},L=Math.max(s,l),$={x:r.ctrlpts[0]+_.x*2*L,y:r.ctrlpts[1]+_.y*2*L},V=f.intersectLine(a.x,a.y,s,l,$.x,$.y,0,h,y);D?(r.ctrlpts[0]=r.ctrlpts[0]+_.x*(R-N),r.ctrlpts[1]=r.ctrlpts[1]+_.y*(R-N)):(r.ctrlpts[0]=V[0]+_.x*R,r.ctrlpts[1]=V[1]+_.y*R)}if(E||k||B){F=!0;var U={x:r.ctrlpts[0]-o.x,y:r.ctrlpts[1]-o.y},H=Math.sqrt(U.x*U.x+U.y*U.y),K={x:U.x/H,y:U.y/H},Y=Math.max(s,l),M={x:r.ctrlpts[0]+K.x*2*Y,y:r.ctrlpts[1]+K.y*2*Y},q=v.intersectLine(o.x,o.y,u,d,M.x,M.y,0,g,m);B?(r.ctrlpts[0]=r.ctrlpts[0]+K.x*(R-I),r.ctrlpts[1]=r.ctrlpts[1]+K.y*(R-I)):(r.ctrlpts[0]=q[0]+K.x*R,r.ctrlpts[1]=q[1]+K.y*R)}F&&this.findEndpoints(t)}};gr.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var a,o;e.ctrlpts.length/2%2===0?(a=e.allpts.length/2-1,e.midX=e.allpts[a],e.midY=e.allpts[a+1]):(a=e.allpts.length/2-3,o=.5,e.midX=Gt(e.allpts[a],e.allpts[a+2],e.allpts[a+4],o),e.midY=Gt(e.allpts[a+1],e.allpts[a+3],e.allpts[a+5],o))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var s=2;s+3<e.allpts.length;s+=2){var l=e.radii[s/2-1],u=e.isArcRadius[s/2-1];e.roundCorners.push(Wf({x:e.allpts[s-2],y:e.allpts[s-1]},{x:e.allpts[s],y:e.allpts[s+1],radius:l},{x:e.allpts[s+2],y:e.allpts[s+3]},l,u))}}if(e.segpts.length%4===0){var d=e.segpts.length/2,f=d-2;e.midX=(e.segpts[f]+e.segpts[d])/2,e.midY=(e.segpts[f+1]+e.segpts[d+1])/2}else{var v=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[v],e.midY=e.segpts[v+1];else{var h={x:e.segpts[v],y:e.segpts[v+1]},g=e.roundCorners[v/2],y=[h.x-g.cx,h.y-g.cy],m=g.radius/Math.sqrt(Math.pow(y[0],2)+Math.pow(y[1],2));y=y.map(function(C){return C*m}),e.midX=g.cx+y[0],e.midY=g.cy+y[1],e.midVector=y}}}};gr.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||ke(e.startX)&&ke(e.startY)&&ke(e.endX)&&ke(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,ct("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};gr.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,a=r.cy,o=a.hasCompoundNodes(),s={map:new vn,get:function(D){var I=this.map.get(D[0]);return I!=null?I.get(D[1]):null},set:function(D,I){var B=this.map.get(D[0]);B==null&&(B=new vn,this.map.set(D[0],B)),B.set(D[1],I)}},l=[],u=[],d=0;d<t.length;d++){var f=t[d],v=f._private,h=f.pstyle("curve-style").value;if(!(f.removed()||!f.takesUpSpace())){if(h==="haystack"){u.push(f);continue}var g=h==="unbundled-bezier"||h.endsWith("segments")||h==="straight"||h==="straight-triangle"||h.endsWith("taxi"),y=h==="unbundled-bezier"||h==="bezier",m=v.source,C=v.target,x=m.poolIndex(),E=C.poolIndex(),k=[x,E].sort(),b=s.get(k);b==null&&(b={eles:[]},s.set(k,b),l.push(k)),b.eles.push(f),g&&(b.hasUnbundled=!0),y&&(b.hasBezier=!0)}}for(var T=function(D){var I=l[D],B=s.get(I),F=void 0;if(!B.hasUnbundled){var A=B.eles[0].parallelEdges().filter(function(z){return z.isBundledBezier()});Rf(B.eles),A.forEach(function(z){return B.eles.push(z)}),B.eles.sort(function(z,ee){return z.poolIndex()-ee.poolIndex()})}var j=B.eles[0],_=j.source(),L=j.target();if(_.poolIndex()>L.poolIndex()){var $=_;_=L,L=$}var V=B.srcPos=_.position(),U=B.tgtPos=L.position(),H=B.srcW=_.outerWidth(),K=B.srcH=_.outerHeight(),Y=B.tgtW=L.outerWidth(),M=B.tgtH=L.outerHeight(),q=B.srcShape=r.nodeShapes[e.getNodeShape(_)],te=B.tgtShape=r.nodeShapes[e.getNodeShape(L)],ie=B.srcCornerRadius=_.pstyle("corner-radius").value==="auto"?"auto":_.pstyle("corner-radius").pfValue,se=B.tgtCornerRadius=L.pstyle("corner-radius").value==="auto"?"auto":L.pstyle("corner-radius").pfValue,ue=B.tgtRs=L._private.rscratch,ce=B.srcRs=_._private.rscratch;B.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var ae=0;ae<B.eles.length;ae++){var Q=B.eles[ae],le=Q[0]._private.rscratch,de=Q.pstyle("curve-style").value,Ee=de==="unbundled-bezier"||de.endsWith("segments")||de.endsWith("taxi"),ze=!_.same(Q.source());if(!B.calculatedIntersection&&_!==L&&(B.hasBezier||B.hasUnbundled)){B.calculatedIntersection=!0;var xe=q.intersectLine(V.x,V.y,H,K,U.x,U.y,0,ie,ce),we=B.srcIntn=xe,Re=te.intersectLine(U.x,U.y,Y,M,V.x,V.y,0,se,ue),Pe=B.tgtIntn=Re,Te=B.intersectionPts={x1:xe[0],x2:Re[0],y1:xe[1],y2:Re[1]},Ae=B.posPts={x1:V.x,x2:U.x,y1:V.y,y2:U.y},Ze=Re[1]-xe[1],Qe=Re[0]-xe[0],Ge=Math.sqrt(Qe*Qe+Ze*Ze),at=B.vector={x:Qe,y:Ze},Ye=B.vectorNorm={x:at.x/Ge,y:at.y/Ge},Je={x:-Ye.y,y:Ye.x};B.nodesOverlap=!ke(Ge)||te.checkPoint(xe[0],xe[1],0,Y,M,U.x,U.y,se,ue)||q.checkPoint(Re[0],Re[1],0,H,K,V.x,V.y,ie,ce),B.vectorNormInverse=Je,F={nodesOverlap:B.nodesOverlap,dirCounts:B.dirCounts,calculatedIntersection:!0,hasBezier:B.hasBezier,hasUnbundled:B.hasUnbundled,eles:B.eles,srcPos:U,srcRs:ue,tgtPos:V,tgtRs:ce,srcW:Y,srcH:M,tgtW:H,tgtH:K,srcIntn:Pe,tgtIntn:we,srcShape:te,tgtShape:q,posPts:{x1:Ae.x2,y1:Ae.y2,x2:Ae.x1,y2:Ae.y1},intersectionPts:{x1:Te.x2,y1:Te.y2,x2:Te.x1,y2:Te.y1},vector:{x:-at.x,y:-at.y},vectorNorm:{x:-Ye.x,y:-Ye.y},vectorNormInverse:{x:-Je.x,y:-Je.y}}}var ge=ze?F:B;le.nodesOverlap=ge.nodesOverlap,le.srcIntn=ge.srcIntn,le.tgtIntn=ge.tgtIntn,le.isRound=de.startsWith("round"),o&&(_.isParent()||_.isChild()||L.isParent()||L.isChild())&&(_.parents().anySame(L)||L.parents().anySame(_)||_.same(L)&&_.isParent())?e.findCompoundLoopPoints(Q,ge,ae,Ee):_===L?e.findLoopPoints(Q,ge,ae,Ee):de.endsWith("segments")?e.findSegmentsPoints(Q,ge):de.endsWith("taxi")?e.findTaxiPoints(Q,ge):de==="straight"||!Ee&&B.eles.length%2===1&&ae===Math.floor(B.eles.length/2)?e.findStraightEdgePoints(Q):e.findBezierPoints(Q,ge,ae,Ee,ze),e.findEndpoints(Q),e.tryToCorrectInvalidPoints(Q,ge),e.checkForInvalidEdgeWarning(Q),e.storeAllpts(Q),e.storeEdgeProjections(Q),e.calculateArrowAngles(Q),e.recalculateEdgeLabelProjections(Q),e.calculateLabelAngles(Q)}},R=0;R<l.length;R++)T(R);this.findHaystackPoints(u)}};function im(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var a=t[r],o=t[r+1];e.push({x:a,y:o})}return e}}gr.getSegmentPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="segments")return im(e.segpts)};gr.getControlPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return im(e.ctrlpts)};gr.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var Qo={};Qo.manualEndptToPx=function(t,e){var r=this,a=t.position(),o=t.outerWidth(),s=t.outerHeight(),l=t._private.rscratch;if(e.value.length===2){var u=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(u[0]=u[0]*o),e.units[1]==="%"&&(u[1]=u[1]*s),u[0]+=a.x,u[1]+=a.y,u}else{var d=e.pfValue[0];d=-Math.PI/2+d;var f=2*Math.max(o,s),v=[a.x+Math.cos(d)*f,a.y+Math.sin(d)*f];return r.nodeShapes[this.getNodeShape(t)].intersectLine(a.x,a.y,o,s,v[0],v[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,l)}};Qo.findEndpoints=function(t){var e=this,r,a=t.source()[0],o=t.target()[0],s=a.position(),l=o.position(),u=t.pstyle("target-arrow-shape").value,d=t.pstyle("source-arrow-shape").value,f=t.pstyle("target-distance-from-node").pfValue,v=t.pstyle("source-distance-from-node").pfValue,h=a._private.rscratch,g=o._private.rscratch,y=t.pstyle("curve-style").value,m=t._private.rscratch,C=m.edgeType,x=y==="taxi",E=C==="self"||C==="compound",k=C==="bezier"||C==="multibezier"||E,b=C!=="bezier",T=C==="straight"||C==="segments",R=C==="segments",N=k||b||T,D=E||x,I=t.pstyle("source-endpoint"),B=D?"outside-to-node":I.value,F=a.pstyle("corner-radius").value==="auto"?"auto":a.pstyle("corner-radius").pfValue,A=t.pstyle("target-endpoint"),j=D?"outside-to-node":A.value,_=o.pstyle("corner-radius").value==="auto"?"auto":o.pstyle("corner-radius").pfValue;m.srcManEndpt=I,m.tgtManEndpt=A;var L,$,V,U;if(k){var H=[m.ctrlpts[0],m.ctrlpts[1]],K=b?[m.ctrlpts[m.ctrlpts.length-2],m.ctrlpts[m.ctrlpts.length-1]]:H;L=K,$=H}else if(T){var Y=R?m.segpts.slice(0,2):[l.x,l.y],M=R?m.segpts.slice(m.segpts.length-2):[s.x,s.y];L=M,$=Y}if(j==="inside-to-node")r=[l.x,l.y];else if(A.units)r=this.manualEndptToPx(o,A);else if(j==="outside-to-line")r=m.tgtIntn;else if(j==="outside-to-node"||j==="outside-to-node-or-label"?V=L:(j==="outside-to-line"||j==="outside-to-line-or-label")&&(V=[s.x,s.y]),r=e.nodeShapes[this.getNodeShape(o)].intersectLine(l.x,l.y,o.outerWidth(),o.outerHeight(),V[0],V[1],0,_,g),j==="outside-to-node-or-label"||j==="outside-to-line-or-label"){var q=o._private.rscratch,te=q.labelWidth,ie=q.labelHeight,se=q.labelX,ue=q.labelY,ce=te/2,ae=ie/2,Q=o.pstyle("text-valign").value;Q==="top"?ue-=ae:Q==="bottom"&&(ue+=ae);var le=o.pstyle("text-halign").value;le==="left"?se-=ce:le==="right"&&(se+=ce);var de=Fo(V[0],V[1],[se-ce,ue-ae,se+ce,ue-ae,se+ce,ue+ae,se-ce,ue+ae],l.x,l.y);if(de.length>0){var Ee=s,ze=Ta(Ee,yi(r)),xe=Ta(Ee,yi(de)),we=ze;if(xe<ze&&(r=de,we=xe),de.length>2){var Re=Ta(Ee,{x:de[2],y:de[3]});Re<we&&(r=[de[2],de[3]])}}}var Pe=hl(r,L,e.arrowShapes[u].spacing(t)+f),Te=hl(r,L,e.arrowShapes[u].gap(t)+f);if(m.endX=Te[0],m.endY=Te[1],m.arrowEndX=Pe[0],m.arrowEndY=Pe[1],B==="inside-to-node")r=[s.x,s.y];else if(I.units)r=this.manualEndptToPx(a,I);else if(B==="outside-to-line")r=m.srcIntn;else if(B==="outside-to-node"||B==="outside-to-node-or-label"?U=$:(B==="outside-to-line"||B==="outside-to-line-or-label")&&(U=[l.x,l.y]),r=e.nodeShapes[this.getNodeShape(a)].intersectLine(s.x,s.y,a.outerWidth(),a.outerHeight(),U[0],U[1],0,F,h),B==="outside-to-node-or-label"||B==="outside-to-line-or-label"){var Ae=a._private.rscratch,Ze=Ae.labelWidth,Qe=Ae.labelHeight,Ge=Ae.labelX,at=Ae.labelY,Ye=Ze/2,Je=Qe/2,ge=a.pstyle("text-valign").value;ge==="top"?at-=Je:ge==="bottom"&&(at+=Je);var z=a.pstyle("text-halign").value;z==="left"?Ge-=Ye:z==="right"&&(Ge+=Ye);var ee=Fo(U[0],U[1],[Ge-Ye,at-Je,Ge+Ye,at-Je,Ge+Ye,at+Je,Ge-Ye,at+Je],s.x,s.y);if(ee.length>0){var fe=l,Z=Ta(fe,yi(r)),ne=Ta(fe,yi(ee)),be=Z;if(ne<Z&&(r=[ee[0],ee[1]],be=ne),ee.length>2){var ve=Ta(fe,{x:ee[2],y:ee[3]});ve<be&&(r=[ee[2],ee[3]])}}}var Ce=hl(r,$,e.arrowShapes[d].spacing(t)+v),je=hl(r,$,e.arrowShapes[d].gap(t)+v);m.startX=je[0],m.startY=je[1],m.arrowStartX=Ce[0],m.arrowStartY=Ce[1],N&&(!ke(m.startX)||!ke(m.startY)||!ke(m.endX)||!ke(m.endY)?m.badLine=!0:m.badLine=!1)};Qo.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};Qo.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var Kf={};function d2(t,e,r){for(var a=function(f,v,h,g){return Gt(f,v,h,g)},o=e._private,s=o.rstyle.bezierPts,l=0;l<t.bezierProjPcts.length;l++){var u=t.bezierProjPcts[l];s.push({x:a(r[0],r[2],r[4],u),y:a(r[1],r[3],r[5],u)})}}Kf.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,a=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,a==="multibezier"||a==="bezier"||a==="self"||a==="compound"){e.rstyle.bezierPts=[];for(var o=0;o+5<r.allpts.length;o+=4)d2(this,t,r.allpts.slice(o,o+6))}else if(a==="segments")for(var s=e.rstyle.linePts=[],o=0;o+1<r.allpts.length;o+=2)s.push({x:r.allpts[o],y:r.allpts[o+1]});else if(a==="haystack"){var l=r.haystackPts;e.rstyle.haystackPts=[{x:l[0],y:l[1]},{x:l[2],y:l[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};Kf.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var pn={};pn.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!oa(e)){var r,a,o=t._private,s=t.width(),l=t.height(),u=t.padding(),d=t.position(),f=t.pstyle("text-halign").strValue,v=t.pstyle("text-valign").strValue,h=o.rscratch,g=o.rstyle;switch(f){case"left":r=d.x-s/2-u;break;case"right":r=d.x+s/2+u;break;default:r=d.x}switch(v){case"top":a=d.y-l/2-u;break;case"bottom":a=d.y+l/2+u;break;default:a=d.y}h.labelX=r,h.labelY=a,g.labelX=r,g.labelY=a,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var om=function(e,r){var a=Math.atan(r/e);return e===0&&a<0&&(a=a*-1),a},sm=function(e,r){var a=r.x-e.x,o=r.y-e.y;return om(a,o)},v2=function(e,r,a,o){var s=Ao(0,o-.001,1),l=Ao(0,o+.001,1),u=xi(e,r,a,s),d=xi(e,r,a,l);return sm(u,d)};pn.recalculateEdgeLabelProjections=function(t){var e,r=t._private,a=r.rscratch,o=this,s={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(s.mid||s.source||s.target){e={x:a.midX,y:a.midY};var l=function(h,g,y){ra(r.rscratch,h,g,y),ra(r.rstyle,h,g,y)};l("labelX",null,e.x),l("labelY",null,e.y);var u=om(a.midDispX,a.midDispY);l("labelAutoAngle",null,u);var d=function v(){if(v.cache)return v.cache;for(var h=[],g=0;g+5<a.allpts.length;g+=4){var y={x:a.allpts[g],y:a.allpts[g+1]},m={x:a.allpts[g+2],y:a.allpts[g+3]},C={x:a.allpts[g+4],y:a.allpts[g+5]};h.push({p0:y,p1:m,p2:C,startDist:0,length:0,segments:[]})}var x=r.rstyle.bezierPts,E=o.bezierProjPcts.length;function k(D,I,B,F,A){var j=Ma(I,B),_=D.segments[D.segments.length-1],L={p0:I,p1:B,t0:F,t1:A,startDist:_?_.startDist+_.length:0,length:j};D.segments.push(L),D.length+=j}for(var b=0;b<h.length;b++){var T=h[b],R=h[b-1];R&&(T.startDist=R.startDist+R.length),k(T,T.p0,x[b*E],0,o.bezierProjPcts[0]);for(var N=0;N<E-1;N++)k(T,x[b*E+N],x[b*E+N+1],o.bezierProjPcts[N],o.bezierProjPcts[N+1]);k(T,x[b*E+E-1],T.p2,o.bezierProjPcts[E-1],1)}return v.cache=h},f=function(h){var g,y=h==="source";if(s[h]){var m=t.pstyle(h+"-text-offset").pfValue;switch(a.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var C=d(),x,E=0,k=0,b=0;b<C.length;b++){for(var T=C[y?b:C.length-1-b],R=0;R<T.segments.length;R++){var N=T.segments[y?R:T.segments.length-1-R],D=b===C.length-1&&R===T.segments.length-1;if(E=k,k+=N.length,k>=m||D){x={cp:T,segment:N};break}}if(x)break}var I=x.cp,B=x.segment,F=(m-E)/B.length,A=B.t1-B.t0,j=y?B.t0+A*F:B.t1-A*F;j=Ao(0,j,1),e=xi(I.p0,I.p1,I.p2,j),g=v2(I.p0,I.p1,I.p2,j);break}case"straight":case"segments":case"haystack":{for(var _=0,L,$,V,U,H=a.allpts.length,K=0;K+3<H&&(y?(V={x:a.allpts[K],y:a.allpts[K+1]},U={x:a.allpts[K+2],y:a.allpts[K+3]}):(V={x:a.allpts[H-2-K],y:a.allpts[H-1-K]},U={x:a.allpts[H-4-K],y:a.allpts[H-3-K]}),L=Ma(V,U),$=_,_+=L,!(_>=m));K+=2);var Y=m-$,M=Y/L;M=Ao(0,M,1),e=yw(V,U,M),g=sm(V,U);break}}l("labelX",h,e.x),l("labelY",h,e.y),l("labelAutoAngle",h,g)}};f("source"),f("target"),this.applyLabelDimensions(t)}};pn.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};pn.applyPrefixedLabelDimensions=function(t,e){var r=t._private,a=this.getLabelText(t,e),o=this.calculateLabelDimensions(t,a),s=t.pstyle("line-height").pfValue,l=t.pstyle("text-wrap").strValue,u=nn(r.rscratch,"labelWrapCachedLines",e)||[],d=l!=="wrap"?1:Math.max(u.length,1),f=o.height/d,v=f*s,h=o.width,g=o.height+(d-1)*(s-1)*f;ra(r.rstyle,"labelWidth",e,h),ra(r.rscratch,"labelWidth",e,h),ra(r.rstyle,"labelHeight",e,g),ra(r.rscratch,"labelHeight",e,g),ra(r.rscratch,"labelLineHeight",e,v)};pn.getLabelText=function(t,e){var r=t._private,a=e?e+"-":"",o=t.pstyle(a+"label").strValue,s=t.pstyle("text-transform").value,l=function(te,ie){return ie?(ra(r.rscratch,te,e,ie),ie):nn(r.rscratch,te,e)};if(!o)return"";s=="none"||(s=="uppercase"?o=o.toUpperCase():s=="lowercase"&&(o=o.toLowerCase()));var u=t.pstyle("text-wrap").value;if(u==="wrap"){var d=l("labelKey");if(d!=null&&l("labelWrapKey")===d)return l("labelWrapCachedText");for(var f="​",v=o.split(`
`),h=t.pstyle("text-max-width").pfValue,g=t.pstyle("text-overflow-wrap").value,y=g==="anywhere",m=[],C=/[\s\u200b]+|$/g,x=0;x<v.length;x++){var E=v[x],k=this.calculateLabelDimensions(t,E),b=k.width;if(y){var T=E.split("").join(f);E=T}if(b>h){var R=E.matchAll(C),N="",D=0,I=Up(R),B;try{for(I.s();!(B=I.n()).done;){var F=B.value,A=F[0],j=E.substring(D,F.index);D=F.index+A.length;var _=N.length===0?j:N+j+A,L=this.calculateLabelDimensions(t,_),$=L.width;$<=h?N+=j+A:(N&&m.push(N),N=j+A)}}catch(q){I.e(q)}finally{I.f()}N.match(/^[\s\u200b]+$/)||m.push(N)}else m.push(E)}l("labelWrapCachedLines",m),o=l("labelWrapCachedText",m.join(`
`)),l("labelWrapKey",d)}else if(u==="ellipsis"){var V=t.pstyle("text-max-width").pfValue,U="",H="…",K=!1;if(this.calculateLabelDimensions(t,o).width<V)return o;for(var Y=0;Y<o.length;Y++){var M=this.calculateLabelDimensions(t,U+o[Y]+H).width;if(M>V)break;U+=o[Y],Y===o.length-1&&(K=!0)}return K||(U+=H),U}return o};pn.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};pn.calculateLabelDimensions=function(t,e){var r=this,a=r.cy.window(),o=a.document,s=Ba(e,t._private.labelDimsKey),l=r.labelDimCache||(r.labelDimCache=[]),u=l[s];if(u!=null)return u;var d=0,f=t.pstyle("font-style").strValue,v=t.pstyle("font-size").pfValue,h=t.pstyle("font-family").strValue,g=t.pstyle("font-weight").strValue,y=this.labelCalcCanvas,m=this.labelCalcCanvasContext;if(!y){y=this.labelCalcCanvas=o.createElement("canvas"),m=this.labelCalcCanvasContext=y.getContext("2d");var C=y.style;C.position="absolute",C.left="-9999px",C.top="-9999px",C.zIndex="-1",C.visibility="hidden",C.pointerEvents="none"}m.font="".concat(f," ").concat(g," ").concat(v,"px ").concat(h);for(var x=0,E=0,k=e.split(`
`),b=0;b<k.length;b++){var T=k[b],R=m.measureText(T),N=Math.ceil(R.width),D=v;x=Math.max(N,x),E+=D}return x+=d,E+=d,l[s]={width:x,height:E}};pn.calculateLabelAngle=function(t,e){var r=t._private,a=r.rscratch,o=t.isEdge(),s=e?e+"-":"",l=t.pstyle(s+"text-rotation"),u=l.strValue;return u==="none"?0:o&&u==="autorotate"?a.labelAutoAngle:u==="autorotate"?0:l.pfValue};pn.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),a=t._private,o=a.rscratch;o.labelAngle=e.calculateLabelAngle(t),r&&(o.sourceLabelAngle=e.calculateLabelAngle(t,"source"),o.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var lm={},Np=28,Lp=!1;lm.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<Np||t.height()<Np))return Lp||(ct("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Lp=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var a=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(a).name}return r};var ou={};ou.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,a=function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(l),u)for(var d=0;d<l.length;d++){var f=l[d],v=f._private,h=v.rstyle;h.clean=!1,h.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(l){var u=l.target;a(u)}).on("style.* background.*",function(l){var u=l.target;a(u,!1)});var o=function(l){if(l){var u=r.onUpdateEleCalcsFns;e.cleanStyle();for(var d=0;d<e.length;d++){var f=e[d],v=f._private.rstyle;f.isNode()&&!v.cleanConnected&&(a(f.connectedEdges()),v.cleanConnected=!0)}if(u)for(var h=0;h<u.length;h++){var g=u[h];g(l,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){o(!0)},r.beforeRender(o,r.beforeRenderPriorities.eleCalcs)};ou.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};ou.recalculateRenderedStyle=function(t,e){var r=function(T){return T._private.rstyle.cleanConnected},a=[],o=[];if(!this.destroyed){e===void 0&&(e=!0);for(var s=0;s<t.length;s++){var l=t[s],u=l._private,d=u.rstyle;l.isEdge()&&(!r(l.source())||!r(l.target()))&&(d.clean=!1),!(e&&d.clean||l.removed())&&l.pstyle("display").value!=="none"&&(u.group==="nodes"?o.push(l):a.push(l),d.clean=!0)}for(var f=0;f<o.length;f++){var v=o[f],h=v._private,g=h.rstyle,y=v.position();this.recalculateNodeLabelProjection(v),g.nodeX=y.x,g.nodeY=y.y,g.nodeW=v.pstyle("width").pfValue,g.nodeH=v.pstyle("height").pfValue}this.recalculateEdgeProjections(a);for(var m=0;m<a.length;m++){var C=a[m],x=C._private,E=x.rstyle,k=x.rscratch;E.srcX=k.arrowStartX,E.srcY=k.arrowStartY,E.tgtX=k.arrowEndX,E.tgtY=k.arrowEndY,E.midX=k.midX,E.midY=k.midY,E.labelAngle=k.labelAngle,E.sourceLabelAngle=k.sourceLabelAngle,E.targetLabelAngle=k.targetLabelAngle}}};var su={};su.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var a=t[r],o=a._private.rscratch;a.grabbed()&&!a.isParent()?e.push(a):o.inDragLayer?t.drag.push(a):t.nondrag.push(a)}for(var r=0;r<e.length;r++){var a=e[r];t.drag.push(a)}}};su.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};su.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(qg),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var um={};[ja,$l,gr,Qo,Kf,pn,lm,ou,su].forEach(function(t){Ue(um,t)});var cm={};cm.getCachedImage=function(t,e,r){var a=this,o=a.imageCache=a.imageCache||{},s=o[t];if(s)return s.image.complete||s.image.addEventListener("load",r),s.image;s=o[t]=o[t]||{};var l=s.image=new Image;l.addEventListener("load",r),l.addEventListener("error",function(){l.error=!0});var u="data:",d=t.substring(0,u.length).toLowerCase()===u;return d||(e=e==="null"?null:e,l.crossOrigin=e),l.src=t,l};var Oi={};Oi.registerBinding=function(t,e,r,a){var o=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(t)){for(var s=[],l=0;l<t.length;l++){var u=t[l];if(u!==void 0){var d=this.binder(u);s.push(d.on.apply(d,o))}}return s}var d=this.binder(t);return d.on.apply(d,o)};Oi.binder=function(t){var e=this,r=e.cy.window(),a=t===r||t===r.document||t===r.document.body||F0(t);if(e.supportsPassiveEvents==null){var o=!1;try{var s=Object.defineProperty({},"passive",{get:function(){return o=!0,!0}});r.addEventListener("test",null,s)}catch{}e.supportsPassiveEvents=o}var l=function(d,f,v){var h=Array.prototype.slice.call(arguments);return a&&e.supportsPassiveEvents&&(h[2]={capture:v??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:h}),(t.addEventListener||t.on).apply(t,h),this};return{on:l,addEventListener:l,addListener:l,bind:l}};Oi.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};Oi.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};Oi.load=function(){var t=this,e=t.cy.window(),r=function(z){return z.selected()},a=function(z){var ee=z.getRootNode();if(ee&&ee.nodeType===11&&ee.host!==void 0)return ee},o=function(z,ee,fe,Z){z==null&&(z=t.cy);for(var ne=0;ne<ee.length;ne++){var be=ee[ne];z.emit({originalEvent:fe,type:be,position:Z})}},s=function(z){return z.shiftKey||z.metaKey||z.ctrlKey},l=function(z,ee){var fe=!0;if(t.cy.hasCompoundNodes()&&z&&z.pannable())for(var Z=0;ee&&Z<ee.length;Z++){var z=ee[Z];if(z.isNode()&&z.isParent()&&!z.pannable()){fe=!1;break}}else fe=!0;return fe},u=function(z){z[0]._private.grabbed=!0},d=function(z){z[0]._private.grabbed=!1},f=function(z){z[0]._private.rscratch.inDragLayer=!0},v=function(z){z[0]._private.rscratch.inDragLayer=!1},h=function(z){z[0]._private.rscratch.isGrabTarget=!0},g=function(z){z[0]._private.rscratch.isGrabTarget=!1},y=function(z,ee){var fe=ee.addToList,Z=fe.has(z);!Z&&z.grabbable()&&!z.locked()&&(fe.merge(z),u(z))},m=function(z,ee){if(z.cy().hasCompoundNodes()&&!(ee.inDragLayer==null&&ee.addToList==null)){var fe=z.descendants();ee.inDragLayer&&(fe.forEach(f),fe.connectedEdges().forEach(f)),ee.addToList&&y(fe,ee)}},C=function(z,ee){ee=ee||{};var fe=z.cy().hasCompoundNodes();ee.inDragLayer&&(z.forEach(f),z.neighborhood().stdFilter(function(Z){return!fe||Z.isEdge()}).forEach(f)),ee.addToList&&z.forEach(function(Z){y(Z,ee)}),m(z,ee),k(z,{inDragLayer:ee.inDragLayer}),t.updateCachedGrabbedEles()},x=C,E=function(z){z&&(t.getCachedZSortedEles().forEach(function(ee){d(ee),v(ee),g(ee)}),t.updateCachedGrabbedEles())},k=function(z,ee){if(!(ee.inDragLayer==null&&ee.addToList==null)&&z.cy().hasCompoundNodes()){var fe=z.ancestors().orphans();if(!fe.same(z)){var Z=fe.descendants().spawnSelf().merge(fe).unmerge(z).unmerge(z.descendants()),ne=Z.connectedEdges();ee.inDragLayer&&(ne.forEach(f),Z.forEach(f)),ee.addToList&&Z.forEach(function(be){y(be,ee)})}}},b=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},T=typeof MutationObserver<"u",R=typeof ResizeObserver<"u";T?(t.removeObserver=new MutationObserver(function(ge){for(var z=0;z<ge.length;z++){var ee=ge[z],fe=ee.removedNodes;if(fe)for(var Z=0;Z<fe.length;Z++){var ne=fe[Z];if(ne===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(ge){t.destroy()});var N=Wl(function(){t.cy.resize()},100);T&&(t.styleObserver=new MutationObserver(N),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",N),R&&(t.resizeObserver=new ResizeObserver(N),t.resizeObserver.observe(t.container));var D=function(z,ee){for(;z!=null;)ee(z),z=z.parentNode},I=function(){t.invalidateContainerClientCoordsCache()};D(t.container,function(ge){t.registerBinding(ge,"transitionend",I),t.registerBinding(ge,"animationend",I),t.registerBinding(ge,"scroll",I)}),t.registerBinding(t.container,"contextmenu",function(ge){ge.preventDefault()});var B=function(){return t.selection[4]!==0},F=function(z){for(var ee=t.findContainerClientCoords(),fe=ee[0],Z=ee[1],ne=ee[2],be=ee[3],ve=z.touches?z.touches:[z],Ce=!1,je=0;je<ve.length;je++){var We=ve[je];if(fe<=We.clientX&&We.clientX<=fe+ne&&Z<=We.clientY&&We.clientY<=Z+be){Ce=!0;break}}if(!Ce)return!1;for(var Be=t.container,He=z.target,qe=He.parentNode,Ve=!1;qe;){if(qe===Be){Ve=!0;break}qe=qe.parentNode}return!!Ve};t.registerBinding(t.container,"mousedown",function(z){if(F(z)&&!(t.hoverData.which===1&&z.which!==1)){z.preventDefault(),b(),t.hoverData.capture=!0,t.hoverData.which=z.which;var ee=t.cy,fe=[z.clientX,z.clientY],Z=t.projectIntoViewport(fe[0],fe[1]),ne=t.selection,be=t.findNearestElements(Z[0],Z[1],!0,!1),ve=be[0],Ce=t.dragData.possibleDragElements;t.hoverData.mdownPos=Z,t.hoverData.mdownGPos=fe;var je=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var et=t.hoverData.down;et?et.emit({originalEvent:z,type:"taphold",position:{x:Z[0],y:Z[1]}}):ee.emit({originalEvent:z,type:"taphold",position:{x:Z[0],y:Z[1]}})}},t.tapholdDuration)};if(z.which==3){t.hoverData.cxtStarted=!0;var We={originalEvent:z,type:"cxttapstart",position:{x:Z[0],y:Z[1]}};ve?(ve.activate(),ve.emit(We),t.hoverData.down=ve):ee.emit(We),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(z.which==1){ve&&ve.activate();{if(ve!=null&&t.nodeIsGrabbable(ve)){var Be=function(et){return{originalEvent:z,type:et,position:{x:Z[0],y:Z[1]}}},He=function(et){et.emit(Be("grab"))};if(h(ve),!ve.selected())Ce=t.dragData.possibleDragElements=ee.collection(),x(ve,{addToList:Ce}),ve.emit(Be("grabon")).emit(Be("grab"));else{Ce=t.dragData.possibleDragElements=ee.collection();var qe=ee.$(function(Ve){return Ve.isNode()&&Ve.selected()&&t.nodeIsGrabbable(Ve)});C(qe,{addToList:Ce}),ve.emit(Be("grabon")),qe.forEach(He)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=ve,t.hoverData.downs=be,t.hoverData.downTime=new Date().getTime()}o(ve,["mousedown","tapstart","vmousedown"],z,{x:Z[0],y:Z[1]}),ve==null?(ne[4]=1,t.data.bgActivePosistion={x:Z[0],y:Z[1]},t.redrawHint("select",!0),t.redraw()):ve.pannable()&&(ne[4]=1),je()}ne[0]=ne[2]=Z[0],ne[1]=ne[3]=Z[1]}},!1);var A=a(t.container);t.registerBinding([e,A],"mousemove",function(z){var ee=t.hoverData.capture;if(!(!ee&&!F(z))){var fe=!1,Z=t.cy,ne=Z.zoom(),be=[z.clientX,z.clientY],ve=t.projectIntoViewport(be[0],be[1]),Ce=t.hoverData.mdownPos,je=t.hoverData.mdownGPos,We=t.selection,Be=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(Be=t.findNearestElement(ve[0],ve[1],!0,!1));var He=t.hoverData.last,qe=t.hoverData.down,Ve=[ve[0]-We[2],ve[1]-We[3]],et=t.dragData.possibleDragElements,lt;if(je){var rr=be[0]-je[0],nr=rr*rr,Tt=be[1]-je[1],Rt=Tt*Tt,Bt=nr+Rt;t.hoverData.isOverThresholdDrag=lt=Bt>=t.desktopTapThreshold2}var zt=s(z);lt&&(t.hoverData.tapholdCancelled=!0);var Ut=function(){var zr=t.hoverData.dragDelta=t.hoverData.dragDelta||[];zr.length===0?(zr.push(Ve[0]),zr.push(Ve[1])):(zr[0]+=Ve[0],zr[1]+=Ve[1])};fe=!0,o(Be,["mousemove","vmousemove","tapdrag"],z,{x:ve[0],y:ve[1]});var ar=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||Z.emit({originalEvent:z,type:"boxstart",position:{x:ve[0],y:ve[1]}}),We[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(lt){var ir={originalEvent:z,type:"cxtdrag",position:{x:ve[0],y:ve[1]}};qe?qe.emit(ir):Z.emit(ir),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||Be!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:z,type:"cxtdragout",position:{x:ve[0],y:ve[1]}}),t.hoverData.cxtOver=Be,Be&&Be.emit({originalEvent:z,type:"cxtdragover",position:{x:ve[0],y:ve[1]}}))}}else if(t.hoverData.dragging){if(fe=!0,Z.panningEnabled()&&Z.userPanningEnabled()){var or;if(t.hoverData.justStartedPan){var Kr=t.hoverData.mdownPos;or={x:(ve[0]-Kr[0])*ne,y:(ve[1]-Kr[1])*ne},t.hoverData.justStartedPan=!1}else or={x:Ve[0]*ne,y:Ve[1]*ne};Z.panBy(or),Z.emit("dragpan"),t.hoverData.dragged=!0}ve=t.projectIntoViewport(z.clientX,z.clientY)}else if(We[4]==1&&(qe==null||qe.pannable())){if(lt){if(!t.hoverData.dragging&&Z.boxSelectionEnabled()&&(zt||!Z.panningEnabled()||!Z.userPanningEnabled()))ar();else if(!t.hoverData.selecting&&Z.panningEnabled()&&Z.userPanningEnabled()){var mr=l(qe,t.hoverData.downs);mr&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,We[4]=0,t.data.bgActivePosistion=yi(Ce),t.redrawHint("select",!0),t.redraw())}qe&&qe.pannable()&&qe.active()&&qe.unactivate()}}else{if(qe&&qe.pannable()&&qe.active()&&qe.unactivate(),(!qe||!qe.grabbed())&&Be!=He&&(He&&o(He,["mouseout","tapdragout"],z,{x:ve[0],y:ve[1]}),Be&&o(Be,["mouseover","tapdragover"],z,{x:ve[0],y:ve[1]}),t.hoverData.last=Be),qe)if(lt){if(Z.boxSelectionEnabled()&&zt)qe&&qe.grabbed()&&(E(et),qe.emit("freeon"),et.emit("free"),t.dragData.didDrag&&(qe.emit("dragfreeon"),et.emit("dragfree"))),ar();else if(qe&&qe.grabbed()&&t.nodeIsDraggable(qe)){var Mt=!t.dragData.didDrag;Mt&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||C(et,{inDragLayer:!0});var St={x:0,y:0};if(ke(Ve[0])&&ke(Ve[1])&&(St.x+=Ve[0],St.y+=Ve[1],Mt)){var Ht=t.hoverData.dragDelta;Ht&&ke(Ht[0])&&ke(Ht[1])&&(St.x+=Ht[0],St.y+=Ht[1])}t.hoverData.draggingEles=!0,et.silentShift(St).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else Ut();fe=!0}if(We[2]=ve[0],We[3]=ve[1],fe)return z.stopPropagation&&z.stopPropagation(),z.preventDefault&&z.preventDefault(),!1}},!1);var j,_,L;t.registerBinding(e,"mouseup",function(z){if(!(t.hoverData.which===1&&z.which!==1&&t.hoverData.capture)){var ee=t.hoverData.capture;if(ee){t.hoverData.capture=!1;var fe=t.cy,Z=t.projectIntoViewport(z.clientX,z.clientY),ne=t.selection,be=t.findNearestElement(Z[0],Z[1],!0,!1),ve=t.dragData.possibleDragElements,Ce=t.hoverData.down,je=s(z);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,Ce&&Ce.unactivate(),t.hoverData.which===3){var We={originalEvent:z,type:"cxttapend",position:{x:Z[0],y:Z[1]}};if(Ce?Ce.emit(We):fe.emit(We),!t.hoverData.cxtDragged){var Be={originalEvent:z,type:"cxttap",position:{x:Z[0],y:Z[1]}};Ce?Ce.emit(Be):fe.emit(Be)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(o(be,["mouseup","tapend","vmouseup"],z,{x:Z[0],y:Z[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(o(Ce,["click","tap","vclick"],z,{x:Z[0],y:Z[1]}),_=!1,z.timeStamp-L<=fe.multiClickDebounceTime()?(j&&clearTimeout(j),_=!0,L=null,o(Ce,["dblclick","dbltap","vdblclick"],z,{x:Z[0],y:Z[1]})):(j=setTimeout(function(){_||o(Ce,["oneclick","onetap","voneclick"],z,{x:Z[0],y:Z[1]})},fe.multiClickDebounceTime()),L=z.timeStamp)),Ce==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!s(z)&&(fe.$(r).unselect(["tapunselect"]),ve.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=ve=fe.collection()),be==Ce&&!t.dragData.didDrag&&!t.hoverData.selecting&&be!=null&&be._private.selectable&&(t.hoverData.dragging||(fe.selectionType()==="additive"||je?be.selected()?be.unselect(["tapunselect"]):be.select(["tapselect"]):je||(fe.$(r).unmerge(be).unselect(["tapunselect"]),be.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var He=fe.collection(t.getAllInBox(ne[0],ne[1],ne[2],ne[3]));t.redrawHint("select",!0),He.length>0&&t.redrawHint("eles",!0),fe.emit({type:"boxend",originalEvent:z,position:{x:Z[0],y:Z[1]}});var qe=function(lt){return lt.selectable()&&!lt.selected()};fe.selectionType()==="additive"||je||fe.$(r).unmerge(He).unselect(),He.emit("box").stdFilter(qe).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!ne[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var Ve=Ce&&Ce.grabbed();E(ve),Ve&&(Ce.emit("freeon"),ve.emit("free"),t.dragData.didDrag&&(Ce.emit("dragfreeon"),ve.emit("dragfree")))}}ne[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},!1);var $=function(z){if(!t.scrollingPage){var ee=t.cy,fe=ee.zoom(),Z=ee.pan(),ne=t.projectIntoViewport(z.clientX,z.clientY),be=[ne[0]*fe+Z.x,ne[1]*fe+Z.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||B()){z.preventDefault();return}if(ee.panningEnabled()&&ee.userPanningEnabled()&&ee.zoomingEnabled()&&ee.userZoomingEnabled()){z.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var ve;z.deltaY!=null?ve=z.deltaY/-250:z.wheelDeltaY!=null?ve=z.wheelDeltaY/1e3:ve=z.wheelDelta/1e3,ve=ve*t.wheelSensitivity;var Ce=z.deltaMode===1;Ce&&(ve*=33);var je=ee.zoom()*Math.pow(10,ve);z.type==="gesturechange"&&(je=t.gestureStartZoom*z.scale),ee.zoom({level:je,renderedPosition:{x:be[0],y:be[1]}}),ee.emit(z.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",$,!0),t.registerBinding(e,"scroll",function(z){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(z){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||z.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(ge){t.hasTouchStarted||$(ge)},!0),t.registerBinding(t.container,"mouseout",function(z){var ee=t.projectIntoViewport(z.clientX,z.clientY);t.cy.emit({originalEvent:z,type:"mouseout",position:{x:ee[0],y:ee[1]}})},!1),t.registerBinding(t.container,"mouseover",function(z){var ee=t.projectIntoViewport(z.clientX,z.clientY);t.cy.emit({originalEvent:z,type:"mouseover",position:{x:ee[0],y:ee[1]}})},!1);var V,U,H,K,Y,M,q,te,ie,se,ue,ce,ae,Q=function(z,ee,fe,Z){return Math.sqrt((fe-z)*(fe-z)+(Z-ee)*(Z-ee))},le=function(z,ee,fe,Z){return(fe-z)*(fe-z)+(Z-ee)*(Z-ee)},de;t.registerBinding(t.container,"touchstart",de=function(z){if(t.hasTouchStarted=!0,!!F(z)){b(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var ee=t.cy,fe=t.touchData.now,Z=t.touchData.earlier;if(z.touches[0]){var ne=t.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);fe[0]=ne[0],fe[1]=ne[1]}if(z.touches[1]){var ne=t.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY);fe[2]=ne[0],fe[3]=ne[1]}if(z.touches[2]){var ne=t.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY);fe[4]=ne[0],fe[5]=ne[1]}if(z.touches[1]){t.touchData.singleTouchMoved=!0,E(t.dragData.touchDragEles);var be=t.findContainerClientCoords();ie=be[0],se=be[1],ue=be[2],ce=be[3],V=z.touches[0].clientX-ie,U=z.touches[0].clientY-se,H=z.touches[1].clientX-ie,K=z.touches[1].clientY-se,ae=0<=V&&V<=ue&&0<=H&&H<=ue&&0<=U&&U<=ce&&0<=K&&K<=ce;var ve=ee.pan(),Ce=ee.zoom();Y=Q(V,U,H,K),M=le(V,U,H,K),q=[(V+H)/2,(U+K)/2],te=[(q[0]-ve.x)/Ce,(q[1]-ve.y)/Ce];var je=200,We=je*je;if(M<We&&!z.touches[2]){var Be=t.findNearestElement(fe[0],fe[1],!0,!0),He=t.findNearestElement(fe[2],fe[3],!0,!0);Be&&Be.isNode()?(Be.activate().emit({originalEvent:z,type:"cxttapstart",position:{x:fe[0],y:fe[1]}}),t.touchData.start=Be):He&&He.isNode()?(He.activate().emit({originalEvent:z,type:"cxttapstart",position:{x:fe[0],y:fe[1]}}),t.touchData.start=He):ee.emit({originalEvent:z,type:"cxttapstart",position:{x:fe[0],y:fe[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(z.touches[2])ee.boxSelectionEnabled()&&z.preventDefault();else if(!z.touches[1]){if(z.touches[0]){var qe=t.findNearestElements(fe[0],fe[1],!0,!0),Ve=qe[0];if(Ve!=null&&(Ve.activate(),t.touchData.start=Ve,t.touchData.starts=qe,t.nodeIsGrabbable(Ve))){var et=t.dragData.touchDragEles=ee.collection(),lt=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),Ve.selected()?(lt=ee.$(function(Bt){return Bt.selected()&&t.nodeIsGrabbable(Bt)}),C(lt,{addToList:et})):x(Ve,{addToList:et}),h(Ve);var rr=function(zt){return{originalEvent:z,type:zt,position:{x:fe[0],y:fe[1]}}};Ve.emit(rr("grabon")),lt?lt.forEach(function(Bt){Bt.emit(rr("grab"))}):Ve.emit(rr("grab"))}o(Ve,["touchstart","tapstart","vmousedown"],z,{x:fe[0],y:fe[1]}),Ve==null&&(t.data.bgActivePosistion={x:ne[0],y:ne[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&o(t.touchData.start,["taphold"],z,{x:fe[0],y:fe[1]})},t.tapholdDuration)}}if(z.touches.length>=1){for(var nr=t.touchData.startPosition=[null,null,null,null,null,null],Tt=0;Tt<fe.length;Tt++)nr[Tt]=Z[Tt]=fe[Tt];var Rt=z.touches[0];t.touchData.startGPosition=[Rt.clientX,Rt.clientY]}}},!1);var Ee;t.registerBinding(e,"touchmove",Ee=function(z){var ee=t.touchData.capture;if(!(!ee&&!F(z))){var fe=t.selection,Z=t.cy,ne=t.touchData.now,be=t.touchData.earlier,ve=Z.zoom();if(z.touches[0]){var Ce=t.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);ne[0]=Ce[0],ne[1]=Ce[1]}if(z.touches[1]){var Ce=t.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY);ne[2]=Ce[0],ne[3]=Ce[1]}if(z.touches[2]){var Ce=t.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY);ne[4]=Ce[0],ne[5]=Ce[1]}var je=t.touchData.startGPosition,We;if(ee&&z.touches[0]&&je){for(var Be=[],He=0;He<ne.length;He++)Be[He]=ne[He]-be[He];var qe=z.touches[0].clientX-je[0],Ve=qe*qe,et=z.touches[0].clientY-je[1],lt=et*et,rr=Ve+lt;We=rr>=t.touchTapThreshold2}if(ee&&t.touchData.cxt){z.preventDefault();var nr=z.touches[0].clientX-ie,Tt=z.touches[0].clientY-se,Rt=z.touches[1].clientX-ie,Bt=z.touches[1].clientY-se,zt=le(nr,Tt,Rt,Bt),Ut=zt/M,ar=150,ir=ar*ar,or=1.5,Kr=or*or;if(Ut>=Kr||zt>=ir){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var mr={originalEvent:z,type:"cxttapend",position:{x:ne[0],y:ne[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(mr),t.touchData.start=null):Z.emit(mr)}}if(ee&&t.touchData.cxt){var mr={originalEvent:z,type:"cxtdrag",position:{x:ne[0],y:ne[1]}};t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(mr):Z.emit(mr),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var Mt=t.findNearestElement(ne[0],ne[1],!0,!0);(!t.touchData.cxtOver||Mt!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:z,type:"cxtdragout",position:{x:ne[0],y:ne[1]}}),t.touchData.cxtOver=Mt,Mt&&Mt.emit({originalEvent:z,type:"cxtdragover",position:{x:ne[0],y:ne[1]}}))}else if(ee&&z.touches[2]&&Z.boxSelectionEnabled())z.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||Z.emit({originalEvent:z,type:"boxstart",position:{x:ne[0],y:ne[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,fe[4]=1,!fe||fe.length===0||fe[0]===void 0?(fe[0]=(ne[0]+ne[2]+ne[4])/3,fe[1]=(ne[1]+ne[3]+ne[5])/3,fe[2]=(ne[0]+ne[2]+ne[4])/3+1,fe[3]=(ne[1]+ne[3]+ne[5])/3+1):(fe[2]=(ne[0]+ne[2]+ne[4])/3,fe[3]=(ne[1]+ne[3]+ne[5])/3),t.redrawHint("select",!0),t.redraw();else if(ee&&z.touches[1]&&!t.touchData.didSelect&&Z.zoomingEnabled()&&Z.panningEnabled()&&Z.userZoomingEnabled()&&Z.userPanningEnabled()){z.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var St=t.dragData.touchDragEles;if(St){t.redrawHint("drag",!0);for(var Ht=0;Ht<St.length;Ht++){var _a=St[Ht]._private;_a.grabbed=!1,_a.rscratch.inDragLayer=!1}}var zr=t.touchData.start,nr=z.touches[0].clientX-ie,Tt=z.touches[0].clientY-se,Rt=z.touches[1].clientX-ie,Bt=z.touches[1].clientY-se,Jo=Q(nr,Tt,Rt,Bt),mn=Jo/Y;if(ae){var es=nr-V,ts=Tt-U,lu=Rt-H,rs=Bt-K,ns=(es+lu)/2,as=(ts+rs)/2,Bn=Z.zoom(),Fi=Bn*mn,$a=Z.pan(),xt=te[0]*Bn+$a.x,is=te[1]*Bn+$a.y,ji={x:-Fi/Bn*(xt-$a.x-ns)+xt,y:-Fi/Bn*(is-$a.y-as)+is};if(zr&&zr.active()){var St=t.dragData.touchDragEles;E(St),t.redrawHint("drag",!0),t.redrawHint("eles",!0),zr.unactivate().emit("freeon"),St.emit("free"),t.dragData.didDrag&&(zr.emit("dragfreeon"),St.emit("dragfree"))}Z.viewport({zoom:Fi,pan:ji,cancelOnFailedZoom:!0}),Z.emit("pinchzoom"),Y=Jo,V=nr,U=Tt,H=Rt,K=Bt,t.pinching=!0}if(z.touches[0]){var Ce=t.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);ne[0]=Ce[0],ne[1]=Ce[1]}if(z.touches[1]){var Ce=t.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY);ne[2]=Ce[0],ne[3]=Ce[1]}if(z.touches[2]){var Ce=t.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY);ne[4]=Ce[0],ne[5]=Ce[1]}}else if(z.touches[0]&&!t.touchData.didSelect){var Er=t.touchData.start,Mn=t.touchData.last,Mt;if(!t.hoverData.draggingEles&&!t.swipePanning&&(Mt=t.findNearestElement(ne[0],ne[1],!0,!0)),ee&&Er!=null&&z.preventDefault(),ee&&Er!=null&&t.nodeIsDraggable(Er))if(We){var St=t.dragData.touchDragEles,os=!t.dragData.didDrag;os&&C(St,{inDragLayer:!0}),t.dragData.didDrag=!0;var In={x:0,y:0};if(ke(Be[0])&&ke(Be[1])&&(In.x+=Be[0],In.y+=Be[1],os)){t.redrawHint("eles",!0);var sr=t.touchData.dragDelta;sr&&ke(sr[0])&&ke(sr[1])&&(In.x+=sr[0],In.y+=sr[1])}t.hoverData.draggingEles=!0,St.silentShift(In).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==be[0]&&t.touchData.startPosition[1]==be[1]&&t.redrawHint("eles",!0),t.redraw()}else{var sr=t.touchData.dragDelta=t.touchData.dragDelta||[];sr.length===0?(sr.push(Be[0]),sr.push(Be[1])):(sr[0]+=Be[0],sr[1]+=Be[1])}if(o(Er||Mt,["touchmove","tapdrag","vmousemove"],z,{x:ne[0],y:ne[1]}),(!Er||!Er.grabbed())&&Mt!=Mn&&(Mn&&Mn.emit({originalEvent:z,type:"tapdragout",position:{x:ne[0],y:ne[1]}}),Mt&&Mt.emit({originalEvent:z,type:"tapdragover",position:{x:ne[0],y:ne[1]}})),t.touchData.last=Mt,ee)for(var Ht=0;Ht<ne.length;Ht++)ne[Ht]&&t.touchData.startPosition[Ht]&&We&&(t.touchData.singleTouchMoved=!0);if(ee&&(Er==null||Er.pannable())&&Z.panningEnabled()&&Z.userPanningEnabled()){var Ar=l(Er,t.touchData.starts);Ar&&(z.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=yi(t.touchData.startPosition)),t.swipePanning?(Z.panBy({x:Be[0]*ve,y:Be[1]*ve}),Z.emit("dragpan")):We&&(t.swipePanning=!0,Z.panBy({x:qe*ve,y:et*ve}),Z.emit("dragpan"),Er&&(Er.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var Ce=t.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);ne[0]=Ce[0],ne[1]=Ce[1]}}for(var He=0;He<ne.length;He++)be[He]=ne[He];ee&&z.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var ze;t.registerBinding(e,"touchcancel",ze=function(z){var ee=t.touchData.start;t.touchData.capture=!1,ee&&ee.unactivate()});var xe,we,Re,Pe;if(t.registerBinding(e,"touchend",xe=function(z){var ee=t.touchData.start,fe=t.touchData.capture;if(fe)z.touches.length===0&&(t.touchData.capture=!1),z.preventDefault();else return;var Z=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var ne=t.cy,be=ne.zoom(),ve=t.touchData.now,Ce=t.touchData.earlier;if(z.touches[0]){var je=t.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);ve[0]=je[0],ve[1]=je[1]}if(z.touches[1]){var je=t.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY);ve[2]=je[0],ve[3]=je[1]}if(z.touches[2]){var je=t.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY);ve[4]=je[0],ve[5]=je[1]}ee&&ee.unactivate();var We;if(t.touchData.cxt){if(We={originalEvent:z,type:"cxttapend",position:{x:ve[0],y:ve[1]}},ee?ee.emit(We):ne.emit(We),!t.touchData.cxtDragged){var Be={originalEvent:z,type:"cxttap",position:{x:ve[0],y:ve[1]}};ee?ee.emit(Be):ne.emit(Be)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!z.touches[2]&&ne.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var He=ne.collection(t.getAllInBox(Z[0],Z[1],Z[2],Z[3]));Z[0]=void 0,Z[1]=void 0,Z[2]=void 0,Z[3]=void 0,Z[4]=0,t.redrawHint("select",!0),ne.emit({type:"boxend",originalEvent:z,position:{x:ve[0],y:ve[1]}});var qe=function(ir){return ir.selectable()&&!ir.selected()};He.emit("box").stdFilter(qe).select().emit("boxselect"),He.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(ee!=null&&ee.unactivate(),z.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!z.touches[1]){if(!z.touches[0]){if(!z.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Ve=t.dragData.touchDragEles;if(ee!=null){var et=ee._private.grabbed;E(Ve),t.redrawHint("drag",!0),t.redrawHint("eles",!0),et&&(ee.emit("freeon"),Ve.emit("free"),t.dragData.didDrag&&(ee.emit("dragfreeon"),Ve.emit("dragfree"))),o(ee,["touchend","tapend","vmouseup","tapdragout"],z,{x:ve[0],y:ve[1]}),ee.unactivate(),t.touchData.start=null}else{var lt=t.findNearestElement(ve[0],ve[1],!0,!0);o(lt,["touchend","tapend","vmouseup","tapdragout"],z,{x:ve[0],y:ve[1]})}var rr=t.touchData.startPosition[0]-ve[0],nr=rr*rr,Tt=t.touchData.startPosition[1]-ve[1],Rt=Tt*Tt,Bt=nr+Rt,zt=Bt*be*be;t.touchData.singleTouchMoved||(ee||ne.$(":selected").unselect(["tapunselect"]),o(ee,["tap","vclick"],z,{x:ve[0],y:ve[1]}),we=!1,z.timeStamp-Pe<=ne.multiClickDebounceTime()?(Re&&clearTimeout(Re),we=!0,Pe=null,o(ee,["dbltap","vdblclick"],z,{x:ve[0],y:ve[1]})):(Re=setTimeout(function(){we||o(ee,["onetap","voneclick"],z,{x:ve[0],y:ve[1]})},ne.multiClickDebounceTime()),Pe=z.timeStamp)),ee!=null&&!t.dragData.didDrag&&ee._private.selectable&&zt<t.touchTapThreshold2&&!t.pinching&&(ne.selectionType()==="single"?(ne.$(r).unmerge(ee).unselect(["tapunselect"]),ee.select(["tapselect"])):ee.selected()?ee.unselect(["tapunselect"]):ee.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var Ut=0;Ut<ve.length;Ut++)Ce[Ut]=ve[Ut];t.dragData.didDrag=!1,z.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),z.touches.length<2&&(z.touches.length===1&&(t.touchData.startGPosition=[z.touches[0].clientX,z.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var Te=[],Ae=function(z){return{clientX:z.clientX,clientY:z.clientY,force:1,identifier:z.pointerId,pageX:z.pageX,pageY:z.pageY,radiusX:z.width/2,radiusY:z.height/2,screenX:z.screenX,screenY:z.screenY,target:z.target}},Ze=function(z){return{event:z,touch:Ae(z)}},Qe=function(z){Te.push(Ze(z))},Ge=function(z){for(var ee=0;ee<Te.length;ee++){var fe=Te[ee];if(fe.event.pointerId===z.pointerId){Te.splice(ee,1);return}}},at=function(z){var ee=Te.filter(function(fe){return fe.event.pointerId===z.pointerId})[0];ee.event=z,ee.touch=Ae(z)},Ye=function(z){z.touches=Te.map(function(ee){return ee.touch})},Je=function(z){return z.pointerType==="mouse"||z.pointerType===4};t.registerBinding(t.container,"pointerdown",function(ge){Je(ge)||(ge.preventDefault(),Qe(ge),Ye(ge),de(ge))}),t.registerBinding(t.container,"pointerup",function(ge){Je(ge)||(Ge(ge),Ye(ge),xe(ge))}),t.registerBinding(t.container,"pointercancel",function(ge){Je(ge)||(Ge(ge),Ye(ge),ze(ge))}),t.registerBinding(t.container,"pointermove",function(ge){Je(ge)||(ge.preventDefault(),at(ge),Ye(ge),Ee(ge))})}};var Ln={};Ln.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(a,o,s,l,u,d){this.renderer.nodeShapeImpl("polygon",a,o,s,l,u,this.points)},intersectLine:function(a,o,s,l,u,d,f,v){return Fo(u,d,this.points,a,o,s/2,l/2,f)},checkPoint:function(a,o,s,l,u,d,f,v){return Pn(a,o,this.points,d,f,l,u,[0,-1],s)}}};Ln.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,a,o,s,l){this.renderer.nodeShapeImpl(this.name,e,r,a,o,s)},intersectLine:function(e,r,a,o,s,l,u,d){return Rw(s,l,e,r,a/2+u,o/2+u)},checkPoint:function(e,r,a,o,s,l,u,d){return La(e,r,o,s,l,u,a)}}};Ln.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(a,o,s,l,u,d,f){if(d[f]!==void 0&&d[f+"-cx"]===a&&d[f+"-cy"]===o)return d[f];d[f]=new Array(e.length/2),d[f+"-cx"]=a,d[f+"-cy"]=o;var v=s/2,h=l/2;u=u==="auto"?vg(s,l):u;for(var g=new Array(e.length/2),y=0;y<e.length/2;y++)g[y]={x:a+v*e[y*2],y:o+h*e[y*2+1]};var m,C,x,E,k=g.length;for(C=g[k-1],m=0;m<k;m++)x=g[m%k],E=g[(m+1)%k],d[f][m]=Wf(C,x,E,u),C=x,x=E;return d[f]},draw:function(a,o,s,l,u,d,f){this.renderer.nodeShapeImpl("round-polygon",a,o,s,l,u,this.points,this.getOrCreateCorners(o,s,l,u,d,f,"drawCorners"))},intersectLine:function(a,o,s,l,u,d,f,v,h){return Bw(u,d,this.points,a,o,s,l,f,this.getOrCreateCorners(a,o,s,l,v,h,"corners"))},checkPoint:function(a,o,s,l,u,d,f,v,h){return Lw(a,o,this.points,d,f,l,u,this.getOrCreateCorners(d,f,l,u,v,h,"corners"))}}};Ln.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:xr(4,0),draw:function(e,r,a,o,s,l){this.renderer.nodeShapeImpl(this.name,e,r,a,o,s,this.points,l)},intersectLine:function(e,r,a,o,s,l,u,d){return fg(s,l,e,r,a,o,u,d)},checkPoint:function(e,r,a,o,s,l,u,d){var f=o/2,v=s/2;d=d==="auto"?Ia(o,s):d,d=Math.min(f,v,d);var h=d*2;return!!(Pn(e,r,this.points,l,u,o,s-h,[0,-1],a)||Pn(e,r,this.points,l,u,o-h,s,[0,-1],a)||La(e,r,h,h,l-f+d,u-v+d,a)||La(e,r,h,h,l+f-d,u-v+d,a)||La(e,r,h,h,l+f-d,u+v-d,a)||La(e,r,h,h,l-f+d,u+v-d,a))}}};Ln.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:If(),points:xr(4,0),draw:function(e,r,a,o,s,l){this.renderer.nodeShapeImpl(this.name,e,r,a,o,s,null,l)},generateCutTrianglePts:function(e,r,a,o,s){var l=s==="auto"?this.cornerLength:s,u=r/2,d=e/2,f=a-d,v=a+d,h=o-u,g=o+u;return{topLeft:[f,h+l,f+l,h,f+l,h+l],topRight:[v-l,h,v,h+l,v-l,h+l],bottomRight:[v,g-l,v-l,g,v-l,g-l],bottomLeft:[f+l,g,f,g-l,f+l,g-l]}},intersectLine:function(e,r,a,o,s,l,u,d){var f=this.generateCutTrianglePts(a+2*u,o+2*u,e,r,d),v=[].concat.apply([],[f.topLeft.splice(0,4),f.topRight.splice(0,4),f.bottomRight.splice(0,4),f.bottomLeft.splice(0,4)]);return Fo(s,l,v,e,r)},checkPoint:function(e,r,a,o,s,l,u,d){var f=d==="auto"?this.cornerLength:d;if(Pn(e,r,this.points,l,u,o,s-2*f,[0,-1],a)||Pn(e,r,this.points,l,u,o-2*f,s,[0,-1],a))return!0;var v=this.generateCutTrianglePts(o,s,l,u);return Pr(e,r,v.topLeft)||Pr(e,r,v.topRight)||Pr(e,r,v.bottomRight)||Pr(e,r,v.bottomLeft)}}};Ln.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:xr(4,0),draw:function(e,r,a,o,s,l){this.renderer.nodeShapeImpl(this.name,e,r,a,o,s)},intersectLine:function(e,r,a,o,s,l,u,d){var f=.15,v=.5,h=.85,g=this.generateBarrelBezierPts(a+2*u,o+2*u,e,r),y=function(x){var E=xi({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},f),k=xi({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},v),b=xi({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},h);return[x[0],x[1],E.x,E.y,k.x,k.y,b.x,b.y,x[4],x[5]]},m=[].concat(y(g.topLeft),y(g.topRight),y(g.bottomRight),y(g.bottomLeft));return Fo(s,l,m,e,r)},generateBarrelBezierPts:function(e,r,a,o){var s=r/2,l=e/2,u=a-l,d=a+l,f=o-s,v=o+s,h=uf(e,r),g=h.heightOffset,y=h.widthOffset,m=h.ctrlPtOffsetPct*e,C={topLeft:[u,f+g,u+m,f,u+y,f],topRight:[d-y,f,d-m,f,d,f+g],bottomRight:[d,v-g,d-m,v,d-y,v],bottomLeft:[u+y,v,u+m,v,u,v-g]};return C.topLeft.isTop=!0,C.topRight.isTop=!0,C.bottomLeft.isBottom=!0,C.bottomRight.isBottom=!0,C},checkPoint:function(e,r,a,o,s,l,u,d){var f=uf(o,s),v=f.heightOffset,h=f.widthOffset;if(Pn(e,r,this.points,l,u,o,s-2*v,[0,-1],a)||Pn(e,r,this.points,l,u,o-2*h,s,[0,-1],a))return!0;for(var g=this.generateBarrelBezierPts(o,s,l,u),y=function(I,B,F){var A=F[4],j=F[2],_=F[0],L=F[5],$=F[1],V=Math.min(A,_),U=Math.max(A,_),H=Math.min(L,$),K=Math.max(L,$);if(V<=I&&I<=U&&H<=B&&B<=K){var Y=Mw(A,j,_),M=Tw(Y[0],Y[1],Y[2],I),q=M.filter(function(te){return 0<=te&&te<=1});if(q.length>0)return q[0]}return null},m=Object.keys(g),C=0;C<m.length;C++){var x=m[C],E=g[x],k=y(e,r,E);if(k!=null){var b=E[5],T=E[3],R=E[1],N=Gt(b,T,R,k);if(E.isTop&&N<=r||E.isBottom&&r<=N)return!0}}return!1}}};Ln.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:xr(4,0),draw:function(e,r,a,o,s,l){this.renderer.nodeShapeImpl(this.name,e,r,a,o,s,this.points,l)},intersectLine:function(e,r,a,o,s,l,u,d){var f=e-(a/2+u),v=r-(o/2+u),h=v,g=e+(a/2+u),y=na(s,l,e,r,f,v,g,h,!1);return y.length>0?y:fg(s,l,e,r,a,o,u,d)},checkPoint:function(e,r,a,o,s,l,u,d){d=d==="auto"?Ia(o,s):d;var f=2*d;if(Pn(e,r,this.points,l,u,o,s-f,[0,-1],a)||Pn(e,r,this.points,l,u,o-f,s,[0,-1],a))return!0;var v=o/2+2*a,h=s/2+2*a,g=[l-v,u-h,l-v,u,l+v,u,l+v,u-h];return!!(Pr(e,r,g)||La(e,r,f,f,l+o/2-d,u+s/2-d,a)||La(e,r,f,f,l-o/2+d,u+s/2-d,a))}}};Ln.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",xr(3,0)),this.generateRoundPolygon("round-triangle",xr(3,0)),this.generatePolygon("rectangle",xr(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",xr(5,0)),this.generateRoundPolygon("round-pentagon",xr(5,0)),this.generatePolygon("hexagon",xr(6,0)),this.generateRoundPolygon("round-hexagon",xr(6,0)),this.generatePolygon("heptagon",xr(7,0)),this.generateRoundPolygon("round-heptagon",xr(7,0)),this.generatePolygon("octagon",xr(8,0)),this.generateRoundPolygon("round-octagon",xr(8,0));var a=new Array(20);{var o=lf(5,0),s=lf(5,Math.PI/5),l=.5*(3-Math.sqrt(5));l*=1.57;for(var u=0;u<s.length/2;u++)s[u*2]*=l,s[u*2+1]*=l;for(var u=0;u<20/4;u++)a[u*4]=o[u*2],a[u*4+1]=o[u*2+1],a[u*4+2]=s[u*2],a[u*4+3]=s[u*2+1]}a=dg(a),this.generatePolygon("star",a),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var d=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",d),this.generateRoundPolygon("round-tag",d)}t.makePolygon=function(f){var v=f.join("$"),h="polygon-"+v,g;return(g=this[h])?g:e.generatePolygon(h,f)}};var Xo={};Xo.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};Xo.redraw=function(t){t=t||og();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};Xo.beforeRender=function(t,e){if(!this.destroyed){e==null&&Nt("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(a,o){return o.priority-a.priority})}};var Rp=function(e,r,a){for(var o=e.beforeRenderCallbacks,s=0;s<o.length;s++)o[s].fn(r,a)};Xo.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function a(o){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){Rp(t,!0,o);var s=Dn();t.render(t.renderOptions);var l=t.lastDrawTime=Dn();t.averageRedrawTime===void 0&&(t.averageRedrawTime=l-s),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var u=l-s;t.redrawTotalTime+=u,t.lastRedrawTime=u,t.averageRedrawTime=t.averageRedrawTime/2+u/2,t.requestedFrame=!1}else Rp(t,!1,o);t.skipFrame=!1,Il(a)}};Il(r)}};var h2=function(e){this.init(e)},fm=h2,zi=fm.prototype;zi.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];zi.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container(),a=e.cy.window();if(a){var o=a.document,s=o.head,l="__________cytoscape_stylesheet",u="__________cytoscape_container",d=o.getElementById(l)!=null;if(r.className.indexOf(u)<0&&(r.className=(r.className||"")+" "+u),!d){var f=o.createElement("style");f.id=l,f.textContent="."+u+" { position: relative; }",s.insertBefore(f,s.children[0])}var v=a.getComputedStyle(r),h=v.getPropertyValue("position");h==="static"&&ct("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=ke(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};zi.notify=function(t,e){var r=this,a=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&a.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};zi.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],a=r,o=a.target;(o.off||o.removeEventListener).apply(o,a.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};zi.isHeadless=function(){return!1};[qf,um,cm,Oi,Ln,Xo].forEach(function(t){Ue(zi,t)});var nf=1e3/60,dm={setupDequeueing:function(e){return function(){var a=this,o=this.renderer;if(!a.dequeueingSetup){a.dequeueingSetup=!0;var s=Wl(function(){o.redrawHint("eles",!0),o.redrawHint("drag",!0),o.redraw()},e.deqRedrawThreshold),l=function(f,v){var h=Dn(),g=o.averageRedrawTime,y=o.lastRedrawTime,m=[],C=o.cy.extent(),x=o.getPixelRatio();for(f||o.flushRenderedStyleQueue();;){var E=Dn(),k=E-h,b=E-v;if(y<nf){var T=nf-(f?g:0);if(b>=e.deqFastCost*T)break}else if(f){if(k>=e.deqCost*y||k>=e.deqAvgCost*g)break}else if(b>=e.deqNoDrawCost*nf)break;var R=e.deq(a,x,C);if(R.length>0)for(var N=0;N<R.length;N++)m.push(R[N]);else break}m.length>0&&(e.onDeqd(a,m),!f&&e.shouldRedraw(a,m,x,C)&&s())},u=e.priority||Lf;o.beforeRender(l,u(a))}}}},p2=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ol;bf(this,t),this.idsByKey=new vn,this.keyForId=new vn,this.cachesByLvl=new vn,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return Tf(t,[{key:"getIdsFor",value:function(r){r==null&&Nt("Can not get id list for null key");var a=this.idsByKey,o=this.idsByKey.get(r);return o||(o=new Pi,a.set(r,o)),o}},{key:"addIdForKey",value:function(r,a){r!=null&&this.getIdsFor(r).add(a)}},{key:"deleteIdForKey",value:function(r,a){r!=null&&this.getIdsFor(r).delete(a)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var a=r.id(),o=this.keyForId.get(a),s=this.getKey(r);this.deleteIdForKey(o,a),this.addIdForKey(s,a),this.keyForId.set(a,s)}},{key:"deleteKeyMappingFor",value:function(r){var a=r.id(),o=this.keyForId.get(a);this.deleteIdForKey(o,a),this.keyForId.delete(a)}},{key:"keyHasChangedFor",value:function(r){var a=r.id(),o=this.keyForId.get(a),s=this.getKey(r);return o!==s}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var a=this.cachesByLvl,o=this.lvls,s=a.get(r);return s||(s=new vn,a.set(r,s),o.push(r)),s}},{key:"getCache",value:function(r,a){return this.getCachesAt(a).get(r)}},{key:"get",value:function(r,a){var o=this.getKey(r),s=this.getCache(o,a);return s!=null&&this.updateKeyMappingFor(r),s}},{key:"getForCachedKey",value:function(r,a){var o=this.keyForId.get(r.id()),s=this.getCache(o,a);return s}},{key:"hasCache",value:function(r,a){return this.getCachesAt(a).has(r)}},{key:"has",value:function(r,a){var o=this.getKey(r);return this.hasCache(o,a)}},{key:"setCache",value:function(r,a,o){o.key=r,this.getCachesAt(a).set(r,o)}},{key:"set",value:function(r,a,o){var s=this.getKey(r);this.setCache(s,a,o),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,a){this.getCachesAt(a).delete(r)}},{key:"delete",value:function(r,a){var o=this.getKey(r);this.deleteCache(o,a)}},{key:"invalidateKey",value:function(r){var a=this;this.lvls.forEach(function(o){return a.deleteCache(r,o)})}},{key:"invalidate",value:function(r){var a=r.id(),o=this.keyForId.get(a);this.deleteKeyMappingFor(r);var s=this.doesEleInvalidateKey(r);return s&&this.invalidateKey(o),s||this.getNumberOfIdsForKey(o)===0}}]),t}(),Bp=25,Cl=50,Bl=-4,xf=3,g2=7.99,m2=8,y2=1024,w2=1024,x2=1024,E2=.2,S2=.8,C2=10,k2=.15,b2=.1,T2=.9,D2=.9,P2=100,N2=1,wi={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},L2=er({getKey:null,doesEleInvalidateKey:Ol,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:ng,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Lo=function(e,r){var a=this;a.renderer=e,a.onDequeues=[];var o=L2(r);Ue(a,o),a.lookup=new p2(o.getKey,o.doesEleInvalidateKey),a.setupDequeueing()},$t=Lo.prototype;$t.reasons=wi;$t.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};$t.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},a=r[t]=r[t]||[];return a};$t.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new Ko(function(r,a){return a.reqs-r.reqs});return e};$t.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};$t.getElement=function(t,e,r,a,o){var s=this,l=this.renderer,u=l.cy.zoom(),d=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!s.allowEdgeTxrCaching&&t.isEdge()||!s.allowParentTxrCaching&&t.isParent())return null;if(a==null&&(a=Math.ceil(Bf(u*r))),a<Bl)a=Bl;else if(u>=g2||a>xf)return null;var f=Math.pow(2,a),v=e.h*f,h=e.w*f,g=l.eleTextBiggerThanMin(t,f);if(!this.isVisible(t,g))return null;var y=d.get(t,a);if(y&&y.invalidated&&(y.invalidated=!1,y.texture.invalidatedWidth-=y.width),y)return y;var m;if(v<=Bp?m=Bp:v<=Cl?m=Cl:m=Math.ceil(v/Cl)*Cl,v>x2||h>w2)return null;var C=s.getTextureQueue(m),x=C[C.length-2],E=function(){return s.recycleTexture(m,h)||s.addTexture(m,h)};x||(x=C[C.length-1]),x||(x=E()),x.width-x.usedWidth<h&&(x=E());for(var k=function(V){return V&&V.scaledLabelShown===g},b=o&&o===wi.dequeue,T=o&&o===wi.highQuality,R=o&&o===wi.downscale,N,D=a+1;D<=xf;D++){var I=d.get(t,D);if(I){N=I;break}}var B=N&&N.level===a+1?N:null,F=function(){x.context.drawImage(B.texture.canvas,B.x,0,B.width,B.height,x.usedWidth,0,h,v)};if(x.context.setTransform(1,0,0,1,0,0),x.context.clearRect(x.usedWidth,0,h,m),k(B))F();else if(k(N))if(T){for(var A=N.level;A>a;A--)B=s.getElement(t,e,r,A,wi.downscale);F()}else return s.queueElement(t,N.level-1),N;else{var j;if(!b&&!T&&!R)for(var _=a-1;_>=Bl;_--){var L=d.get(t,_);if(L){j=L;break}}if(k(j))return s.queueElement(t,a),j;x.context.translate(x.usedWidth,0),x.context.scale(f,f),this.drawElement(x.context,t,e,g,!1),x.context.scale(1/f,1/f),x.context.translate(-x.usedWidth,0)}return y={x:x.usedWidth,texture:x,level:a,scale:f,width:h,height:v,scaledLabelShown:g},x.usedWidth+=Math.ceil(h+m2),x.eleCaches.push(y),d.set(t,a,y),s.checkTextureFullness(x),y};$t.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};$t.invalidateElement=function(t){var e=this,r=e.lookup,a=[],o=r.isInvalid(t);if(o){for(var s=Bl;s<=xf;s++){var l=r.getForCachedKey(t,s);l&&a.push(l)}var u=r.invalidate(t);if(u)for(var d=0;d<a.length;d++){var f=a[d],v=f.texture;v.invalidatedWidth+=f.width,f.invalidated=!0,e.checkTextureUtility(v)}e.removeFromQueue(t)}};$t.checkTextureUtility=function(t){t.invalidatedWidth>=E2*t.width&&this.retireTexture(t)};$t.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>S2&&t.fullnessChecks>=C2?sa(r,t):t.fullnessChecks++};$t.retireTexture=function(t){var e=this,r=t.height,a=e.getTextureQueue(r),o=this.lookup;sa(a,t),t.retired=!0;for(var s=t.eleCaches,l=0;l<s.length;l++){var u=s[l];o.deleteCache(u.key,u.level)}Rf(s);var d=e.getRetiredTextureQueue(r);d.push(t)};$t.addTexture=function(t,e){var r=this,a=r.getTextureQueue(t),o={};return a.push(o),o.eleCaches=[],o.height=t,o.width=Math.max(y2,e),o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,o.canvas=r.renderer.makeOffscreenCanvas(o.width,o.height),o.context=o.canvas.getContext("2d"),o};$t.recycleTexture=function(t,e){for(var r=this,a=r.getTextureQueue(t),o=r.getRetiredTextureQueue(t),s=0;s<o.length;s++){var l=o[s];if(l.width>=e)return l.retired=!1,l.usedWidth=0,l.invalidatedWidth=0,l.fullnessChecks=0,Rf(l.eleCaches),l.context.setTransform(1,0,0,1,0,0),l.context.clearRect(0,0,l.width,l.height),sa(o,l),a.push(l),l}};$t.queueElement=function(t,e){var r=this,a=r.getElementQueue(),o=r.getElementKeyToQueue(),s=this.getKey(t),l=o[s];if(l)l.level=Math.max(l.level,e),l.eles.merge(t),l.reqs++,a.updateItem(l);else{var u={eles:t.spawn().merge(t),level:e,reqs:1,key:s};a.push(u),o[s]=u}};$t.dequeue=function(t){for(var e=this,r=e.getElementQueue(),a=e.getElementKeyToQueue(),o=[],s=e.lookup,l=0;l<N2&&r.size()>0;l++){var u=r.pop(),d=u.key,f=u.eles[0],v=s.hasCache(f,u.level);if(a[d]=null,v)continue;o.push(u);var h=e.getBoundingBox(f);e.getElement(f,h,t,u.level,wi.dequeue)}return o};$t.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),a=e.getElementKeyToQueue(),o=this.getKey(t),s=a[o];s!=null&&(s.eles.length===1?(s.reqs=Nf,r.updateItem(s),r.pop(),a[o]=null):s.eles.unmerge(t))};$t.onDequeue=function(t){this.onDequeues.push(t)};$t.offDequeue=function(t){sa(this.onDequeues,t)};$t.setupDequeueing=dm.setupDequeueing({deqRedrawThreshold:P2,deqCost:k2,deqAvgCost:b2,deqNoDrawCost:T2,deqFastCost:D2,deq:function(e,r,a){return e.dequeue(r,a)},onDeqd:function(e,r){for(var a=0;a<e.onDequeues.length;a++){var o=e.onDequeues[a];o(r)}},shouldRedraw:function(e,r,a,o){for(var s=0;s<r.length;s++)for(var l=r[s].eles,u=0;u<l.length;u++){var d=l[u].boundingBox();if(Mf(d,o))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var R2=1,Bo=-4,Ul=2,B2=3.99,M2=50,I2=50,O2=.15,z2=.1,A2=.9,F2=.9,j2=1,Mp=250,V2=4e3*4e3,Ip=32767,_2=!0,vm=function(e){var r=this,a=r.renderer=e,o=a.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=Dn()-2*Mp,r.skipping=!1,r.eleTxrDeqs=o.collection(),r.scheduleElementRefinement=Wl(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},I2),a.beforeRender(function(l,u){u-r.lastInvalidationTime<=Mp?r.skipping=!0:r.skipping=!1},a.beforeRenderPriorities.lyrTxrSkip);var s=function(u,d){return d.reqs-u.reqs};r.layersQueue=new Ko(s),r.setupDequeueing()},tr=vm.prototype,Op=0,$2=Math.pow(2,53)-1;tr.makeLayer=function(t,e){var r=Math.pow(2,e),a=Math.ceil(t.w*r),o=Math.ceil(t.h*r),s=this.renderer.makeOffscreenCanvas(a,o),l={id:Op=++Op%$2,bb:t,level:e,width:a,height:o,canvas:s,context:s.getContext("2d"),eles:[],elesQueue:[],reqs:0},u=l.context,d=-l.bb.x1,f=-l.bb.y1;return u.scale(r,r),u.translate(d,f),l};tr.getLayers=function(t,e,r){var a=this,o=a.renderer,s=o.cy,l=s.zoom(),u=a.firstGet;if(a.firstGet=!1,r==null){if(r=Math.ceil(Bf(l*e)),r<Bo)r=Bo;else if(l>=B2||r>Ul)return null}a.validateLayersElesOrdering(r,t);var d=a.layersByLevel,f=Math.pow(2,r),v=d[r]=d[r]||[],h,g=a.levelIsComplete(r,t),y,m=function(){var F=function($){if(a.validateLayersElesOrdering($,t),a.levelIsComplete($,t))return y=d[$],!0},A=function($){if(!y)for(var V=r+$;Bo<=V&&V<=Ul&&!F(V);V+=$);};A(1),A(-1);for(var j=v.length-1;j>=0;j--){var _=v[j];_.invalid&&sa(v,_)}};if(!g)m();else return v;var C=function(){if(!h){h=Nr();for(var F=0;F<t.length;F++)ug(h,t[F].boundingBox())}return h},x=function(F){F=F||{};var A=F.after;C();var j=Math.ceil(h.w*f),_=Math.ceil(h.h*f);if(j>Ip||_>Ip)return null;var L=j*_;if(L>V2)return null;var $=a.makeLayer(h,r);if(A!=null){var V=v.indexOf(A)+1;v.splice(V,0,$)}else(F.insert===void 0||F.insert)&&v.unshift($);return $};if(a.skipping&&!u)return null;for(var E=null,k=t.length/R2,b=!u,T=0;T<t.length;T++){var R=t[T],N=R._private.rscratch,D=N.imgLayerCaches=N.imgLayerCaches||{},I=D[r];if(I){E=I;continue}if((!E||E.eles.length>=k||!cg(E.bb,R.boundingBox()))&&(E=x({insert:!0,after:E}),!E))return null;y||b?a.queueLayer(E,R):a.drawEleInLayer(E,R,r,e),E.eles.push(R),D[r]=E}return y||(b?null:v)};tr.getEleLevelForLayerLevel=function(t,e){return t};tr.drawEleInLayer=function(t,e,r,a){var o=this,s=this.renderer,l=t.context,u=e.boundingBox();u.w===0||u.h===0||!e.visible()||(r=o.getEleLevelForLayerLevel(r,a),s.setImgSmoothing(l,!1),s.drawCachedElement(l,e,null,null,r,_2),s.setImgSmoothing(l,!0))};tr.levelIsComplete=function(t,e){var r=this,a=r.layersByLevel[t];if(!a||a.length===0)return!1;for(var o=0,s=0;s<a.length;s++){var l=a[s];if(l.reqs>0||l.invalid)return!1;o+=l.eles.length}return o===e.length};tr.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var a=0;a<r.length;a++){for(var o=r[a],s=-1,l=0;l<e.length;l++)if(o.eles[0]===e[l]){s=l;break}if(s<0){this.invalidateLayer(o);continue}for(var u=s,l=0;l<o.eles.length;l++)if(o.eles[l]!==e[u+l]){this.invalidateLayer(o);break}}};tr.updateElementsInLayers=function(t,e){for(var r=this,a=qo(t[0]),o=0;o<t.length;o++)for(var s=a?null:t[o],l=a?t[o]:t[o].ele,u=l._private.rscratch,d=u.imgLayerCaches=u.imgLayerCaches||{},f=Bo;f<=Ul;f++){var v=d[f];v&&(s&&r.getEleLevelForLayerLevel(v.level)!==s.level||e(v,l,s))}};tr.haveLayers=function(){for(var t=this,e=!1,r=Bo;r<=Ul;r++){var a=t.layersByLevel[r];if(a&&a.length>0){e=!0;break}}return e};tr.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=Dn(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(a,o,s){e.invalidateLayer(a)}))};tr.invalidateLayer=function(t){if(this.lastInvalidationTime=Dn(),!t.invalid){var e=t.level,r=t.eles,a=this.layersByLevel[e];sa(a,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var o=0;o<r.length;o++){var s=r[o]._private.rscratch.imgLayerCaches;s&&(s[e]=null)}}};tr.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(a,o,s){var l=a.replacement;if(l||(l=a.replacement=e.makeLayer(a.bb,a.level),l.replaces=a,l.eles=a.eles),!l.reqs)for(var u=0;u<l.eles.length;u++)e.queueLayer(l,l.eles[u])})};tr.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};tr.queueLayer=function(t,e){var r=this,a=r.layersQueue,o=t.elesQueue,s=o.hasId=o.hasId||{};if(!t.replacement){if(e){if(s[e.id()])return;o.push(e),s[e.id()]=!0}t.reqs?(t.reqs++,a.updateItem(t)):(t.reqs=1,a.push(t))}};tr.dequeue=function(t){for(var e=this,r=e.layersQueue,a=[],o=0;o<j2&&r.size()!==0;){var s=r.peek();if(s.replacement){r.pop();continue}if(s.replaces&&s!==s.replaces.replacement){r.pop();continue}if(s.invalid){r.pop();continue}var l=s.elesQueue.shift();l&&(e.drawEleInLayer(s,l,s.level,t),o++),a.length===0&&a.push(!0),s.elesQueue.length===0&&(r.pop(),s.reqs=0,s.replaces&&e.applyLayerReplacement(s),e.requestRedraw())}return a};tr.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],a=t.replaces,o=r.indexOf(a);if(!(o<0||a.invalid)){r[o]=t;for(var s=0;s<t.eles.length;s++){var l=t.eles[s]._private,u=l.imgLayerCaches=l.imgLayerCaches||{};u&&(u[t.level]=t)}e.requestRedraw()}};tr.requestRedraw=Wl(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);tr.setupDequeueing=dm.setupDequeueing({deqRedrawThreshold:M2,deqCost:O2,deqAvgCost:z2,deqNoDrawCost:A2,deqFastCost:F2,deq:function(e,r){return e.dequeue(r)},onDeqd:Lf,shouldRedraw:ng,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var hm={},zp;function U2(t,e){for(var r=0;r<e.length;r++){var a=e[r];t.lineTo(a.x,a.y)}}function H2(t,e,r){for(var a,o=0;o<e.length;o++){var s=e[o];o===0&&(a=s),t.lineTo(s.x,s.y)}t.quadraticCurveTo(r.x,r.y,a.x,a.y)}function Ap(t,e,r){t.beginPath&&t.beginPath();for(var a=e,o=0;o<a.length;o++){var s=a[o];t.lineTo(s.x,s.y)}var l=r,u=r[0];t.moveTo(u.x,u.y);for(var o=1;o<l.length;o++){var s=l[o];t.lineTo(s.x,s.y)}t.closePath&&t.closePath()}function q2(t,e,r,a,o){t.beginPath&&t.beginPath(),t.arc(r,a,o,0,Math.PI*2,!1);var s=e,l=s[0];t.moveTo(l.x,l.y);for(var u=0;u<s.length;u++){var d=s[u];t.lineTo(d.x,d.y)}t.closePath&&t.closePath()}function W2(t,e,r,a){t.arc(e,r,a,0,Math.PI*2,!1)}hm.arrowShapeImpl=function(t){return(zp||(zp={polygon:U2,"triangle-backcurve":H2,"triangle-tee":Ap,"circle-triangle":q2,"triangle-cross":Ap,circle:W2}))[t]};var gn={};gn.drawElement=function(t,e,r,a,o,s){var l=this;e.isNode()?l.drawNode(t,e,r,a,o,s):l.drawEdge(t,e,r,a,o,s)};gn.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};gn.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};gn.drawCachedElementPortion=function(t,e,r,a,o,s,l,u){var d=this,f=r.getBoundingBox(e);if(!(f.w===0||f.h===0)){var v=r.getElement(e,f,a,o,s);if(v!=null){var h=u(d,e);if(h===0)return;var g=l(d,e),y=f.x1,m=f.y1,C=f.w,x=f.h,E,k,b,T,R;if(g!==0){var N=r.getRotationPoint(e);b=N.x,T=N.y,t.translate(b,T),t.rotate(g),R=d.getImgSmoothing(t),R||d.setImgSmoothing(t,!0);var D=r.getRotationOffset(e);E=D.x,k=D.y}else E=y,k=m;var I;h!==1&&(I=t.globalAlpha,t.globalAlpha=I*h),t.drawImage(v.texture.canvas,v.x,0,v.width,v.height,E,k,C,x),h!==1&&(t.globalAlpha=I),g!==0&&(t.rotate(-g),t.translate(-b,-T),R||d.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var K2=function(){return 0},G2=function(e,r){return e.getTextAngle(r,null)},Y2=function(e,r){return e.getTextAngle(r,"source")},Q2=function(e,r){return e.getTextAngle(r,"target")},X2=function(e,r){return r.effectiveOpacity()},af=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};gn.drawCachedElement=function(t,e,r,a,o,s){var l=this,u=l.data,d=u.eleTxrCache,f=u.lblTxrCache,v=u.slbTxrCache,h=u.tlbTxrCache,g=e.boundingBox(),y=s===!0?d.reasons.highQuality:null;if(!(g.w===0||g.h===0||!e.visible())&&(!a||Mf(g,a))){var m=e.isEdge(),C=e.element()._private.rscratch.badLine;l.drawElementUnderlay(t,e),l.drawCachedElementPortion(t,e,d,r,o,y,K2,X2),(!m||!C)&&l.drawCachedElementPortion(t,e,f,r,o,y,G2,af),m&&!C&&(l.drawCachedElementPortion(t,e,v,r,o,y,Y2,af),l.drawCachedElementPortion(t,e,h,r,o,y,Q2,af)),l.drawElementOverlay(t,e)}};gn.drawElements=function(t,e){for(var r=this,a=0;a<e.length;a++){var o=e[a];r.drawElement(t,o)}};gn.drawCachedElements=function(t,e,r,a){for(var o=this,s=0;s<e.length;s++){var l=e[s];o.drawCachedElement(t,l,r,a)}};gn.drawCachedNodes=function(t,e,r,a){for(var o=this,s=0;s<e.length;s++){var l=e[s];l.isNode()&&o.drawCachedElement(t,l,r,a)}};gn.drawLayeredElements=function(t,e,r,a){var o=this,s=o.data.lyrTxrCache.getLayers(e,r);if(s)for(var l=0;l<s.length;l++){var u=s[l],d=u.bb;d.w===0||d.h===0||t.drawImage(u.canvas,d.x1,d.y1,d.w,d.h)}else o.drawCachedElements(t,e,r,a)};var Rn={};Rn.drawEdge=function(t,e,r){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,l=this,u=e._private.rscratch;if(!(s&&!e.visible())&&!(u.badLine||u.allpts==null||isNaN(u.allpts[0]))){var d;r&&(d=r,t.translate(-d.x1,-d.y1));var f=s?e.pstyle("opacity").value:1,v=s?e.pstyle("line-opacity").value:1,h=e.pstyle("curve-style").value,g=e.pstyle("line-style").value,y=e.pstyle("width").pfValue,m=e.pstyle("line-cap").value,C=e.pstyle("line-outline-width").value,x=e.pstyle("line-outline-color").value,E=f*v,k=f*v,b=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E;h==="straight-triangle"?(l.eleStrokeStyle(t,e,$),l.drawEdgeTrianglePath(e,t,u.allpts)):(t.lineWidth=y,t.lineCap=m,l.eleStrokeStyle(t,e,$),l.drawEdgePath(e,t,u.allpts,g),t.lineCap="butt")},T=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E;if(t.lineWidth=y+C,t.lineCap=m,C>0)l.colorStrokeStyle(t,x[0],x[1],x[2],$);else{t.lineCap="butt";return}h==="straight-triangle"?l.drawEdgeTrianglePath(e,t,u.allpts):(l.drawEdgePath(e,t,u.allpts,g),t.lineCap="butt")},R=function(){o&&l.drawEdgeOverlay(t,e)},N=function(){o&&l.drawEdgeUnderlay(t,e)},D=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:k;l.drawArrowheads(t,e,$)},I=function(){l.drawElementText(t,e,null,a)};t.lineJoin="round";var B=e.pstyle("ghost").value==="yes";if(B){var F=e.pstyle("ghost-offset-x").pfValue,A=e.pstyle("ghost-offset-y").pfValue,j=e.pstyle("ghost-opacity").value,_=E*j;t.translate(F,A),b(_),D(_),t.translate(-F,-A)}else T();N(),b(),D(),R(),I(),r&&t.translate(d.x1,d.y1)}};var pm=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,a){if(a.visible()){var o=a.pstyle("".concat(e,"-opacity")).value;if(o!==0){var s=this,l=s.usePaths(),u=a._private.rscratch,d=a.pstyle("".concat(e,"-padding")).pfValue,f=2*d,v=a.pstyle("".concat(e,"-color")).value;r.lineWidth=f,u.edgeType==="self"&&!l?r.lineCap="butt":r.lineCap="round",s.colorStrokeStyle(r,v[0],v[1],v[2],o),s.drawEdgePath(a,r,u.allpts,"solid")}}}};Rn.drawEdgeOverlay=pm("overlay");Rn.drawEdgeUnderlay=pm("underlay");Rn.drawEdgePath=function(t,e,r,a){var o=t._private.rscratch,s=e,l,u=!1,d=this.usePaths(),f=t.pstyle("line-dash-pattern").pfValue,v=t.pstyle("line-dash-offset").pfValue;if(d){var h=r.join("$"),g=o.pathCacheKey&&o.pathCacheKey===h;g?(l=e=o.pathCache,u=!0):(l=e=new Path2D,o.pathCacheKey=h,o.pathCache=l)}if(s.setLineDash)switch(a){case"dotted":s.setLineDash([1,1]);break;case"dashed":s.setLineDash(f),s.lineDashOffset=v;break;case"solid":s.setLineDash([]);break}if(!u&&!o.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),o.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var y=2;y+3<r.length;y+=4)e.quadraticCurveTo(r[y],r[y+1],r[y+2],r[y+3]);break;case"straight":case"haystack":for(var m=2;m+1<r.length;m+=2)e.lineTo(r[m],r[m+1]);break;case"segments":if(o.isRound){var C=Up(o.roundCorners),x;try{for(C.s();!(x=C.n()).done;){var E=x.value;am(e,E)}}catch(b){C.e(b)}finally{C.f()}e.lineTo(r[r.length-2],r[r.length-1])}else for(var k=2;k+1<r.length;k+=2)e.lineTo(r[k],r[k+1]);break}e=s,d?e.stroke(l):e.stroke(),e.setLineDash&&e.setLineDash([])};Rn.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var a=t.pstyle("width").pfValue,o=0;o+1<r.length;o+=2){var s=[r[o+2]-r[o],r[o+3]-r[o+1]],l=Math.sqrt(s[0]*s[0]+s[1]*s[1]),u=[s[1]/l,-s[0]/l],d=[u[0]*a/2,u[1]*a/2];e.beginPath(),e.moveTo(r[o]-d[0],r[o+1]-d[1]),e.lineTo(r[o]+d[0],r[o+1]+d[1]),e.lineTo(r[o+2],r[o+3]),e.closePath(),e.fill()}};Rn.drawArrowheads=function(t,e,r){var a=e._private.rscratch,o=a.edgeType==="haystack";o||this.drawArrowhead(t,e,"source",a.arrowStartX,a.arrowStartY,a.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",a.midX,a.midY,a.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",a.midX,a.midY,a.midsrcArrowAngle,r),o||this.drawArrowhead(t,e,"target",a.arrowEndX,a.arrowEndY,a.tgtArrowAngle,r)};Rn.drawArrowhead=function(t,e,r,a,o,s,l){if(!(isNaN(a)||a==null||isNaN(o)||o==null||isNaN(s)||s==null)){var u=this,d=e.pstyle(r+"-arrow-shape").value;if(d!=="none"){var f=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",v=e.pstyle(r+"-arrow-fill").value,h=e.pstyle("width").pfValue,g=e.pstyle(r+"-arrow-width"),y=g.value==="match-line"?h:g.pfValue;g.units==="%"&&(y*=h);var m=e.pstyle("opacity").value;l===void 0&&(l=m);var C=t.globalCompositeOperation;(l!==1||v==="hollow")&&(t.globalCompositeOperation="destination-out",u.colorFillStyle(t,255,255,255,1),u.colorStrokeStyle(t,255,255,255,1),u.drawArrowShape(e,t,f,h,d,y,a,o,s),t.globalCompositeOperation=C);var x=e.pstyle(r+"-arrow-color").value;u.colorFillStyle(t,x[0],x[1],x[2],l),u.colorStrokeStyle(t,x[0],x[1],x[2],l),u.drawArrowShape(e,t,v,h,d,y,a,o,s)}}};Rn.drawArrowShape=function(t,e,r,a,o,s,l,u,d){var f=this,v=this.usePaths()&&o!=="triangle-cross",h=!1,g,y=e,m={x:l,y:u},C=t.pstyle("arrow-scale").value,x=this.getArrowWidth(a,C),E=f.arrowShapes[o];if(v){var k=f.arrowPathCache=f.arrowPathCache||[],b=Ba(o),T=k[b];T!=null?(g=e=T,h=!0):(g=e=new Path2D,k[b]=g)}h||(e.beginPath&&e.beginPath(),v?E.draw(e,1,0,{x:0,y:0},1):E.draw(e,x,d,m,a),e.closePath&&e.closePath()),e=y,v&&(e.translate(l,u),e.rotate(d),e.scale(x,x)),(r==="filled"||r==="both")&&(v?e.fill(g):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=s/(v?x:1),e.lineJoin="miter",v?e.stroke(g):e.stroke()),v&&(e.scale(1/x,1/x),e.rotate(-d),e.translate(-l,-u))};var Gf={};Gf.safeDrawImage=function(t,e,r,a,o,s,l,u,d,f){if(!(o<=0||s<=0||d<=0||f<=0))try{t.drawImage(e,r,a,o,s,l,u,d,f)}catch(v){ct(v)}};Gf.drawInscribedImage=function(t,e,r,a,o){var s=this,l=r.position(),u=l.x,d=l.y,f=r.cy().style(),v=f.getIndexedStyle.bind(f),h=v(r,"background-fit","value",a),g=v(r,"background-repeat","value",a),y=r.width(),m=r.height(),C=r.padding()*2,x=y+(v(r,"background-width-relative-to","value",a)==="inner"?0:C),E=m+(v(r,"background-height-relative-to","value",a)==="inner"?0:C),k=r._private.rscratch,b=v(r,"background-clip","value",a),T=b==="node",R=v(r,"background-image-opacity","value",a)*o,N=v(r,"background-image-smoothing","value",a),D=r.pstyle("corner-radius").value;D!=="auto"&&(D=r.pstyle("corner-radius").pfValue);var I=e.width||e.cachedW,B=e.height||e.cachedH;(I==null||B==null)&&(document.body.appendChild(e),I=e.cachedW=e.width||e.offsetWidth,B=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var F=I,A=B;if(v(r,"background-width","value",a)!=="auto"&&(v(r,"background-width","units",a)==="%"?F=v(r,"background-width","pfValue",a)*x:F=v(r,"background-width","pfValue",a)),v(r,"background-height","value",a)!=="auto"&&(v(r,"background-height","units",a)==="%"?A=v(r,"background-height","pfValue",a)*E:A=v(r,"background-height","pfValue",a)),!(F===0||A===0)){if(h==="contain"){var j=Math.min(x/F,E/A);F*=j,A*=j}else if(h==="cover"){var j=Math.max(x/F,E/A);F*=j,A*=j}var _=u-x/2,L=v(r,"background-position-x","units",a),$=v(r,"background-position-x","pfValue",a);L==="%"?_+=(x-F)*$:_+=$;var V=v(r,"background-offset-x","units",a),U=v(r,"background-offset-x","pfValue",a);V==="%"?_+=(x-F)*U:_+=U;var H=d-E/2,K=v(r,"background-position-y","units",a),Y=v(r,"background-position-y","pfValue",a);K==="%"?H+=(E-A)*Y:H+=Y;var M=v(r,"background-offset-y","units",a),q=v(r,"background-offset-y","pfValue",a);M==="%"?H+=(E-A)*q:H+=q,k.pathCache&&(_-=u,H-=d,u=0,d=0);var te=t.globalAlpha;t.globalAlpha=R;var ie=s.getImgSmoothing(t),se=!1;if(N==="no"&&ie?(s.setImgSmoothing(t,!1),se=!0):N==="yes"&&!ie&&(s.setImgSmoothing(t,!0),se=!0),g==="no-repeat")T&&(t.save(),k.pathCache?t.clip(k.pathCache):(s.nodeShapes[s.getNodeShape(r)].draw(t,u,d,x,E,D,k),t.clip())),s.safeDrawImage(t,e,0,0,I,B,_,H,F,A),T&&t.restore();else{var ue=t.createPattern(e,g);t.fillStyle=ue,s.nodeShapes[s.getNodeShape(r)].draw(t,u,d,x,E,D,k),t.translate(_,H),t.fill(),t.translate(-_,-H)}t.globalAlpha=te,se&&s.setImgSmoothing(t,ie)}};var Va={};Va.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),a=this.getPixelRatio(),o=Math.ceil(Bf(r*a));e=Math.pow(2,o)}var s=t.pstyle("font-size").pfValue*e,l=t.pstyle("min-zoomed-font-size").pfValue;return!(s<l)};Va.drawElementText=function(t,e,r,a,o){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,l=this;if(a==null){if(s&&!l.eleTextBiggerThanMin(e))return}else if(a===!1)return;if(e.isNode()){var u=e.pstyle("label");if(!u||!u.value)return;var d=l.getLabelJustification(e);t.textAlign=d,t.textBaseline="bottom"}else{var f=e.element()._private.rscratch.badLine,v=e.pstyle("label"),h=e.pstyle("source-label"),g=e.pstyle("target-label");if(f||(!v||!v.value)&&(!h||!h.value)&&(!g||!g.value))return;t.textAlign="center",t.textBaseline="bottom"}var y=!r,m;r&&(m=r,t.translate(-m.x1,-m.y1)),o==null?(l.drawText(t,e,null,y,s),e.isEdge()&&(l.drawText(t,e,"source",y,s),l.drawText(t,e,"target",y,s))):l.drawText(t,e,o,y,s),r&&t.translate(m.x1,m.y1)};Va.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};Va.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=e.pstyle("font-style").strValue,o=e.pstyle("font-size").pfValue+"px",s=e.pstyle("font-family").strValue,l=e.pstyle("font-weight").strValue,u=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,d=e.pstyle("text-outline-opacity").value*u,f=e.pstyle("color").value,v=e.pstyle("text-outline-color").value;t.font=a+" "+l+" "+o+" "+s,t.lineJoin="round",this.colorFillStyle(t,f[0],f[1],f[2],u),this.colorStrokeStyle(t,v[0],v[1],v[2],d)};function of(t,e,r,a,o){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,l=arguments.length>6?arguments[6]:void 0;t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+a-s,r),t.quadraticCurveTo(e+a,r,e+a,r+s),t.lineTo(e+a,r+o-s),t.quadraticCurveTo(e+a,r+o,e+a-s,r+o),t.lineTo(e+s,r+o),t.quadraticCurveTo(e,r+o,e,r+o-s),t.lineTo(e,r+s),t.quadraticCurveTo(e,r,e+s,r),t.closePath(),l?t.stroke():t.fill()}Va.getTextAngle=function(t,e){var r,a=t._private,o=a.rscratch,s=e?e+"-":"",l=t.pstyle(s+"text-rotation"),u=nn(o,"labelAngle",e);return l.strValue==="autorotate"?r=t.isEdge()?u:0:l.strValue==="none"?r=0:r=l.pfValue,r};Va.drawText=function(t,e,r){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=e._private,l=s.rscratch,u=o?e.effectiveOpacity():1;if(!(o&&(u===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var d=nn(l,"labelX",r),f=nn(l,"labelY",r),v,h,g=this.getLabelText(e,r);if(g!=null&&g!==""&&!isNaN(d)&&!isNaN(f)){this.setupTextStyle(t,e,o);var y=r?r+"-":"",m=nn(l,"labelWidth",r),C=nn(l,"labelHeight",r),x=e.pstyle(y+"text-margin-x").pfValue,E=e.pstyle(y+"text-margin-y").pfValue,k=e.isEdge(),b=e.pstyle("text-halign").value,T=e.pstyle("text-valign").value;k&&(b="center",T="center"),d+=x,f+=E;var R;switch(a?R=this.getTextAngle(e,r):R=0,R!==0&&(v=d,h=f,t.translate(v,h),t.rotate(R),d=0,f=0),T){case"top":break;case"center":f+=C/2;break;case"bottom":f+=C;break}var N=e.pstyle("text-background-opacity").value,D=e.pstyle("text-border-opacity").value,I=e.pstyle("text-border-width").pfValue,B=e.pstyle("text-background-padding").pfValue,F=e.pstyle("text-background-shape").strValue,A=F.indexOf("round")===0,j=2;if(N>0||I>0&&D>0){var _=d-B;switch(b){case"left":_-=m;break;case"center":_-=m/2;break}var L=f-C-B,$=m+2*B,V=C+2*B;if(N>0){var U=t.fillStyle,H=e.pstyle("text-background-color").value;t.fillStyle="rgba("+H[0]+","+H[1]+","+H[2]+","+N*u+")",A?of(t,_,L,$,V,j):t.fillRect(_,L,$,V),t.fillStyle=U}if(I>0&&D>0){var K=t.strokeStyle,Y=t.lineWidth,M=e.pstyle("text-border-color").value,q=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+M[0]+","+M[1]+","+M[2]+","+D*u+")",t.lineWidth=I,t.setLineDash)switch(q){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=I/4,t.setLineDash([]);break;case"solid":t.setLineDash([]);break}if(A?of(t,_,L,$,V,j,"stroke"):t.strokeRect(_,L,$,V),q==="double"){var te=I/2;A?of(t,_+te,L+te,$-te*2,V-te*2,j,"stroke"):t.strokeRect(_+te,L+te,$-te*2,V-te*2)}t.setLineDash&&t.setLineDash([]),t.lineWidth=Y,t.strokeStyle=K}}var ie=2*e.pstyle("text-outline-width").pfValue;if(ie>0&&(t.lineWidth=ie),e.pstyle("text-wrap").value==="wrap"){var se=nn(l,"labelWrapCachedLines",r),ue=nn(l,"labelLineHeight",r),ce=m/2,ae=this.getLabelJustification(e);switch(ae==="auto"||(b==="left"?ae==="left"?d+=-m:ae==="center"&&(d+=-ce):b==="center"?ae==="left"?d+=-ce:ae==="right"&&(d+=ce):b==="right"&&(ae==="center"?d+=ce:ae==="right"&&(d+=m))),T){case"top":f-=(se.length-1)*ue;break;case"center":case"bottom":f-=(se.length-1)*ue;break}for(var Q=0;Q<se.length;Q++)ie>0&&t.strokeText(se[Q],d,f),t.fillText(se[Q],d,f),f+=ue}else ie>0&&t.strokeText(g,d,f),t.fillText(g,d,f);R!==0&&(t.rotate(-R),t.translate(-v,-h))}}};var Ai={};Ai.drawNode=function(t,e,r){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,l=this,u,d,f=e._private,v=f.rscratch,h=e.position();if(!(!ke(h.x)||!ke(h.y))&&!(s&&!e.visible())){var g=s?e.effectiveOpacity():1,y=l.usePaths(),m,C=!1,x=e.padding();u=e.width()+2*x,d=e.height()+2*x;var E;r&&(E=r,t.translate(-E.x1,-E.y1));for(var k=e.pstyle("background-image"),b=k.value,T=new Array(b.length),R=new Array(b.length),N=0,D=0;D<b.length;D++){var I=b[D],B=T[D]=I!=null&&I!=="none";if(B){var F=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",D);N++,R[D]=l.getCachedImage(I,F,function(){f.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var A=e.pstyle("background-blacken").value,j=e.pstyle("border-width").pfValue,_=e.pstyle("background-opacity").value*g,L=e.pstyle("border-color").value,$=e.pstyle("border-style").value,V=e.pstyle("border-join").value,U=e.pstyle("border-cap").value,H=e.pstyle("border-position").value,K=e.pstyle("border-dash-pattern").pfValue,Y=e.pstyle("border-dash-offset").pfValue,M=e.pstyle("border-opacity").value*g,q=e.pstyle("outline-width").pfValue,te=e.pstyle("outline-color").value,ie=e.pstyle("outline-style").value,se=e.pstyle("outline-opacity").value*g,ue=e.pstyle("outline-offset").value,ce=e.pstyle("corner-radius").value;ce!=="auto"&&(ce=e.pstyle("corner-radius").pfValue);var ae=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_;l.eleFillStyle(t,e,Z)},Q=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:M;l.colorStrokeStyle(t,L[0],L[1],L[2],Z)},le=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:se;l.colorStrokeStyle(t,te[0],te[1],te[2],Z)},de=function(Z,ne,be,ve){var Ce=l.nodePathCache=l.nodePathCache||[],je=rg(be==="polygon"?be+","+ve.join(","):be,""+ne,""+Z,""+ce),We=Ce[je],Be,He=!1;return We!=null?(Be=We,He=!0,v.pathCache=Be):(Be=new Path2D,Ce[je]=v.pathCache=Be),{path:Be,cacheHit:He}},Ee=e.pstyle("shape").strValue,ze=e.pstyle("shape-polygon-points").pfValue;if(y){t.translate(h.x,h.y);var xe=de(u,d,Ee,ze);m=xe.path,C=xe.cacheHit}var we=function(){if(!C){var Z=h;y&&(Z={x:0,y:0}),l.nodeShapes[l.getNodeShape(e)].draw(m||t,Z.x,Z.y,u,d,ce,v)}y?t.fill(m):t.fill()},Re=function(){for(var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,be=f.backgrounding,ve=0,Ce=0;Ce<R.length;Ce++){var je=e.cy().style().getIndexedStyle(e,"background-image-containment","value",Ce);if(ne&&je==="over"||!ne&&je==="inside"){ve++;continue}T[Ce]&&R[Ce].complete&&!R[Ce].error&&(ve++,l.drawInscribedImage(t,R[Ce],e,Ce,Z))}f.backgrounding=ve!==N,be!==f.backgrounding&&e.updateStyle(!1)},Pe=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g;l.hasPie(e)&&(l.drawPie(t,e,ne),Z&&(y||l.nodeShapes[l.getNodeShape(e)].draw(t,h.x,h.y,u,d,ce,v)))},Te=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g,ne=(A>0?A:-A)*Z,be=A>0?0:255;A!==0&&(l.colorFillStyle(t,be,be,be,ne),y?t.fill(m):t.fill())},Ae=function(){if(j>0){if(t.lineWidth=j,t.lineCap=U,t.lineJoin=V,t.setLineDash)switch($){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(K),t.lineDashOffset=Y;break;case"solid":case"double":t.setLineDash([]);break}if(H!=="center"){if(t.save(),t.lineWidth*=2,H==="inside")y?t.clip(m):t.clip();else{var Z=new Path2D;Z.rect(-u/2-j,-d/2-j,u+2*j,d+2*j),Z.addPath(m),t.clip(Z,"evenodd")}y?t.stroke(m):t.stroke(),t.restore()}else y?t.stroke(m):t.stroke();if($==="double"){t.lineWidth=j/3;var ne=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",y?t.stroke(m):t.stroke(),t.globalCompositeOperation=ne}t.setLineDash&&t.setLineDash([])}},Ze=function(){if(q>0){if(t.lineWidth=q,t.lineCap="butt",t.setLineDash)switch(ie){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var Z=h;y&&(Z={x:0,y:0});var ne=l.getNodeShape(e),be=j;H==="inside"&&(be=0),H==="outside"&&(be*=2);var ve=(u+be+(q+ue))/u,Ce=(d+be+(q+ue))/d,je=u*ve,We=d*Ce,Be=l.nodeShapes[ne].points,He;if(y){var qe=de(je,We,ne,Be);He=qe.path}if(ne==="ellipse")l.drawEllipsePath(He||t,Z.x,Z.y,je,We);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(ne)){var Ve=0,et=0,lt=0;ne==="round-diamond"?Ve=(be+ue+q)*1.4:ne==="round-heptagon"?(Ve=(be+ue+q)*1.075,lt=-(be/2+ue+q)/35):ne==="round-hexagon"?Ve=(be+ue+q)*1.12:ne==="round-pentagon"?(Ve=(be+ue+q)*1.13,lt=-(be/2+ue+q)/15):ne==="round-tag"?(Ve=(be+ue+q)*1.12,et=(be/2+q+ue)*.07):ne==="round-triangle"&&(Ve=(be+ue+q)*(Math.PI/2),lt=-(be+ue/2+q)/Math.PI),Ve!==0&&(ve=(u+Ve)/u,je=u*ve,["round-hexagon","round-tag"].includes(ne)||(Ce=(d+Ve)/d,We=d*Ce)),ce=ce==="auto"?vg(je,We):ce;for(var rr=je/2,nr=We/2,Tt=ce+(be+q+ue)/2,Rt=new Array(Be.length/2),Bt=new Array(Be.length/2),zt=0;zt<Be.length/2;zt++)Rt[zt]={x:Z.x+et+rr*Be[zt*2],y:Z.y+lt+nr*Be[zt*2+1]};var Ut,ar,ir,or,Kr=Rt.length;for(ar=Rt[Kr-1],Ut=0;Ut<Kr;Ut++)ir=Rt[Ut%Kr],or=Rt[(Ut+1)%Kr],Bt[Ut]=Wf(ar,ir,or,Tt),ar=ir,ir=or;l.drawRoundPolygonPath(He||t,Z.x+et,Z.y+lt,u*ve,d*Ce,Be,Bt)}else if(["roundrectangle","round-rectangle"].includes(ne))ce=ce==="auto"?Ia(je,We):ce,l.drawRoundRectanglePath(He||t,Z.x,Z.y,je,We,ce+(be+q+ue)/2);else if(["cutrectangle","cut-rectangle"].includes(ne))ce=ce==="auto"?If():ce,l.drawCutRectanglePath(He||t,Z.x,Z.y,je,We,null,ce+(be+q+ue)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(ne))ce=ce==="auto"?Ia(je,We):ce,l.drawBottomRoundRectanglePath(He||t,Z.x,Z.y,je,We,ce+(be+q+ue)/2);else if(ne==="barrel")l.drawBarrelPath(He||t,Z.x,Z.y,je,We);else if(ne.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(ne)){var mr=(be+q+ue)/u;Be=zl(Al(Be,mr)),l.drawPolygonPath(He||t,Z.x,Z.y,u,d,Be)}else{var Mt=(be+q+ue)/u;Be=zl(Al(Be,-Mt)),l.drawPolygonPath(He||t,Z.x,Z.y,u,d,Be)}if(y?t.stroke(He):t.stroke(),ie==="double"){t.lineWidth=be/3;var St=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",y?t.stroke(He):t.stroke(),t.globalCompositeOperation=St}t.setLineDash&&t.setLineDash([])}},Qe=function(){o&&l.drawNodeOverlay(t,e,h,u,d)},Ge=function(){o&&l.drawNodeUnderlay(t,e,h,u,d)},at=function(){l.drawElementText(t,e,null,a)},Ye=e.pstyle("ghost").value==="yes";if(Ye){var Je=e.pstyle("ghost-offset-x").pfValue,ge=e.pstyle("ghost-offset-y").pfValue,z=e.pstyle("ghost-opacity").value,ee=z*g;t.translate(Je,ge),le(),Ze(),ae(z*_),we(),Re(ee,!0),Q(z*M),Ae(),Pe(A!==0||j!==0),Re(ee,!1),Te(ee),t.translate(-Je,-ge)}y&&t.translate(-h.x,-h.y),Ge(),y&&t.translate(h.x,h.y),le(),Ze(),ae(),we(),Re(g,!0),Q(),Ae(),Pe(A!==0||j!==0),Re(g,!1),Te(),y&&t.translate(-h.x,-h.y),at(),Qe(),r&&t.translate(E.x1,E.y1)}};var gm=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,a,o,s,l){var u=this;if(a.visible()){var d=a.pstyle("".concat(e,"-padding")).pfValue,f=a.pstyle("".concat(e,"-opacity")).value,v=a.pstyle("".concat(e,"-color")).value,h=a.pstyle("".concat(e,"-shape")).value,g=a.pstyle("".concat(e,"-corner-radius")).value;if(f>0){if(o=o||a.position(),s==null||l==null){var y=a.padding();s=a.width()+2*y,l=a.height()+2*y}u.colorFillStyle(r,v[0],v[1],v[2],f),u.nodeShapes[h].draw(r,o.x,o.y,s+d*2,l+d*2,g),r.fill()}}}};Ai.drawNodeOverlay=gm("overlay");Ai.drawNodeUnderlay=gm("underlay");Ai.hasPie=function(t){return t=t[0],t._private.hasPie};Ai.drawPie=function(t,e,r,a){e=e[0],a=a||e.position();var o=e.cy().style(),s=e.pstyle("pie-size"),l=a.x,u=a.y,d=e.width(),f=e.height(),v=Math.min(d,f)/2,h=0,g=this.usePaths();g&&(l=0,u=0),s.units==="%"?v=v*s.pfValue:s.pfValue!==void 0&&(v=s.pfValue/2);for(var y=1;y<=o.pieBackgroundN;y++){var m=e.pstyle("pie-"+y+"-background-size").value,C=e.pstyle("pie-"+y+"-background-color").value,x=e.pstyle("pie-"+y+"-background-opacity").value*r,E=m/100;E+h>1&&(E=1-h);var k=1.5*Math.PI+2*Math.PI*h,b=2*Math.PI*E,T=k+b;m===0||h>=1||h+E>1||(t.beginPath(),t.moveTo(l,u),t.arc(l,u,v,k,T),t.closePath(),this.colorFillStyle(t,C[0],C[1],C[2],x),t.fill(),h+=E)}};var Or={},Z2=100;Or.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),r=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/r};Or.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,a,o=0;o<e.length;o++)if(a=e[o],a.context===t){r=!1;break}return r&&(a={context:t},e.push(a)),a};Or.createGradientStyleFor=function(t,e,r,a,o){var s,l=this.usePaths(),u=r.pstyle(e+"-gradient-stop-colors").value,d=r.pstyle(e+"-gradient-stop-positions").pfValue;if(a==="radial-gradient")if(r.isEdge()){var f=r.sourceEndpoint(),v=r.targetEndpoint(),h=r.midpoint(),g=Ma(f,h),y=Ma(v,h);s=t.createRadialGradient(h.x,h.y,0,h.x,h.y,Math.max(g,y))}else{var m=l?{x:0,y:0}:r.position(),C=r.paddedWidth(),x=r.paddedHeight();s=t.createRadialGradient(m.x,m.y,0,m.x,m.y,Math.max(C,x))}else if(r.isEdge()){var E=r.sourceEndpoint(),k=r.targetEndpoint();s=t.createLinearGradient(E.x,E.y,k.x,k.y)}else{var b=l?{x:0,y:0}:r.position(),T=r.paddedWidth(),R=r.paddedHeight(),N=T/2,D=R/2,I=r.pstyle("background-gradient-direction").value;switch(I){case"to-bottom":s=t.createLinearGradient(b.x,b.y-D,b.x,b.y+D);break;case"to-top":s=t.createLinearGradient(b.x,b.y+D,b.x,b.y-D);break;case"to-left":s=t.createLinearGradient(b.x+N,b.y,b.x-N,b.y);break;case"to-right":s=t.createLinearGradient(b.x-N,b.y,b.x+N,b.y);break;case"to-bottom-right":case"to-right-bottom":s=t.createLinearGradient(b.x-N,b.y-D,b.x+N,b.y+D);break;case"to-top-right":case"to-right-top":s=t.createLinearGradient(b.x-N,b.y+D,b.x+N,b.y-D);break;case"to-bottom-left":case"to-left-bottom":s=t.createLinearGradient(b.x+N,b.y-D,b.x-N,b.y+D);break;case"to-top-left":case"to-left-top":s=t.createLinearGradient(b.x+N,b.y+D,b.x-N,b.y-D);break}}if(!s)return null;for(var B=d.length===u.length,F=u.length,A=0;A<F;A++)s.addColorStop(B?d[A]:A/(F-1),"rgba("+u[A][0]+","+u[A][1]+","+u[A][2]+","+o+")");return s};Or.gradientFillStyle=function(t,e,r,a){var o=this.createGradientStyleFor(t,"background",e,r,a);if(!o)return null;t.fillStyle=o};Or.colorFillStyle=function(t,e,r,a,o){t.fillStyle="rgba("+e+","+r+","+a+","+o+")"};Or.eleFillStyle=function(t,e,r){var a=e.pstyle("background-fill").value;if(a==="linear-gradient"||a==="radial-gradient")this.gradientFillStyle(t,e,a,r);else{var o=e.pstyle("background-color").value;this.colorFillStyle(t,o[0],o[1],o[2],r)}};Or.gradientStrokeStyle=function(t,e,r,a){var o=this.createGradientStyleFor(t,"line",e,r,a);if(!o)return null;t.strokeStyle=o};Or.colorStrokeStyle=function(t,e,r,a,o){t.strokeStyle="rgba("+e+","+r+","+a+","+o+")"};Or.eleStrokeStyle=function(t,e,r){var a=e.pstyle("line-fill").value;if(a==="linear-gradient"||a==="radial-gradient")this.gradientStrokeStyle(t,e,a,r);else{var o=e.pstyle("line-color").value;this.colorStrokeStyle(t,o[0],o[1],o[2],r)}};Or.matchCanvasSize=function(t){var e=this,r=e.data,a=e.findContainerClientCoords(),o=a[2],s=a[3],l=e.getPixelRatio(),u=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(l=u);var d=o*l,f=s*l,v;if(!(d===e.canvasWidth&&f===e.canvasHeight)){e.fontCaches=null;var h=r.canvasContainer;h.style.width=o+"px",h.style.height=s+"px";for(var g=0;g<e.CANVAS_LAYERS;g++)v=r.canvases[g],v.width=d,v.height=f,v.style.width=o+"px",v.style.height=s+"px";for(var g=0;g<e.BUFFER_COUNT;g++)v=r.bufferCanvases[g],v.width=d,v.height=f,v.style.width=o+"px",v.style.height=s+"px";e.textureMult=1,l<=1&&(v=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,v.width=d*e.textureMult,v.height=f*e.textureMult),e.canvasWidth=d,e.canvasHeight=f}};Or.renderTo=function(t,e,r,a){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:a})};Or.render=function(t){t=t||og();var e=t.forcedContext,r=t.drawAllLayers,a=t.drawOnlyNodeLayer,o=t.forcedZoom,s=t.forcedPan,l=this,u=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,d=l.cy,f=l.data,v=f.canvasNeedsRedraw,h=l.textureOnViewport&&!e&&(l.pinching||l.hoverData.dragging||l.swipePanning||l.data.wheelZooming),g=t.motionBlur!==void 0?t.motionBlur:l.motionBlur,y=l.motionBlurPxRatio,m=d.hasCompoundNodes(),C=l.hoverData.draggingEles,x=!!(l.hoverData.selecting||l.touchData.selecting);g=g&&!e&&l.motionBlurEnabled&&!x;var E=g;e||(l.prevPxRatio!==u&&(l.invalidateContainerClientCoordsCache(),l.matchCanvasSize(l.container),l.redrawHint("eles",!0),l.redrawHint("drag",!0)),l.prevPxRatio=u),!e&&l.motionBlurTimeout&&clearTimeout(l.motionBlurTimeout),g&&(l.mbFrames==null&&(l.mbFrames=0),l.mbFrames++,l.mbFrames<3&&(E=!1),l.mbFrames>l.minMbLowQualFrames&&(l.motionBlurPxRatio=l.mbPxRBlurry)),l.clearingMotionBlur&&(l.motionBlurPxRatio=1),l.textureDrawLastFrame&&!h&&(v[l.NODE]=!0,v[l.SELECT_BOX]=!0);var k=d.style(),b=d.zoom(),T=o!==void 0?o:b,R=d.pan(),N={x:R.x,y:R.y},D={zoom:b,pan:{x:R.x,y:R.y}},I=l.prevViewport,B=I===void 0||D.zoom!==I.zoom||D.pan.x!==I.pan.x||D.pan.y!==I.pan.y;!B&&!(C&&!m)&&(l.motionBlurPxRatio=1),s&&(N=s),T*=u,N.x*=u,N.y*=u;var F=l.getCachedZSortedEles();function A(xe,we,Re,Pe,Te){var Ae=xe.globalCompositeOperation;xe.globalCompositeOperation="destination-out",l.colorFillStyle(xe,255,255,255,l.motionBlurTransparency),xe.fillRect(we,Re,Pe,Te),xe.globalCompositeOperation=Ae}function j(xe,we){var Re,Pe,Te,Ae;!l.clearingMotionBlur&&(xe===f.bufferContexts[l.MOTIONBLUR_BUFFER_NODE]||xe===f.bufferContexts[l.MOTIONBLUR_BUFFER_DRAG])?(Re={x:R.x*y,y:R.y*y},Pe=b*y,Te=l.canvasWidth*y,Ae=l.canvasHeight*y):(Re=N,Pe=T,Te=l.canvasWidth,Ae=l.canvasHeight),xe.setTransform(1,0,0,1,0,0),we==="motionBlur"?A(xe,0,0,Te,Ae):!e&&(we===void 0||we)&&xe.clearRect(0,0,Te,Ae),r||(xe.translate(Re.x,Re.y),xe.scale(Pe,Pe)),s&&xe.translate(s.x,s.y),o&&xe.scale(o,o)}if(h||(l.textureDrawLastFrame=!1),h){if(l.textureDrawLastFrame=!0,!l.textureCache){l.textureCache={},l.textureCache.bb=d.mutableElements().boundingBox(),l.textureCache.texture=l.data.bufferCanvases[l.TEXTURE_BUFFER];var _=l.data.bufferContexts[l.TEXTURE_BUFFER];_.setTransform(1,0,0,1,0,0),_.clearRect(0,0,l.canvasWidth*l.textureMult,l.canvasHeight*l.textureMult),l.render({forcedContext:_,drawOnlyNodeLayer:!0,forcedPxRatio:u*l.textureMult});var D=l.textureCache.viewport={zoom:d.zoom(),pan:d.pan(),width:l.canvasWidth,height:l.canvasHeight};D.mpan={x:(0-D.pan.x)/D.zoom,y:(0-D.pan.y)/D.zoom}}v[l.DRAG]=!1,v[l.NODE]=!1;var L=f.contexts[l.NODE],$=l.textureCache.texture,D=l.textureCache.viewport;L.setTransform(1,0,0,1,0,0),g?A(L,0,0,D.width,D.height):L.clearRect(0,0,D.width,D.height);var V=k.core("outside-texture-bg-color").value,U=k.core("outside-texture-bg-opacity").value;l.colorFillStyle(L,V[0],V[1],V[2],U),L.fillRect(0,0,D.width,D.height);var b=d.zoom();j(L,!1),L.clearRect(D.mpan.x,D.mpan.y,D.width/D.zoom/u,D.height/D.zoom/u),L.drawImage($,D.mpan.x,D.mpan.y,D.width/D.zoom/u,D.height/D.zoom/u)}else l.textureOnViewport&&!e&&(l.textureCache=null);var H=d.extent(),K=l.pinching||l.hoverData.dragging||l.swipePanning||l.data.wheelZooming||l.hoverData.draggingEles||l.cy.animated(),Y=l.hideEdgesOnViewport&&K,M=[];if(M[l.NODE]=!v[l.NODE]&&g&&!l.clearedForMotionBlur[l.NODE]||l.clearingMotionBlur,M[l.NODE]&&(l.clearedForMotionBlur[l.NODE]=!0),M[l.DRAG]=!v[l.DRAG]&&g&&!l.clearedForMotionBlur[l.DRAG]||l.clearingMotionBlur,M[l.DRAG]&&(l.clearedForMotionBlur[l.DRAG]=!0),v[l.NODE]||r||a||M[l.NODE]){var q=g&&!M[l.NODE]&&y!==1,L=e||(q?l.data.bufferContexts[l.MOTIONBLUR_BUFFER_NODE]:f.contexts[l.NODE]),te=g&&!q?"motionBlur":void 0;j(L,te),Y?l.drawCachedNodes(L,F.nondrag,u,H):l.drawLayeredElements(L,F.nondrag,u,H),l.debug&&l.drawDebugPoints(L,F.nondrag),!r&&!g&&(v[l.NODE]=!1)}if(!a&&(v[l.DRAG]||r||M[l.DRAG])){var q=g&&!M[l.DRAG]&&y!==1,L=e||(q?l.data.bufferContexts[l.MOTIONBLUR_BUFFER_DRAG]:f.contexts[l.DRAG]);j(L,g&&!q?"motionBlur":void 0),Y?l.drawCachedNodes(L,F.drag,u,H):l.drawCachedElements(L,F.drag,u,H),l.debug&&l.drawDebugPoints(L,F.drag),!r&&!g&&(v[l.DRAG]=!1)}if(l.showFps||!a&&v[l.SELECT_BOX]&&!r){var L=e||f.contexts[l.SELECT_BOX];if(j(L),l.selection[4]==1&&(l.hoverData.selecting||l.touchData.selecting)){var b=l.cy.zoom(),ie=k.core("selection-box-border-width").value/b;L.lineWidth=ie,L.fillStyle="rgba("+k.core("selection-box-color").value[0]+","+k.core("selection-box-color").value[1]+","+k.core("selection-box-color").value[2]+","+k.core("selection-box-opacity").value+")",L.fillRect(l.selection[0],l.selection[1],l.selection[2]-l.selection[0],l.selection[3]-l.selection[1]),ie>0&&(L.strokeStyle="rgba("+k.core("selection-box-border-color").value[0]+","+k.core("selection-box-border-color").value[1]+","+k.core("selection-box-border-color").value[2]+","+k.core("selection-box-opacity").value+")",L.strokeRect(l.selection[0],l.selection[1],l.selection[2]-l.selection[0],l.selection[3]-l.selection[1]))}if(f.bgActivePosistion&&!l.hoverData.selecting){var b=l.cy.zoom(),se=f.bgActivePosistion;L.fillStyle="rgba("+k.core("active-bg-color").value[0]+","+k.core("active-bg-color").value[1]+","+k.core("active-bg-color").value[2]+","+k.core("active-bg-opacity").value+")",L.beginPath(),L.arc(se.x,se.y,k.core("active-bg-size").pfValue/b,0,2*Math.PI),L.fill()}var ue=l.lastRedrawTime;if(l.showFps&&ue){ue=Math.round(ue);var ce=Math.round(1e3/ue);L.setTransform(1,0,0,1,0,0),L.fillStyle="rgba(255, 0, 0, 0.75)",L.strokeStyle="rgba(255, 0, 0, 0.75)",L.lineWidth=1,L.fillText("1 frame = "+ue+" ms = "+ce+" fps",0,20);var ae=60;L.strokeRect(0,30,250,20),L.fillRect(0,30,250*Math.min(ce/ae,1),20)}r||(v[l.SELECT_BOX]=!1)}if(g&&y!==1){var Q=f.contexts[l.NODE],le=l.data.bufferCanvases[l.MOTIONBLUR_BUFFER_NODE],de=f.contexts[l.DRAG],Ee=l.data.bufferCanvases[l.MOTIONBLUR_BUFFER_DRAG],ze=function(we,Re,Pe){we.setTransform(1,0,0,1,0,0),Pe||!E?we.clearRect(0,0,l.canvasWidth,l.canvasHeight):A(we,0,0,l.canvasWidth,l.canvasHeight);var Te=y;we.drawImage(Re,0,0,l.canvasWidth*Te,l.canvasHeight*Te,0,0,l.canvasWidth,l.canvasHeight)};(v[l.NODE]||M[l.NODE])&&(ze(Q,le,M[l.NODE]),v[l.NODE]=!1),(v[l.DRAG]||M[l.DRAG])&&(ze(de,Ee,M[l.DRAG]),v[l.DRAG]=!1)}l.prevViewport=D,l.clearingMotionBlur&&(l.clearingMotionBlur=!1,l.motionBlurCleared=!0,l.motionBlur=!0),g&&(l.motionBlurTimeout=setTimeout(function(){l.motionBlurTimeout=null,l.clearedForMotionBlur[l.NODE]=!1,l.clearedForMotionBlur[l.DRAG]=!1,l.motionBlur=!1,l.clearingMotionBlur=!h,l.mbFrames=0,v[l.NODE]=!0,v[l.DRAG]=!0,l.redraw()},Z2)),e||d.emit("render")};var da={};da.drawPolygonPath=function(t,e,r,a,o,s){var l=a/2,u=o/2;t.beginPath&&t.beginPath(),t.moveTo(e+l*s[0],r+u*s[1]);for(var d=1;d<s.length/2;d++)t.lineTo(e+l*s[d*2],r+u*s[d*2+1]);t.closePath()};da.drawRoundPolygonPath=function(t,e,r,a,o,s,l){l.forEach(function(u){return am(t,u)}),t.closePath()};da.drawRoundRectanglePath=function(t,e,r,a,o,s){var l=a/2,u=o/2,d=s==="auto"?Ia(a,o):Math.min(s,u,l);t.beginPath&&t.beginPath(),t.moveTo(e,r-u),t.arcTo(e+l,r-u,e+l,r,d),t.arcTo(e+l,r+u,e,r+u,d),t.arcTo(e-l,r+u,e-l,r,d),t.arcTo(e-l,r-u,e,r-u,d),t.lineTo(e,r-u),t.closePath()};da.drawBottomRoundRectanglePath=function(t,e,r,a,o,s){var l=a/2,u=o/2,d=s==="auto"?Ia(a,o):s;t.beginPath&&t.beginPath(),t.moveTo(e,r-u),t.lineTo(e+l,r-u),t.lineTo(e+l,r),t.arcTo(e+l,r+u,e,r+u,d),t.arcTo(e-l,r+u,e-l,r,d),t.lineTo(e-l,r-u),t.lineTo(e,r-u),t.closePath()};da.drawCutRectanglePath=function(t,e,r,a,o,s,l){var u=a/2,d=o/2,f=l==="auto"?If():l;t.beginPath&&t.beginPath(),t.moveTo(e-u+f,r-d),t.lineTo(e+u-f,r-d),t.lineTo(e+u,r-d+f),t.lineTo(e+u,r+d-f),t.lineTo(e+u-f,r+d),t.lineTo(e-u+f,r+d),t.lineTo(e-u,r+d-f),t.lineTo(e-u,r-d+f),t.closePath()};da.drawBarrelPath=function(t,e,r,a,o){var s=a/2,l=o/2,u=e-s,d=e+s,f=r-l,v=r+l,h=uf(a,o),g=h.widthOffset,y=h.heightOffset,m=h.ctrlPtOffsetPct*g;t.beginPath&&t.beginPath(),t.moveTo(u,f+y),t.lineTo(u,v-y),t.quadraticCurveTo(u+m,v,u+g,v),t.lineTo(d-g,v),t.quadraticCurveTo(d-m,v,d,v-y),t.lineTo(d,f+y),t.quadraticCurveTo(d-m,f,d-g,f),t.lineTo(u+g,f),t.quadraticCurveTo(u+m,f,u,f+y),t.closePath()};var Fp=Math.sin(0),jp=Math.cos(0),Ef={},Sf={},mm=Math.PI/40;for(var gi=0*Math.PI;gi<2*Math.PI;gi+=mm)Ef[gi]=Math.sin(gi),Sf[gi]=Math.cos(gi);da.drawEllipsePath=function(t,e,r,a,o){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,a/2,o/2,0,0,2*Math.PI);else for(var s,l,u=a/2,d=o/2,f=0*Math.PI;f<2*Math.PI;f+=mm)s=e-u*Ef[f]*Fp+u*Sf[f]*jp,l=r+d*Sf[f]*Fp+d*Ef[f]*jp,f===0?t.moveTo(s,l):t.lineTo(s,l);t.closePath()};var Zo={};Zo.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};Zo.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),a=r.boundingBox(),o=this.findContainerClientCoords(),s=t.full?Math.ceil(a.w):o[2],l=t.full?Math.ceil(a.h):o[3],u=ke(t.maxWidth)||ke(t.maxHeight),d=this.getPixelRatio(),f=1;if(t.scale!==void 0)s*=t.scale,l*=t.scale,f=t.scale;else if(u){var v=1/0,h=1/0;ke(t.maxWidth)&&(v=f*t.maxWidth/s),ke(t.maxHeight)&&(h=f*t.maxHeight/l),f=Math.min(v,h),s*=f,l*=f}u||(s*=d,l*=d,f*=d);var g=document.createElement("canvas");g.width=s,g.height=l,g.style.width=s+"px",g.style.height=l+"px";var y=g.getContext("2d");if(s>0&&l>0){y.clearRect(0,0,s,l),y.globalCompositeOperation="source-over";var m=this.getCachedZSortedEles();if(t.full)y.translate(-a.x1*f,-a.y1*f),y.scale(f,f),this.drawElements(y,m),y.scale(1/f,1/f),y.translate(a.x1*f,a.y1*f);else{var C=e.pan(),x={x:C.x*f,y:C.y*f};f*=e.zoom(),y.translate(x.x,x.y),y.scale(f,f),this.drawElements(y,m),y.scale(1/f,1/f),y.translate(-x.x,-x.y)}t.bg&&(y.globalCompositeOperation="destination-over",y.fillStyle=t.bg,y.rect(0,0,s,l),y.fill())}return g};function J2(t,e){for(var r=atob(t),a=new ArrayBuffer(r.length),o=new Uint8Array(a),s=0;s<r.length;s++)o[s]=r.charCodeAt(s);return new Blob([a],{type:e})}function Vp(t){var e=t.indexOf(",");return t.substr(e+1)}function ym(t,e,r){var a=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new Ni(function(o,s){try{e.toBlob(function(l){l!=null?o(l):s(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(l){s(l)}});case"blob":return J2(Vp(a()),r);case"base64":return Vp(a());case"base64uri":default:return a()}}Zo.png=function(t){return ym(t,this.bufferCanvasImage(t),"image/png")};Zo.jpg=function(t){return ym(t,this.bufferCanvasImage(t),"image/jpeg")};var wm={};wm.nodeShapeImpl=function(t,e,r,a,o,s,l,u){switch(t){case"ellipse":return this.drawEllipsePath(e,r,a,o,s);case"polygon":return this.drawPolygonPath(e,r,a,o,s,l);case"round-polygon":return this.drawRoundPolygonPath(e,r,a,o,s,l,u);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,a,o,s,u);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,a,o,s,l,u);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,a,o,s,u);case"barrel":return this.drawBarrelPath(e,r,a,o,s)}};var ek=xm,ot=xm.prototype;ot.CANVAS_LAYERS=3;ot.SELECT_BOX=0;ot.DRAG=1;ot.NODE=2;ot.BUFFER_COUNT=3;ot.TEXTURE_BUFFER=0;ot.MOTIONBLUR_BUFFER_NODE=1;ot.MOTIONBLUR_BUFFER_DRAG=2;function xm(t){var e=this,r=e.cy.window(),a=r.document;e.data={canvases:new Array(ot.CANVAS_LAYERS),contexts:new Array(ot.CANVAS_LAYERS),canvasNeedsRedraw:new Array(ot.CANVAS_LAYERS),bufferCanvases:new Array(ot.BUFFER_COUNT),bufferContexts:new Array(ot.CANVAS_LAYERS)};var o="-webkit-tap-highlight-color",s="rgba(0,0,0,0)";e.data.canvasContainer=a.createElement("div");var l=e.data.canvasContainer.style;e.data.canvasContainer.style[o]=s,l.position="relative",l.zIndex="0",l.overflow="hidden";var u=t.cy.container();u.appendChild(e.data.canvasContainer),u.style[o]=s;var d={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};_0()&&(d["-ms-touch-action"]="none",d["touch-action"]="none");for(var f=0;f<ot.CANVAS_LAYERS;f++){var v=e.data.canvases[f]=a.createElement("canvas");e.data.contexts[f]=v.getContext("2d"),Object.keys(d).forEach(function(ae){v.style[ae]=d[ae]}),v.style.position="absolute",v.setAttribute("data-id","layer"+f),v.style.zIndex=String(ot.CANVAS_LAYERS-f),e.data.canvasContainer.appendChild(v),e.data.canvasNeedsRedraw[f]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[ot.NODE].setAttribute("data-id","layer"+ot.NODE+"-node"),e.data.canvases[ot.SELECT_BOX].setAttribute("data-id","layer"+ot.SELECT_BOX+"-selectbox"),e.data.canvases[ot.DRAG].setAttribute("data-id","layer"+ot.DRAG+"-drag");for(var f=0;f<ot.BUFFER_COUNT;f++)e.data.bufferCanvases[f]=a.createElement("canvas"),e.data.bufferContexts[f]=e.data.bufferCanvases[f].getContext("2d"),e.data.bufferCanvases[f].style.position="absolute",e.data.bufferCanvases[f].setAttribute("data-id","buffer"+f),e.data.bufferCanvases[f].style.zIndex=String(-f-1),e.data.bufferCanvases[f].style.visibility="hidden";e.pathsEnabled=!0;var h=Nr(),g=function(Q){return{x:(Q.x1+Q.x2)/2,y:(Q.y1+Q.y2)/2}},y=function(Q){return{x:-Q.w/2,y:-Q.h/2}},m=function(Q){var le=Q[0]._private,de=le.oldBackgroundTimestamp===le.backgroundTimestamp;return!de},C=function(Q){return Q[0]._private.nodeKey},x=function(Q){return Q[0]._private.labelStyleKey},E=function(Q){return Q[0]._private.sourceLabelStyleKey},k=function(Q){return Q[0]._private.targetLabelStyleKey},b=function(Q,le,de,Ee,ze){return e.drawElement(Q,le,de,!1,!1,ze)},T=function(Q,le,de,Ee,ze){return e.drawElementText(Q,le,de,Ee,"main",ze)},R=function(Q,le,de,Ee,ze){return e.drawElementText(Q,le,de,Ee,"source",ze)},N=function(Q,le,de,Ee,ze){return e.drawElementText(Q,le,de,Ee,"target",ze)},D=function(Q){return Q.boundingBox(),Q[0]._private.bodyBounds},I=function(Q){return Q.boundingBox(),Q[0]._private.labelBounds.main||h},B=function(Q){return Q.boundingBox(),Q[0]._private.labelBounds.source||h},F=function(Q){return Q.boundingBox(),Q[0]._private.labelBounds.target||h},A=function(Q,le){return le},j=function(Q){return g(D(Q))},_=function(Q,le,de){var Ee=Q?Q+"-":"";return{x:le.x+de.pstyle(Ee+"text-margin-x").pfValue,y:le.y+de.pstyle(Ee+"text-margin-y").pfValue}},L=function(Q,le,de){var Ee=Q[0]._private.rscratch;return{x:Ee[le],y:Ee[de]}},$=function(Q){return _("",L(Q,"labelX","labelY"),Q)},V=function(Q){return _("source",L(Q,"sourceLabelX","sourceLabelY"),Q)},U=function(Q){return _("target",L(Q,"targetLabelX","targetLabelY"),Q)},H=function(Q){return y(D(Q))},K=function(Q){return y(B(Q))},Y=function(Q){return y(F(Q))},M=function(Q){var le=I(Q),de=y(I(Q));if(Q.isNode()){switch(Q.pstyle("text-halign").value){case"left":de.x=-le.w-(le.leftPad||0);break;case"right":de.x=-(le.rightPad||0);break}switch(Q.pstyle("text-valign").value){case"top":de.y=-le.h-(le.topPad||0);break;case"bottom":de.y=-(le.botPad||0);break}}return de},q=e.data.eleTxrCache=new Lo(e,{getKey:C,doesEleInvalidateKey:m,drawElement:b,getBoundingBox:D,getRotationPoint:j,getRotationOffset:H,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),te=e.data.lblTxrCache=new Lo(e,{getKey:x,drawElement:T,getBoundingBox:I,getRotationPoint:$,getRotationOffset:M,isVisible:A}),ie=e.data.slbTxrCache=new Lo(e,{getKey:E,drawElement:R,getBoundingBox:B,getRotationPoint:V,getRotationOffset:K,isVisible:A}),se=e.data.tlbTxrCache=new Lo(e,{getKey:k,drawElement:N,getBoundingBox:F,getRotationPoint:U,getRotationOffset:Y,isVisible:A}),ue=e.data.lyrTxrCache=new vm(e);e.onUpdateEleCalcs(function(Q,le){q.invalidateElements(le),te.invalidateElements(le),ie.invalidateElements(le),se.invalidateElements(le),ue.invalidateElements(le);for(var de=0;de<le.length;de++){var Ee=le[de]._private;Ee.oldBackgroundTimestamp=Ee.backgroundTimestamp}});var ce=function(Q){for(var le=0;le<Q.length;le++)ue.enqueueElementRefinement(Q[le].ele)};q.onDequeue(ce),te.onDequeue(ce),ie.onDequeue(ce),se.onDequeue(ce)}ot.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[ot.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[ot.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[ot.SELECT_BOX]=e;break}};var tk=typeof Path2D<"u";ot.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};ot.usePaths=function(){return tk&&this.pathsEnabled};ot.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};ot.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};ot.makeOffscreenCanvas=function(t,e){var r;if((typeof OffscreenCanvas>"u"?"undefined":_t(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(t,e);else{var a=this.cy.window(),o=a.document;r=o.createElement("canvas"),r.width=t,r.height=e}return r};[hm,gn,Rn,Gf,Va,Ai,Or,da,Zo,wm].forEach(function(t){Ue(ot,t)});var rk=[{name:"null",impl:tm},{name:"base",impl:fm},{name:"canvas",impl:ek}],nk=[{type:"layout",extensions:u2},{type:"renderer",extensions:rk}],Em={},Sm={};function Cm(t,e,r){var a=r,o=function(I){ct("Can not register `"+e+"` for `"+t+"` since `"+I+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(Uo.prototype[e])return o(e);Uo.prototype[e]=r}else if(t==="collection"){if(Jt.prototype[e])return o(e);Jt.prototype[e]=r}else if(t==="layout"){for(var s=function(I){this.options=I,r.call(this,I),nt(this._private)||(this._private={}),this._private.cy=I.cy,this._private.listeners=[],this.createEmitter()},l=s.prototype=Object.create(r.prototype),u=[],d=0;d<u.length;d++){var f=u[d];l[f]=l[f]||function(){return this}}l.start&&!l.run?l.run=function(){return this.start(),this}:!l.start&&l.run&&(l.start=function(){return this.run(),this});var v=r.prototype.stop;l.stop=function(){var D=this.options;if(D&&D.animate){var I=this.animations;if(I)for(var B=0;B<I.length;B++)I[B].stop()}return v?v.call(this):this.emit("layoutstop"),this},l.destroy||(l.destroy=function(){return this}),l.cy=function(){return this._private.cy};var h=function(I){return I._private.cy},g={addEventFields:function(I,B){B.layout=I,B.cy=h(I),B.target=I},bubble:function(){return!0},parent:function(I){return h(I)}};Ue(l,{createEmitter:function(){return this._private.emitter=new eu(g,this),this},emitter:function(){return this._private.emitter},on:function(I,B){return this.emitter().on(I,B),this},one:function(I,B){return this.emitter().one(I,B),this},once:function(I,B){return this.emitter().one(I,B),this},removeListener:function(I,B){return this.emitter().removeListener(I,B),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(I,B){return this.emitter().emit(I,B),this}}),ut.eventAliasesOn(l),a=s}else if(t==="renderer"&&e!=="null"&&e!=="base"){var y=km("renderer","base"),m=y.prototype,C=r,x=r.prototype,E=function(){y.apply(this,arguments),C.apply(this,arguments)},k=E.prototype;for(var b in m){var T=m[b],R=x[b]!=null;if(R)return o(b);k[b]=T}for(var N in x)k[N]=x[N];m.clientFunctions.forEach(function(D){k[D]=k[D]||function(){Nt("Renderer does not implement `renderer."+D+"()` on its prototype")}}),a=E}else if(t==="__proto__"||t==="constructor"||t==="prototype")return Nt(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return Yp({map:Em,keys:[t,e],value:a})}function km(t,e){return Qp({map:Em,keys:[t,e]})}function ak(t,e,r,a,o){return Yp({map:Sm,keys:[t,e,r,a],value:o})}function ik(t,e,r,a){return Qp({map:Sm,keys:[t,e,r,a]})}var Cf=function(){if(arguments.length===2)return km.apply(null,arguments);if(arguments.length===3)return Cm.apply(null,arguments);if(arguments.length===4)return ik.apply(null,arguments);if(arguments.length===5)return ak.apply(null,arguments);Nt("Invalid extension access syntax")};Uo.prototype.extension=Cf;nk.forEach(function(t){t.extensions.forEach(function(e){Cm(t.type,e.name,e.impl)})});var bm=function t(){if(!(this instanceof t))return new t;this.length=0},Aa=bm.prototype;Aa.instanceString=function(){return"stylesheet"};Aa.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};Aa.css=function(t,e){var r=this.length-1;if(Fe(t))this[r].properties.push({name:t,value:e});else if(nt(t))for(var a=t,o=Object.keys(a),s=0;s<o.length;s++){var l=o[s],u=a[l];if(u!=null){var d=dr.properties[l]||dr.properties[Hl(l)];if(d!=null){var f=d.name,v=u;this[r].properties.push({name:f,value:v})}}}return this};Aa.style=Aa.css;Aa.generateStyle=function(t){var e=new dr(t);return this.appendToStyle(e)};Aa.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],a=r.selector,o=r.properties;t.selector(a);for(var s=0;s<o.length;s++){var l=o[s];t.css(l.name,l.value)}}return t};var ok="3.30.4",Fa=function(e){if(e===void 0&&(e={}),nt(e))return new Uo(e);if(Fe(e))return Cf.apply(Cf,arguments)};Fa.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(Fa),t.apply(null,e),this};Fa.warnings=function(t){return ag(t)};Fa.version=ok;Fa.stylesheet=Fa.Stylesheet=bm;const Tm=(t,e)=>{if(t._id===e)return t;for(let r of t.children||[]){const a=Tm(r,e);if(a)return a}return null},sk=({rootSelected:t,nodeSelected:e,setNodeSelected:r,setNodeVersion:a,nodeVersion:o,tree:s,getTree:l})=>{const u=v=>{const h=Tm(s,v);h&&r(h)},d=Se.useRef(null),f=(v,h,g=null)=>{const y=v.versions[v.prestige].status==="active"?"green":v.status==="trimmed"?"red":"#666";h.add({data:{id:v._id,name:`${v.name} `,globalValues:v.globalValues,status:v.versions[v.prestige].status,prestige:v.prestige,versions:v.versions,rootOwner:v.rootOwner,contributors:v.contributors,bgColor:y}}),g&&h.add({data:{source:g,target:v._id}}),(v.children||[]).forEach(m=>f(m,h,v._id))};return Se.useEffect(()=>{d.current||(d.current=Fa({container:document.getElementById("cy"),style:[{selector:"node",style:{"background-color":"data(bgColor)",label:"data(name)"}},{selector:"edge",style:{width:2,"line-color":"#ccc"}},{selector:"node.selected",style:{"border-width":4,"border-color":"#FF4500","border-style":"dashed"}},{selector:"node.root",style:{"border-width":4,"border-color":"#FFD700","border-style":"solid"}}]}));const v=d.current;if(v.elements().remove(),s){f(s,v),v.layout({name:"breadthfirst",directed:!0,transform:function(g,y){return{x:y.x,y:-y.y}}}).run();const h=v.getElementById(t);h&&h.addClass("root"),v.center(h)}},[s,e,a,t]),Se.useEffect(()=>{const v=d.current;if(v&&e){v.nodes().removeClass("selected");const h=v.getElementById(e._id);h&&(h.addClass("selected"),v.center(h))}},[e]),Se.useEffect(()=>{!d.current||!s||d.current.on("tap","node",v=>{const h=v.target.id(),g=d.current.getElementById(h).data();d.current.nodes().removeClass("selected"),v.target.addClass("selected"),u(g.id),a(g.prestige)})},[s]),O.jsxs("div",{children:[O.jsx("div",{id:"cy",style:{width:"100%",height:"600px"}}),O.jsx("div",{className:"selected-node",children:e?O.jsx("p",{children:`${e.name}`}):O.jsx("p",{children:"No node selected"})}),O.jsx(D0,{nodeSelected:e,nodeVersion:o,getTree:l,rootSelected:t})]})},lk=({nodeSelected:t,nodeVersion:e,setNodeVersion:r,getTree:a,rootSelected:o})=>{const[s,l]=Se.useState([]),[u,d]=Se.useState(""),[f,v]=Se.useState(""),[h,g]=Se.useState(null),[y,m]=Se.useState(""),[C,x]=Se.useState({}),[E,k]=Se.useState(null),[b,T]=Se.useState(""),R="https://67.169.204.254";Se.useEffect(()=>{if(t&&e!==null){const L=t.versions[e];if(L!=null&&L.values?l(Object.entries(L.values)):l([]),L!=null&&L.goals&&typeof L.goals=="object"){const $={};Object.entries(L.goals).forEach(([V,U])=>{$[V]=U}),x($)}else x({})}else l([]),x({})},[e,t]);const N=L=>{const $=L.target.value;r(Number($))},D=async()=>{const L=Pt.get("token");if(!L){console.error("No JWT token found!");return}try{const $=await fetch(`${R}/add-prestige`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L}`},body:JSON.stringify({nodeId:t._id})});if($.ok){const V=await $.json();a(o)}else console.error("Failed to add prestige:",await $.text())}catch($){console.error("Error adding prestige:",$)}},I=L=>{k(L),T(C[L]||"")},B=L=>{T(L.target.value)},F=async L=>{const $=Pt.get("token");if(!$){console.error("No JWT token found!");return}try{const V=b,U=await fetch(`${R}/edit-goal`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${$}`},body:JSON.stringify({nodeId:t._id,key:L,goal:V,version:e})});if(U.ok){const H=await U.json();x(K=>({...K,[L]:V})),k(null),T(""),a(o)}else console.error("Failed to save goal:",await U.text())}catch(V){console.error("Error saving goal:",V)}},A=async(L,$)=>{const V=Pt.get("token");if(!V){console.error("No JWT token found!");return}try{const U=await fetch(`${R}/edit-value`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${V}`},body:JSON.stringify({nodeId:t._id,key:L,value:$,version:e})});U.ok?(l(H=>H.map(([K,Y])=>K===L?[K,$]:[K,Y])),g(null),m(""),a(o)):console.error("Failed to save value:",await U.text())}catch(U){console.error("Error saving value:",U)}},j=(L,$)=>{g(L),m($)},_=L=>{m(L.target.value)};return O.jsxs("div",{className:"node-data-container",children:[O.jsx("h3",{children:"Node Data"}),t?O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:"topLeft",children:[O.jsxs("p",{children:[O.jsx("strong",{children:"Name:"})," ",t.name]}),O.jsxs("p",{children:[O.jsx("strong",{children:"Status:"})," ",t.versions[e].status]}),O.jsxs("div",{children:[O.jsx("label",{children:"Prestige: "}),O.jsx("select",{value:e,onChange:N,style:{padding:"5px"},children:t.versions.map((L,$)=>O.jsxs("option",{value:$,children:["Prestige: ",L.prestige]},L._id))}),O.jsx("div",{style:{marginTop:"10px"},children:O.jsx("button",{onClick:D,children:"Add Prestige"})})]})]}),O.jsxs("div",{className:"topRight",children:[O.jsx("h5",{children:"Global Values"}),O.jsxs("table",{style:{width:"100%",border:"1px solid #ddd",borderCollapse:"collapse"},children:[O.jsx("thead",{children:O.jsxs("tr",{children:[O.jsx("th",{children:"Value"}),O.jsx("th",{children:"Amount"})]})}),O.jsx("tbody",{children:t.globalValues&&Object.entries(t.globalValues).map(([L,$],V)=>O.jsxs("tr",{children:[O.jsx("td",{children:L}),O.jsx("td",{children:$})]},V))})]})]}),O.jsxs("div",{className:"bottomHalf",children:[O.jsx("h5",{children:"Version Values and Goals"}),O.jsxs("table",{style:{width:"100%",border:"1px solid #ddd",borderCollapse:"collapse"},children:[O.jsx("thead",{children:O.jsxs("tr",{children:[O.jsx("th",{children:"Value"}),O.jsx("th",{children:"Amount"}),O.jsx("th",{children:"Goal"})]})}),O.jsxs("tbody",{children:[s.map(([L,$])=>O.jsxs("tr",{children:[O.jsx("td",{children:L}),O.jsx("td",{children:h===L?O.jsxs("div",{children:[O.jsx("input",{type:"text",value:y,onChange:_,placeholder:"Edit value",autoFocus:!0}),O.jsx("button",{onClick:()=>A(L,y),children:"Save"})]}):O.jsx("span",{onClick:()=>j(L,$),style:{cursor:"pointer"},children:$})}),O.jsx("td",{children:E===L?O.jsxs("div",{children:[O.jsx("input",{type:"number",value:b,onChange:B,placeholder:"Enter goal"}),O.jsx("button",{onClick:()=>F(L),children:"Save"})]}):O.jsx("span",{onClick:()=>I(L),style:{cursor:"pointer"},children:C[L]!==void 0?C[L]:"No goal set"})})]},L)),O.jsxs("tr",{children:[O.jsx("td",{children:O.jsx("input",{type:"text",placeholder:"New Key",value:u,onChange:L=>d(L.target.value)})}),O.jsx("td",{children:O.jsx("input",{type:"number",placeholder:"New Value",value:f,onChange:L=>v(L.target.value)})}),O.jsx("td",{children:O.jsx("button",{onClick:()=>A(u,f),children:"Add"})})]})]})]})]})]}):O.jsx("p",{children:"No node selected"})]})},uk=({nodeSelected:t,userId:e,nodeVersion:r})=>{const[a,o]=Se.useState([]),[s,l]=Se.useState(""),[u,d]=Se.useState(!1),[f,v]=Se.useState(!1),[h,g]=Se.useState(""),y=Se.useRef(null),m="https://67.169.204.254",C=Pt.get("token"),x=async()=>{if(t){o([]),v(!0);try{const T=await fetch(`${m}/get-notes`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify({nodeId:t._id,version:r})}),R=await T.json();T.ok?o(R.notes||[]):g(R.message||"Error retrieving the notes.")}catch(T){console.error("Error fetching notes:",T),g("An error occurred while fetching the notes.")}finally{v(!1)}}};Se.useEffect(()=>{x()},[t,r,C]),Se.useEffect(()=>{var T;(T=y.current)==null||T.scrollIntoView({behavior:"smooth"})},[a]);const E=T=>{if(T.contentType==="text")return O.jsx("p",{children:T.content});if(T.contentType==="file"){const R=["mp4","mov","avi"],N=["jpg","jpeg","png","gif"],D=T.content.split(".").pop().toLowerCase();return N.includes(D)?O.jsx("img",{src:`${m}/uploads/${T.content}`,alt:"Note",style:{maxWidth:"300px",display:"block",marginTop:"10px"}}):R.includes(D)?O.jsxs("video",{controls:!0,style:{maxWidth:"300px",display:"block",marginTop:"10px"},children:[O.jsx("source",{src:`${m}/uploads/${T.content}`,type:`video/${D}`}),"Your browser does not support the video tag."]}):null}return null},k=async T=>{if(T.preventDefault(),!t){g("No Node Selected.");return}if(!s.trim()){g("Please write a note before submitting.");return}v(!0);try{const R=await fetch(`${m}/create-Note`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify({content:s,contentType:"text",userId:e,nodeId:t._id,version:r,isReflection:u})}),N=await R.json();R.ok?(g(N.message),l(""),d(!1),x()):g(N.message||"Error creating the note.")}catch(R){console.error("Error:",R),g("An error occurred while creating the note.")}finally{v(!1)}},b=async T=>{if(!t){g("No Node Selected.");return}const R=T.target.files[0];if(!R)return;v(!0);const N=new FormData;N.append("file",R),N.append("contentType","file"),N.append("userId",e),N.append("nodeId",t._id),N.append("version",r),N.append("isReflection",u);try{const D=await fetch(`${m}/create-Note`,{method:"POST",headers:{Authorization:`Bearer ${C}`},body:N}),I=await D.json();D.ok?(g(I.message),x()):g(I.message||"Error uploading the file.")}catch{g("An error occurred while uploading the file.")}finally{v(!1)}};return O.jsxs("div",{children:[O.jsx("h3",{children:"Notes and Reflections"}),O.jsx("div",{style:{maxHeight:"400px",maxWidth:"600px",overflowY:"scroll",border:"1px solid #ccc",marginTop:"20px"},children:f?O.jsx("p",{children:"Loading notes..."}):O.jsxs("div",{children:[a.length>0?a.map(T=>O.jsxs("div",{style:{marginBottom:"5px"},children:[O.jsxs("p",{children:[O.jsxs("strong",{children:[T.username,T.isReflection&&O.jsx("span",{children:" (Reflection)"}),":"]}),T.createdAt]}),O.jsx("div",{style:{maxWidth:"100%"},children:E(T)})]},T._id)):O.jsx("p",{children:"No notes available for this node."}),O.jsx("div",{ref:y})]})}),t?O.jsxs(O.Fragment,{children:[O.jsxs("form",{onSubmit:k,children:[O.jsx("div",{children:O.jsx("textarea",{value:s,onChange:T=>l(T.target.value),placeholder:"Write your note here...",rows:5,style:{width:"100%"}})}),O.jsx("div",{children:O.jsxs("label",{children:[O.jsx("input",{type:"checkbox",checked:u,onChange:T=>d(T.target.checked)}),"Is this a reflection?"]})}),O.jsx("button",{type:"submit",disabled:f,children:f?"Submitting...":"Submit"})]}),O.jsx("div",{children:O.jsx("input",{type:"file",accept:"image/*,video/*",onChange:b,disabled:f})}),h&&O.jsx("p",{children:h})]}):O.jsx("p",{children:"No Node Selected."})]})},ck=({nodeSelected:t})=>{const[e,r]=Se.useState([]),[a,o]=Se.useState(!1),s="https://67.169.204.254",l=Se.useCallback(async()=>{const u=Pt.get("token");if(!u){console.error("No JWT token found!");return}if(!t||!t._id){console.error("Node ID is not available");return}if(!a){o(!0);try{const d=await fetch(`${s}/get-contributions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({nodeId:t._id})});if(!d.ok){console.error("Failed to fetch contributions:",d.statusText);return}const f=await d.json();f.contributions&&f.contributions.length>0&&r(f.contributions)}catch(d){console.error("Error fetching contributions:",d)}finally{o(!1)}}},[t]);return Se.useEffect(()=>{a||l()},[t,l]),O.jsxs("div",{style:{maxHeight:"400px",overflowY:"auto"},children:[O.jsx("h3",{children:"Contributions"}),O.jsx("ul",{children:e.map(u=>O.jsxs("li",{children:[O.jsxs("p",{children:[O.jsx("strong",{children:"Username:"})," ",u.username]}),O.jsxs("p",{children:[O.jsx("strong",{children:"Action:"})," ",u.action]}),O.jsxs("p",{children:[O.jsx("strong",{children:"Node Version:"})," ",u.nodeVersion]}),u.additionalInfo&&O.jsxs("div",{children:[u.action==="editValue"&&O.jsxs("p",{children:[O.jsx("strong",{children:"Edited Value:"})," ",JSON.stringify(u.additionalInfo.valueEdited)]}),u.action==="editStatus"&&O.jsxs("p",{children:[O.jsx("strong",{children:"Status:"})," ",u.statusEdited]}),u.action==="trade"&&O.jsxs("p",{children:[O.jsx("strong",{children:"Trade ID:"})," ",u.additionalInfo]}),u.action==="invite"&&u.additionalInfo&&O.jsxs("div",{children:[O.jsxs("p",{children:[O.jsx("strong",{children:"Invite Action:"})," ",u.additionalInfo.inviteAction.action]}),O.jsxs("p",{children:[O.jsx("strong",{children:"Receiving Username:"})," ",u.additionalInfo.inviteAction.receivingUsername||"N/A"]})]}),u.action==="editSchedule"&&u.scheduleEdited&&O.jsxs("p",{children:[O.jsx("strong",{children:"Schedule Edited:"}),"Date: ",u.scheduleEdited.date&&new Date(u.scheduleEdited.date).toLocaleString(),", Reeffect Time: ",u.scheduleEdited.reeffectTime]}),u.action==="editGoal"&&u.additionalInfo&&O.jsxs("p",{children:[O.jsx("strong",{children:"Goal Edited:"})," ",JSON.stringify(u.additionalInfo.goalEdited)]})]}),O.jsxs("p",{children:[O.jsx("strong",{children:"Date:"})," ",new Date(u.date).toLocaleString()]})]},u._id))})]})},Dm=(t,e=[])=>(t.versions&&t.versions.length>0&&t.versions.forEach(r=>{r&&e.push({nodeId:t._id,nodeName:t.name,status:r.status,schedule:r.schedule,dateCreated:r.dateCreated})}),t.children&&t.children.length>0&&t.children.forEach(r=>Dm(r,e)),e),fk=({nodeSelected:t,tree:e,nodeVersion:r,getTree:a,rootSelected:o})=>{var j,_,L,$;if(!t)return O.jsxs("div",{children:[O.jsx("h3",{children:"Schedule"}),O.jsx("p",{children:"No node selected"})]});const[s,l]=Se.useState({active:!0,trimmed:!1,completed:!1}),[u,d]=Se.useState([]),[f,v]=Se.useState(null),[h,g]=Se.useState((_=(j=t==null?void 0:t.versions)==null?void 0:j[r])==null?void 0:_.schedule),[y,m]=Se.useState(!1),[C,x]=Se.useState(h||""),[E,k]=Se.useState((($=(L=t==null?void 0:t.versions)==null?void 0:L[r])==null?void 0:$.reeffectTime)||0),b="https://67.169.204.254";Se.useEffect(()=>{var V,U;t&&((V=t.versions)==null?void 0:V.length)>0&&(g(t.versions[r].schedule),k(((U=t.versions[r])==null?void 0:U.reeffectTime)||0))},[t,r]);const T=(V,U)=>{if(V._id===U._id)return{...V};if(V.children&&V.children.length>0)for(let H of V.children){const K=T(H,U);if(K)return K}return null};Se.useEffect(()=>{if(t&&e){const V=T(e,t);v(V)}},[t,e]),Se.useEffect(()=>{if(f){const U=Dm(f).filter(H=>s[H.status]);d(U)}},[s,f]);const R=V=>{l(U=>({...U,[V]:!U[V]}))},N=V=>{x(V.target.value)},D=V=>{k(V.target.value)},I=async V=>{V.preventDefault();const U=Pt.get("token");if(!U){console.error("No JWT token found!");return}try{const H=await fetch(`${b}/update-schedule`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${U}`},body:JSON.stringify({nodeId:t._id,newSchedule:C,reeffectTime:E,versionIndex:r})}),K=await H.json();if(a(o),!H.ok)throw console.error("error changing schedule",K),new Error("Failed to create node");a(o),g(C),m(!1)}catch(H){console.error("Error setting schedule:",H.message)}},B=[],F=[],A=[];return u.forEach(V=>{V.schedule&&new Date(V.schedule),V.schedule?F.push(V):A.push(V)}),B.sort((V,U)=>new Date(V.schedule)-new Date(U.schedule)),O.jsxs("div",{children:[O.jsx("h3",{children:"Schedule"}),O.jsxs("div",{className:"schedule-container",children:[h?O.jsxs("div",{children:[O.jsxs("p",{children:["Scheduled for: ",h]}),O.jsxs("p",{children:["Reeffect time: ",E," hrs"]})]}):O.jsx("p",{children:"No schedule for this node"}),O.jsx("button",{onClick:()=>m(!y),children:y?"Cancel":"Edit Schedule"}),y&&O.jsxs("form",{onSubmit:I,children:[O.jsx("input",{type:"datetime-local",value:C,onChange:N,required:!0}),O.jsx("br",{}),O.jsxs("label",{children:["Re-effect Time (hours):",O.jsx("input",{type:"number",value:E,onChange:D,required:!0,step:"0.1",min:"0",max:"1000000"})]}),O.jsx("br",{}),O.jsx("button",{type:"submit",children:"Submit Schedule"})]}),O.jsxs("div",{children:[O.jsxs("label",{children:[O.jsx("input",{type:"checkbox",checked:s.active,onChange:()=>R("active")}),"Active"]}),O.jsxs("label",{children:[O.jsx("input",{type:"checkbox",checked:s.trimmed,onChange:()=>R("trimmed")}),"Trimmed"]}),O.jsxs("label",{children:[O.jsx("input",{type:"checkbox",checked:s.completed,onChange:()=>R("completed")}),"Completed"]})]}),O.jsxs("div",{children:[B.length>0&&O.jsxs("div",{children:[O.jsx("h4",{children:"Today"}),O.jsxs("table",{children:[O.jsx("thead",{children:O.jsxs("tr",{children:[O.jsx("th",{children:"Node Name"}),O.jsx("th",{children:"Scheduled"}),O.jsx("th",{children:"Status"})]})}),O.jsx("tbody",{children:B.map((V,U)=>O.jsxs("tr",{children:[O.jsx("td",{children:V.nodeName}),O.jsx("td",{children:V.schedule}),O.jsx("td",{children:V.status})]},U))})]})]}),F.length>0&&O.jsxs("div",{children:[O.jsx("h4",{children:"Upcoming"}),O.jsxs("table",{children:[O.jsx("thead",{children:O.jsxs("tr",{children:[O.jsx("th",{children:"Node Name"}),O.jsx("th",{children:"Scheduled"}),O.jsx("th",{children:"Status"})]})}),O.jsx("tbody",{children:F.map((V,U)=>O.jsxs("tr",{children:[O.jsx("td",{children:V.nodeName}),O.jsx("td",{children:V.schedule}),O.jsx("td",{children:V.status})]},U))})]})]}),A.length>0&&O.jsxs("div",{children:[O.jsx("h4",{children:"Floating"}),O.jsxs("table",{children:[O.jsx("thead",{children:O.jsxs("tr",{children:[O.jsx("th",{children:"Node Name"}),O.jsx("th",{children:"Status"}),O.jsx("th",{children:"Date Created"})]})}),O.jsx("tbody",{children:A.map((V,U)=>O.jsxs("tr",{children:[O.jsx("td",{children:V.nodeName}),O.jsx("td",{children:V.status}),O.jsx("td",{children:new Date(V.dateCreated).toLocaleString()})]},U))})]})]}),u.length===0&&O.jsx("p",{children:"No schedules found."})]})]})]})},dk=({setRootSelected:t,rootSelected:e,rootNodes:r,setRootNodes:a,userId:o})=>{const[s,l]=Se.useState(""),[u,d]=Se.useState(""),[f,v]=Se.useState(""),[h,g]=Se.useState(null),[y,m]=Se.useState(""),[C,x]=Se.useState(""),[E,k]=Se.useState(!1),b=Pt.get("token"),T="https://67.169.204.254",R=(_,L)=>{x(`Error during ${L}: ${_.message||_}`)},N=async _=>{k(!0);try{const L=await fetch(`${T}/get-root-details`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:_})}),$=await L.json();L.ok?g($):x(`Failed to fetch node details: ${$.message}`)}catch(L){R(L,"fetching node details")}finally{k(!1)}};Se.useEffect(()=>{if(!b)return;(async()=>{k(!0);try{const L=await fetch(`${T}/get-root-nodes`,{method:"GET",headers:{Authorization:`Bearer ${b}`}}),$=await L.json();L.ok?Array.isArray($.roots)&&a($.roots):x(`Failed to fetch root nodes: ${$.message}`)}catch(L){R(L,"fetching root nodes")}finally{k(!1)}})()},[b,a]),Se.useEffect(()=>{e&&N(e)},[e]);const D=async(_,L)=>{k(!0);try{const $=await fetch(`${T}/invite`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify(L)}),V=await $.json();$.ok?(x(V.message||"Action completed successfully"),N(e),_==="invite"&&m("")):x(`Failed to ${_}: ${V.message}`)}catch($){R($,_)}finally{k(!1)}},I=()=>{h&&D("invite",{userReceiving:y,isToBeOwner:!1,isUninviting:!1,rootId:e})},B=_=>{h&&D("remove",{userReceiving:_,isToBeOwner:!1,isUninviting:!0,rootId:e})},F=_=>{h&&D("transfer-ownership",{userReceiving:_,isToBeOwner:!0,isUninviting:!1,rootId:e})},A=()=>{h&&(h.rootOwner._id===o?h.contributors.length>0?alert("Your tree has contributors. Please assign a new owner before leaving."):D("leave",{userReceiving:o,isToBeOwner:!1,isUninviting:!0,rootId:e}).then(()=>{a(L=>L.filter($=>$!==e)),t(null),g(null)}):D("leave",{userReceiving:o,isToBeOwner:!1,isUninviting:!0,rootId:e}).then(()=>{a(L=>L.filter($=>$!==e)),t(null),g(null)}))},j=async _=>{if(_.preventDefault(),!b){x("No JWT token found!");return}const L=null;k(!0);try{const $=await fetch(`${T}/add-node`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify({parentId:L,name:s,schedule:u,reeffectTime:f,isRoot:!0})}),V=await $.json();if(!$.ok)throw x(`Error creating node: ${V.message}`),new Error("Failed to create node");x("Node created successfully!"),a(U=>[...U,V.newNode._id]),t(V.newNode._id),await N(V.newNode._id),l(""),d(""),v("")}catch($){x(`Error creating node: ${$.message}`)}finally{k(!1)}};return O.jsxs("div",{children:[O.jsxs("div",{children:[O.jsx("h3",{children:"Existing Root Nodes"}),O.jsxs("select",{value:e||"",onChange:_=>t(_.target.value),style:{width:"100%",padding:"8px"},children:[O.jsx("option",{value:"",disabled:!0,children:"Select a root node"}),r.map(_=>O.jsx("option",{value:_,children:_},_))]})]}),O.jsxs("div",{children:[O.jsx("h3",{children:"Create a New Root Node"}),O.jsxs("form",{onSubmit:j,children:[O.jsx("input",{type:"text",placeholder:"Enter root node name",value:s,onChange:_=>l(_.target.value),required:!0}),O.jsx("button",{type:"submit",disabled:E,children:E?"Creating...":"Create Root Node"})]})]}),h&&O.jsxs("div",{children:[O.jsx("h3",{children:"Selected Root Details"}),O.jsxs("p",{children:["Root Owner: ",h.rootOwner.username]}),O.jsx("h4",{children:"Contributors:"}),O.jsx("ul",{children:h.contributors.map(_=>O.jsxs("li",{children:[_.username," ",h.rootOwner._id===o&&O.jsxs(O.Fragment,{children:[O.jsx("button",{onClick:()=>B(_._id),children:"Remove"}),O.jsx("button",{onClick:()=>F(_._id),children:"Transfer Ownership"})]})]},_._id))}),h.rootOwner._id===o?O.jsxs(O.Fragment,{children:[O.jsx("h4",{children:"Invite Contributor"}),O.jsx("input",{type:"text",value:y,onChange:_=>m(_.target.value),placeholder:"Enter username"}),O.jsx("button",{onClick:I,children:"Invite"}),C&&O.jsx("div",{children:C}),O.jsx("button",{onClick:A,children:"Leave Node"})]}):O.jsx("button",{onClick:A,children:"Leave Node"})]})]})},vk=()=>{const[t,e]=Se.useState([]),[r,a]=Se.useState(!0),[o,s]=Se.useState(null),l="https://67.169.204.254",u=Pt.get("token");Se.useEffect(()=>{(async()=>{try{const v=await fetch(`${l}/pending-invites`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`}}),h=await v.json();v.ok?e(h.invites):s(h.message||"Failed to fetch invites.")}catch{s("Error fetching invites")}finally{a(!1)}})()},[u]);const d=async(f,v)=>{try{const h=await fetch(`${l}/invite/accept`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({inviteId:f,acceptInvite:v})}),g=await h.json();h.ok?e(y=>y.filter(m=>m._id!==f)):s(g.message||"Failed to respond to invite.")}catch{s("Error responding to invite")}};return r?O.jsx("div",{children:"Loading..."}):o?O.jsx("div",{children:o}):O.jsxs("div",{children:[O.jsx("h3",{children:"Your Pending Invites"}),t.length===0?O.jsx("p",{children:"No pending invites"}):O.jsx("ul",{children:t.map(f=>O.jsxs("li",{children:["From: ",f.userInviting.username,", root: ",f.rootId.name," ","(Status: ",f.status,")",O.jsxs("div",{children:[O.jsx("button",{onClick:()=>d(f._id,!0),children:"Accept"}),O.jsx("button",{onClick:()=>d(f._id,!1),children:"Decline"})]})]},f._id))})]})},hk=({username:t,userId:e,onLogout:r,rootNodes:a,setRootNodes:o,rootSelected:s,setRootSelected:l})=>{const[u,d]=Se.useState(!1),[f,v]=Se.useState(!1),[h,g]=Se.useState(!1),y=()=>{r&&r()},m=()=>{v(x=>!x)},C=()=>{g(x=>!x)};return O.jsxs("div",{className:"account-tab",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[O.jsx("span",{className:"account-info",children:u?O.jsxs("div",{children:[O.jsxs("p",{children:["Account Name: ",t]}),O.jsxs("p",{children:["User ID: ",e]}),O.jsx("button",{onClick:y,children:"Logout"}),O.jsx("button",{onClick:m,children:f?"Hide Roots":"Show Roots"}),O.jsx("button",{onClick:C,children:h?"Hide Invites":"Show Invites"})]}):O.jsx("p",{children:"Profile"})}),f&&O.jsx("div",{className:"account-tab-content",children:O.jsx(dk,{rootNodes:a,setRootNodes:o,setRootSelected:l,rootSelected:s,userId:e})}),h&&O.jsx("div",{className:"account-tab-content-2",children:O.jsx(vk,{userId:e})})]})},pk=({setIsLoggedIn:t,setUsername:e,setUserId:r,userId:a})=>{const[o,s]=Se.useState(!1),[l,u]=Se.useState(""),[d,f]=Se.useState(""),[v,h]=Se.useState(""),g="https://67.169.204.254",y=async()=>{try{const x=await fetch(`${g}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:l,password:d})}),E=await x.json();x.ok?(console.log(E),Pt.set("token",E.token,{expires:7,secure:!1}),Pt.set("username",l,{expires:7,secure:!1}),Pt.set("userId",E.userId,{expires:7,secure:!1}),Pt.set("loggedIn",!0,{expires:7,secure:!1}),e(l),r(E.userId),t(!0)):h(E.message||"Login failed.")}catch(x){console.error("Error during login:",x),h("An error occurred. Please try again.")}},m=async()=>{try{const x=await fetch(`${g}/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:l,password:d})}),E=await x.json();x.ok?(h("Registration successful! You can now log in."),s(!1)):h(E.message||"Registration failed.")}catch(x){console.error("Error during registration:",x),h("An error occurred. Please try again.")}},C=x=>{x.preventDefault(),o?m():y()};return O.jsxs("div",{className:"login-container",children:[O.jsx("h2",{children:o?"Register":"Login"}),O.jsxs("form",{onSubmit:C,children:[O.jsx("div",{children:O.jsx("input",{type:"text",placeholder:"Username",value:l,onChange:x=>u(x.target.value)})}),O.jsx("div",{children:O.jsx("input",{type:"password",placeholder:"Password",value:d,onChange:x=>f(x.target.value)})}),O.jsx("button",{type:"submit",children:o?"Register":"Login"})]}),O.jsx("p",{children:v}),O.jsxs("p",{children:[o?"Already have an account?":"Don't have an account yet?",O.jsx("button",{onClick:()=>s(!o),children:o?"Login":"Register"})]})]})},gk=()=>{const[t,e]=Se.useState(!1),[r,a]=Se.useState(""),[o,s]=Se.useState(""),[l,u]=Se.useState([]),[d,f]=Se.useState(null),[v,h]=Se.useState(null),[g,y]=Se.useState(null),[m,C]=Se.useState(null),x="https://67.169.204.254";console.log(x),Se.useEffect(()=>{const b=Pt.get("username"),T=Pt.get("userId");Pt.get("loggedIn")&&(e(!0),a(b),s(T))},[]),Se.useEffect(()=>{d&&E(d)},[d]);const E=async b=>{try{const T=await fetch(`${x}/get-tree`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rootId:b})});if(!T.ok)throw new Error("Failed to fetch tree");const R=await T.json();if(C(R),v){const N=(I,B)=>{if(I._id===B)return I;for(let F of I.children||[]){const A=N(F,B);if(A)return A}return null},D=N(R,v._id);D&&h(D)}}catch(T){console.error("Error loading tree:",T)}},k=()=>{Pt.remove("username"),Pt.remove("userId"),Pt.remove("loggedIn"),e(!1),a(""),s(""),Pt.remove("token")};return t?O.jsxs("div",{className:"app-container",children:[O.jsx("div",{className:"header",children:O.jsx(hk,{username:r,userId:o,onLogout:k,setRootNodes:u,rootNodes:l,setRootSelected:f,rootSelected:d})}),O.jsx("div",{className:"tree-view",children:O.jsx(sk,{rootSelected:d,getTree:E,tree:m,nodeSelected:v,setNodeSelected:h,nodeVersion:g,setNodeVersion:y})}),O.jsxs("div",{className:"main-content",children:[O.jsx("div",{className:"node-data",children:O.jsx(lk,{nodeSelected:v,nodeVersion:g,setNodeVersion:y,getTree:E,rootSelected:d,tree:m})}),O.jsx("div",{className:"notes",children:O.jsx(uk,{nodeSelected:v,userId:o,nodeVersion:g})})]}),O.jsxs("div",{className:"side-content",children:[O.jsx("div",{className:"transaction",children:O.jsx(ck,{nodeSelected:v})}),O.jsx("div",{className:"schedule",children:O.jsx(fk,{nodeSelected:v,tree:m,nodeVersion:g,getTree:E,rootSelected:d})})]})]}):O.jsx(pk,{setIsLoggedIn:e,setUsername:a,setUserId:s})};E0.createRoot(document.getElementById("root")).render(O.jsx(Se.StrictMode,{children:O.jsx(gk,{})}));
