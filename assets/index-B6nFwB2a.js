(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();var Uc={exports:{}},xo={},Hc={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ch;function b0(){if(Ch)return Xe;Ch=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),h=Symbol.iterator;function g(L){return L===null||typeof L!="object"?null:(L=h&&L[h]||L["@@iterator"],typeof L=="function"?L:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,S={};function x(L,_,Z){this.props=L,this.context=_,this.refs=S,this.updater=Z||y}x.prototype.isReactComponent={},x.prototype.setState=function(L,_){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,_,"setState")},x.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function E(){}E.prototype=x.prototype;function b(L,_,Z){this.props=L,this.context=_,this.refs=S,this.updater=Z||y}var k=b.prototype=new E;k.constructor=b,m(k,x.prototype),k.isPureReactComponent=!0;var D=Array.isArray,B=Object.prototype.hasOwnProperty,N={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function O(L,_,Z){var te,oe={},le=null,ce=null;if(_!=null)for(te in _.ref!==void 0&&(ce=_.ref),_.key!==void 0&&(le=""+_.key),_)B.call(_,te)&&!T.hasOwnProperty(te)&&(oe[te]=_[te]);var ie=arguments.length-2;if(ie===1)oe.children=Z;else if(1<ie){for(var Q=Array(ie),ue=0;ue<ie;ue++)Q[ue]=arguments[ue+2];oe.children=Q}if(L&&L.defaultProps)for(te in ie=L.defaultProps,ie)oe[te]===void 0&&(oe[te]=ie[te]);return{$$typeof:t,type:L,key:le,ref:ce,props:oe,_owner:N.current}}function I(L,_){return{$$typeof:t,type:L.type,key:_,ref:L.ref,props:L.props,_owner:L._owner}}function j(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function M(L){var _={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(Z){return _[Z]})}var A=/\/+/g;function F(L,_){return typeof L=="object"&&L!==null&&L.key!=null?M(""+L.key):_.toString(36)}function z(L,_,Z,te,oe){var le=typeof L;(le==="undefined"||le==="boolean")&&(L=null);var ce=!1;if(L===null)ce=!0;else switch(le){case"string":case"number":ce=!0;break;case"object":switch(L.$$typeof){case t:case e:ce=!0}}if(ce)return ce=L,oe=oe(ce),L=te===""?"."+F(ce,0):te,D(oe)?(Z="",L!=null&&(Z=L.replace(A,"$&/")+"/"),z(oe,_,Z,"",function(ue){return ue})):oe!=null&&(j(oe)&&(oe=I(oe,Z+(!oe.key||ce&&ce.key===oe.key?"":(""+oe.key).replace(A,"$&/")+"/")+L)),_.push(oe)),1;if(ce=0,te=te===""?".":te+":",D(L))for(var ie=0;ie<L.length;ie++){le=L[ie];var Q=te+F(le,ie);ce+=z(le,_,Z,Q,oe)}else if(Q=g(L),typeof Q=="function")for(L=Q.call(L),ie=0;!(le=L.next()).done;)le=le.value,Q=te+F(le,ie++),ce+=z(le,_,Z,Q,oe);else if(le==="object")throw _=String(L),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.");return ce}function $(L,_,Z){if(L==null)return L;var te=[],oe=0;return z(L,te,"","",function(le){return _.call(Z,le,oe++)}),te}function H(L){if(L._status===-1){var _=L._result;_=_(),_.then(function(Z){(L._status===0||L._status===-1)&&(L._status=1,L._result=Z)},function(Z){(L._status===0||L._status===-1)&&(L._status=2,L._result=Z)}),L._status===-1&&(L._status=0,L._result=_)}if(L._status===1)return L._result.default;throw L._result}var W={current:null},U={transition:null},G={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:U,ReactCurrentOwner:N};function K(){throw Error("act(...) is not supported in production builds of React.")}return Xe.Children={map:$,forEach:function(L,_,Z){$(L,function(){_.apply(this,arguments)},Z)},count:function(L){var _=0;return $(L,function(){_++}),_},toArray:function(L){return $(L,function(_){return _})||[]},only:function(L){if(!j(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Xe.Component=x,Xe.Fragment=r,Xe.Profiler=o,Xe.PureComponent=b,Xe.StrictMode=a,Xe.Suspense=d,Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,Xe.act=K,Xe.cloneElement=function(L,_,Z){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var te=m({},L.props),oe=L.key,le=L.ref,ce=L._owner;if(_!=null){if(_.ref!==void 0&&(le=_.ref,ce=N.current),_.key!==void 0&&(oe=""+_.key),L.type&&L.type.defaultProps)var ie=L.type.defaultProps;for(Q in _)B.call(_,Q)&&!T.hasOwnProperty(Q)&&(te[Q]=_[Q]===void 0&&ie!==void 0?ie[Q]:_[Q])}var Q=arguments.length-2;if(Q===1)te.children=Z;else if(1<Q){ie=Array(Q);for(var ue=0;ue<Q;ue++)ie[ue]=arguments[ue+2];te.children=ie}return{$$typeof:t,type:L.type,key:oe,ref:le,props:te,_owner:ce}},Xe.createContext=function(L){return L={$$typeof:l,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:s,_context:L},L.Consumer=L},Xe.createElement=O,Xe.createFactory=function(L){var _=O.bind(null,L);return _.type=L,_},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(L){return{$$typeof:u,render:L}},Xe.isValidElement=j,Xe.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:H}},Xe.memo=function(L,_){return{$$typeof:f,type:L,compare:_===void 0?null:_}},Xe.startTransition=function(L){var _=U.transition;U.transition={};try{L()}finally{U.transition=_}},Xe.unstable_act=K,Xe.useCallback=function(L,_){return W.current.useCallback(L,_)},Xe.useContext=function(L){return W.current.useContext(L)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(L){return W.current.useDeferredValue(L)},Xe.useEffect=function(L,_){return W.current.useEffect(L,_)},Xe.useId=function(){return W.current.useId()},Xe.useImperativeHandle=function(L,_,Z){return W.current.useImperativeHandle(L,_,Z)},Xe.useInsertionEffect=function(L,_){return W.current.useInsertionEffect(L,_)},Xe.useLayoutEffect=function(L,_){return W.current.useLayoutEffect(L,_)},Xe.useMemo=function(L,_){return W.current.useMemo(L,_)},Xe.useReducer=function(L,_,Z){return W.current.useReducer(L,_,Z)},Xe.useRef=function(L){return W.current.useRef(L)},Xe.useState=function(L){return W.current.useState(L)},Xe.useSyncExternalStore=function(L,_,Z){return W.current.useSyncExternalStore(L,_,Z)},Xe.useTransition=function(){return W.current.useTransition()},Xe.version="18.3.1",Xe}var bh;function Nf(){return bh||(bh=1,Hc.exports=b0()),Hc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kh;function k0(){if(kh)return xo;kh=1;var t=Nf(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var v,h={},g=null,y=null;f!==void 0&&(g=""+f),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(y=d.ref);for(v in d)a.call(d,v)&&!s.hasOwnProperty(v)&&(h[v]=d[v]);if(u&&u.defaultProps)for(v in d=u.defaultProps,d)h[v]===void 0&&(h[v]=d[v]);return{$$typeof:e,type:u,key:g,ref:y,props:h,_owner:o.current}}return xo.Fragment=r,xo.jsx=l,xo.jsxs=l,xo}var Th;function T0(){return Th||(Th=1,Uc.exports=k0()),Uc.exports}var P=T0(),he=Nf(),cl={},qc={exports:{}},Dr={},Wc={exports:{}},Kc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dh;function D0(){return Dh||(Dh=1,function(t){function e(U,G){var K=U.length;U.push(G);e:for(;0<K;){var L=K-1>>>1,_=U[L];if(0<o(_,G))U[L]=G,U[K]=_,K=L;else break e}}function r(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var G=U[0],K=U.pop();if(K!==G){U[0]=K;e:for(var L=0,_=U.length,Z=_>>>1;L<Z;){var te=2*(L+1)-1,oe=U[te],le=te+1,ce=U[le];if(0>o(oe,K))le<_&&0>o(ce,oe)?(U[L]=ce,U[le]=K,L=le):(U[L]=oe,U[te]=K,L=te);else if(le<_&&0>o(ce,K))U[L]=ce,U[le]=K,L=le;else break e}}return G}function o(U,G){var K=U.sortIndex-G.sortIndex;return K!==0?K:U.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],f=[],v=1,h=null,g=3,y=!1,m=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(U){for(var G=r(f);G!==null;){if(G.callback===null)a(f);else if(G.startTime<=U)a(f),G.sortIndex=G.expirationTime,e(d,G);else break;G=r(f)}}function D(U){if(S=!1,k(U),!m)if(r(d)!==null)m=!0,H(B);else{var G=r(f);G!==null&&W(D,G.startTime-U)}}function B(U,G){m=!1,S&&(S=!1,E(O),O=-1),y=!0;var K=g;try{for(k(G),h=r(d);h!==null&&(!(h.expirationTime>G)||U&&!M());){var L=h.callback;if(typeof L=="function"){h.callback=null,g=h.priorityLevel;var _=L(h.expirationTime<=G);G=t.unstable_now(),typeof _=="function"?h.callback=_:h===r(d)&&a(d),k(G)}else a(d);h=r(d)}if(h!==null)var Z=!0;else{var te=r(f);te!==null&&W(D,te.startTime-G),Z=!1}return Z}finally{h=null,g=K,y=!1}}var N=!1,T=null,O=-1,I=5,j=-1;function M(){return!(t.unstable_now()-j<I)}function A(){if(T!==null){var U=t.unstable_now();j=U;var G=!0;try{G=T(!0,U)}finally{G?F():(N=!1,T=null)}}else N=!1}var F;if(typeof b=="function")F=function(){b(A)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,$=z.port2;z.port1.onmessage=A,F=function(){$.postMessage(null)}}else F=function(){x(A,0)};function H(U){T=U,N||(N=!0,F())}function W(U,G){O=x(function(){U(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){m||y||(m=!0,H(B))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(U){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var K=g;g=G;try{return U()}finally{g=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var K=g;g=U;try{return G()}finally{g=K}},t.unstable_scheduleCallback=function(U,G,K){var L=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?L+K:L):K=L,U){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=K+_,U={id:v++,callback:G,priorityLevel:U,startTime:K,expirationTime:_,sortIndex:-1},K>L?(U.sortIndex=K,e(f,U),r(d)===null&&U===r(f)&&(S?(E(O),O=-1):S=!0,W(D,K-L))):(U.sortIndex=_,e(d,U),m||y||(m=!0,H(B))),U},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(U){var G=g;return function(){var K=g;g=G;try{return U.apply(this,arguments)}finally{g=K}}}}(Kc)),Kc}var Ph;function P0(){return Ph||(Ph=1,Wc.exports=D0()),Wc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nh;function N0(){if(Nh)return Dr;Nh=1;var t=Nf(),e=P0();function r(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function s(n,i){l(n,i),l(n+"Capture",i)}function l(n,i){for(o[n]=i,n=0;n<i.length;n++)a.add(i[n])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},h={};function g(n){return d.call(h,n)?!0:d.call(v,n)?!1:f.test(n)?h[n]=!0:(v[n]=!0,!1)}function y(n,i,c,p){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function m(n,i,c,p){if(i===null||typeof i>"u"||y(n,i,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function S(n,i,c,p,w,C,R){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=p,this.attributeNamespace=w,this.mustUseProperty=c,this.propertyName=n,this.type=i,this.sanitizeURL=C,this.removeEmptyString=R}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){x[n]=new S(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];x[i]=new S(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){x[n]=new S(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){x[n]=new S(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){x[n]=new S(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){x[n]=new S(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){x[n]=new S(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){x[n]=new S(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){x[n]=new S(n,5,!1,n.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function b(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(E,b);x[i]=new S(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(E,b);x[i]=new S(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(E,b);x[i]=new S(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){x[n]=new S(n,1,!1,n.toLowerCase(),null,!1,!1)}),x.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){x[n]=new S(n,1,!1,n.toLowerCase(),null,!0,!0)});function k(n,i,c,p){var w=x.hasOwnProperty(i)?x[i]:null;(w!==null?w.type!==0:p||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(m(i,c,w,p)&&(c=null),p||w===null?g(i)&&(c===null?n.removeAttribute(i):n.setAttribute(i,""+c)):w.mustUseProperty?n[w.propertyName]=c===null?w.type===3?!1:"":c:(i=w.attributeName,p=w.attributeNamespace,c===null?n.removeAttribute(i):(w=w.type,c=w===3||w===4&&c===!0?"":""+c,p?n.setAttributeNS(p,i,c):n.setAttribute(i,c))))}var D=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),N=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),M=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),U=Symbol.iterator;function G(n){return n===null||typeof n!="object"?null:(n=U&&n[U]||n["@@iterator"],typeof n=="function"?n:null)}var K=Object.assign,L;function _(n){if(L===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);L=i&&i[1]||""}return`
`+L+n}var Z=!1;function te(n,i){if(!n||Z)return"";Z=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(se){var p=se}Reflect.construct(n,[],i)}else{try{i.call()}catch(se){p=se}n.call(i.prototype)}else{try{throw Error()}catch(se){p=se}n()}}catch(se){if(se&&p&&typeof se.stack=="string"){for(var w=se.stack.split(`
`),C=p.stack.split(`
`),R=w.length-1,q=C.length-1;1<=R&&0<=q&&w[R]!==C[q];)q--;for(;1<=R&&0<=q;R--,q--)if(w[R]!==C[q]){if(R!==1||q!==1)do if(R--,q--,0>q||w[R]!==C[q]){var Y=`
`+w[R].replace(" at new "," at ");return n.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",n.displayName)),Y}while(1<=R&&0<=q);break}}}finally{Z=!1,Error.prepareStackTrace=c}return(n=n?n.displayName||n.name:"")?_(n):""}function oe(n){switch(n.tag){case 5:return _(n.type);case 16:return _("Lazy");case 13:return _("Suspense");case 19:return _("SuspenseList");case 0:case 2:case 15:return n=te(n.type,!1),n;case 11:return n=te(n.type.render,!1),n;case 1:return n=te(n.type,!0),n;default:return""}}function le(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case T:return"Fragment";case N:return"Portal";case I:return"Profiler";case O:return"StrictMode";case F:return"Suspense";case z:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case M:return(n.displayName||"Context")+".Consumer";case j:return(n._context.displayName||"Context")+".Provider";case A:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case $:return i=n.displayName||null,i!==null?i:le(n.type)||"Memo";case H:i=n._payload,n=n._init;try{return le(n(i))}catch{}}return null}function ce(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(i);case 8:return i===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ie(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Q(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ue(n){var i=Q(n)?"checked":"value",c=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),p=""+n[i];if(!n.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var w=c.get,C=c.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return w.call(this)},set:function(R){p=""+R,C.call(this,R)}}),Object.defineProperty(n,i,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(R){p=""+R},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function de(n){n._valueTracker||(n._valueTracker=ue(n))}function Se(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var c=i.getValue(),p="";return n&&(p=Q(n)?n.checked?"true":"false":n.value),n=p,n!==c?(i.setValue(n),!0):!1}function Ae(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ee(n,i){var c=i.checked;return K({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??n._wrapperState.initialChecked})}function xe(n,i){var c=i.defaultValue==null?"":i.defaultValue,p=i.checked!=null?i.checked:i.defaultChecked;c=ie(i.value!=null?i.value:c),n._wrapperState={initialChecked:p,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Re(n,i){i=i.checked,i!=null&&k(n,"checked",i,!1)}function Pe(n,i){Re(n,i);var c=ie(i.value),p=i.type;if(c!=null)p==="number"?(c===0&&n.value===""||n.value!=c)&&(n.value=""+c):n.value!==""+c&&(n.value=""+c);else if(p==="submit"||p==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?ze(n,i.type,c):i.hasOwnProperty("defaultValue")&&ze(n,i.type,ie(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Te(n,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var p=i.type;if(!(p!=="submit"&&p!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,c||i===n.value||(n.value=i),n.defaultValue=i}c=n.name,c!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,c!==""&&(n.name=c)}function ze(n,i,c){(i!=="number"||Ae(n.ownerDocument)!==n)&&(c==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+c&&(n.defaultValue=""+c))}var Ze=Array.isArray;function Qe(n,i,c,p){if(n=n.options,i){i={};for(var w=0;w<c.length;w++)i["$"+c[w]]=!0;for(c=0;c<n.length;c++)w=i.hasOwnProperty("$"+n[c].value),n[c].selected!==w&&(n[c].selected=w),w&&p&&(n[c].defaultSelected=!0)}else{for(c=""+ie(c),i=null,w=0;w<n.length;w++){if(n[w].value===c){n[w].selected=!0,p&&(n[w].defaultSelected=!0);return}i!==null||n[w].disabled||(i=n[w])}i!==null&&(i.selected=!0)}}function Ge(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return K({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function at(n,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(r(92));if(Ze(c)){if(1<c.length)throw Error(r(93));c=c[0]}i=c}i==null&&(i=""),c=i}n._wrapperState={initialValue:ie(c)}}function Ye(n,i){var c=ie(i.value),p=ie(i.defaultValue);c!=null&&(c=""+c,c!==n.value&&(n.value=c),i.defaultValue==null&&n.defaultValue!==c&&(n.defaultValue=c)),p!=null&&(n.defaultValue=""+p)}function Je(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function me(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function V(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?me(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var re,fe=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,p,w){MSApp.execUnsafeLocalFunction(function(){return n(i,c,p,w)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(re=re||document.createElement("div"),re.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=re.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function J(n,i){if(i){var c=n.firstChild;if(c&&c===n.lastChild&&c.nodeType===3){c.nodeValue=i;return}}n.textContent=i}var ae={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ke=["Webkit","ms","Moz","O"];Object.keys(ae).forEach(function(n){ke.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),ae[i]=ae[n]})});function ve(n,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||ae.hasOwnProperty(n)&&ae[n]?(""+i).trim():i+"px"}function Ce(n,i){n=n.style;for(var c in i)if(i.hasOwnProperty(c)){var p=c.indexOf("--")===0,w=ve(c,i[c],p);c==="float"&&(c="cssFloat"),p?n.setProperty(c,w):n[c]=w}}var je=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function We(n,i){if(i){if(je[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function Be(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var He=null;function qe(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ve=null,et=null,ut=null;function rr(n){if(n=ao(n)){if(typeof Ve!="function")throw Error(r(280));var i=n.stateNode;i&&(i=ks(i),Ve(n.stateNode,n.type,i))}}function nr(n){et?ut?ut.push(n):ut=[n]:et=n}function Dt(){if(et){var n=et,i=ut;if(ut=et=null,rr(n),i)for(n=0;n<i.length;n++)rr(i[n])}}function Rt(n,i){return n(i)}function Bt(){}var At=!1;function Ut(n,i,c){if(At)return n(i,c);At=!0;try{return Rt(n,i,c)}finally{At=!1,(et!==null||ut!==null)&&(Bt(),Dt())}}function ar(n,i){var c=n.stateNode;if(c===null)return null;var p=ks(c);if(p===null)return null;c=p[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(n=n.type,p=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!p;break e;default:n=!1}if(n)return null;if(c&&typeof c!="function")throw Error(r(231,i,typeof c));return c}var ir=!1;if(u)try{var or={};Object.defineProperty(or,"passive",{get:function(){ir=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch{ir=!1}function Kr(n,i,c,p,w,C,R,q,Y){var se=Array.prototype.slice.call(arguments,3);try{i.apply(c,se)}catch(ge){this.onError(ge)}}var mr=!1,It=null,Ct=!1,Ht=null,_a={onError:function(n){mr=!0,It=n}};function Ar(n,i,c,p,w,C,R,q,Y){mr=!1,It=null,Kr.apply(_a,arguments)}function Jo(n,i,c,p,w,C,R,q,Y){if(Ar.apply(this,arguments),mr){if(mr){var se=It;mr=!1,It=null}else throw Error(r(198));Ct||(Ct=!0,Ht=se)}}function mn(n){var i=n,c=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,i.flags&4098&&(c=i.return),n=i.return;while(n)}return i.tag===3?c:null}function es(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function ts(n){if(mn(n)!==n)throw Error(r(188))}function uu(n){var i=n.alternate;if(!i){if(i=mn(n),i===null)throw Error(r(188));return i!==n?null:n}for(var c=n,p=i;;){var w=c.return;if(w===null)break;var C=w.alternate;if(C===null){if(p=w.return,p!==null){c=p;continue}break}if(w.child===C.child){for(C=w.child;C;){if(C===c)return ts(w),n;if(C===p)return ts(w),i;C=C.sibling}throw Error(r(188))}if(c.return!==p.return)c=w,p=C;else{for(var R=!1,q=w.child;q;){if(q===c){R=!0,c=w,p=C;break}if(q===p){R=!0,p=w,c=C;break}q=q.sibling}if(!R){for(q=C.child;q;){if(q===c){R=!0,c=C,p=w;break}if(q===p){R=!0,p=C,c=w;break}q=q.sibling}if(!R)throw Error(r(189))}}if(c.alternate!==p)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?n:i}function rs(n){return n=uu(n),n!==null?ns(n):null}function ns(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=ns(n);if(i!==null)return i;n=n.sibling}return null}var as=e.unstable_scheduleCallback,Bn=e.unstable_cancelCallback,Fi=e.unstable_shouldYield,$a=e.unstable_requestPaint,Et=e.unstable_now,is=e.unstable_getCurrentPriorityLevel,ji=e.unstable_ImmediatePriority,Er=e.unstable_UserBlockingPriority,In=e.unstable_NormalPriority,os=e.unstable_LowPriority,Mn=e.unstable_IdlePriority,sr=null,zr=null;function jm(n){if(zr&&typeof zr.onCommitFiberRoot=="function")try{zr.onCommitFiberRoot(sr,n,void 0,(n.current.flags&128)===128)}catch{}}var Gr=Math.clz32?Math.clz32:$m,Vm=Math.log,_m=Math.LN2;function $m(n){return n>>>=0,n===0?32:31-(Vm(n)/_m|0)|0}var ss=64,ls=4194304;function Vi(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function us(n,i){var c=n.pendingLanes;if(c===0)return 0;var p=0,w=n.suspendedLanes,C=n.pingedLanes,R=c&268435455;if(R!==0){var q=R&~w;q!==0?p=Vi(q):(C&=R,C!==0&&(p=Vi(C)))}else R=c&~w,R!==0?p=Vi(R):C!==0&&(p=Vi(C));if(p===0)return 0;if(i!==0&&i!==p&&!(i&w)&&(w=p&-p,C=i&-i,w>=C||w===16&&(C&4194240)!==0))return i;if(p&4&&(p|=c&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=p;0<i;)c=31-Gr(i),w=1<<c,p|=n[c],i&=~w;return p}function Um(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hm(n,i){for(var c=n.suspendedLanes,p=n.pingedLanes,w=n.expirationTimes,C=n.pendingLanes;0<C;){var R=31-Gr(C),q=1<<R,Y=w[R];Y===-1?(!(q&c)||q&p)&&(w[R]=Um(q,i)):Y<=i&&(n.expiredLanes|=q),C&=~q}}function cu(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function ed(){var n=ss;return ss<<=1,!(ss&4194240)&&(ss=64),n}function fu(n){for(var i=[],c=0;31>c;c++)i.push(n);return i}function _i(n,i,c){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-Gr(i),n[i]=c}function qm(n,i){var c=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var p=n.eventTimes;for(n=n.expirationTimes;0<c;){var w=31-Gr(c),C=1<<w;i[w]=0,p[w]=-1,n[w]=-1,c&=~C}}function du(n,i){var c=n.entangledLanes|=i;for(n=n.entanglements;c;){var p=31-Gr(c),w=1<<p;w&i|n[p]&i&&(n[p]|=i),c&=~w}}var dt=0;function td(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var rd,vu,nd,ad,id,hu=!1,cs=[],On=null,An=null,zn=null,$i=new Map,Ui=new Map,Fn=[],Wm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function od(n,i){switch(n){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":An=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":$i.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ui.delete(i.pointerId)}}function Hi(n,i,c,p,w,C){return n===null||n.nativeEvent!==C?(n={blockedOn:i,domEventName:c,eventSystemFlags:p,nativeEvent:C,targetContainers:[w]},i!==null&&(i=ao(i),i!==null&&vu(i)),n):(n.eventSystemFlags|=p,i=n.targetContainers,w!==null&&i.indexOf(w)===-1&&i.push(w),n)}function Km(n,i,c,p,w){switch(i){case"focusin":return On=Hi(On,n,i,c,p,w),!0;case"dragenter":return An=Hi(An,n,i,c,p,w),!0;case"mouseover":return zn=Hi(zn,n,i,c,p,w),!0;case"pointerover":var C=w.pointerId;return $i.set(C,Hi($i.get(C)||null,n,i,c,p,w)),!0;case"gotpointercapture":return C=w.pointerId,Ui.set(C,Hi(Ui.get(C)||null,n,i,c,p,w)),!0}return!1}function sd(n){var i=ha(n.target);if(i!==null){var c=mn(i);if(c!==null){if(i=c.tag,i===13){if(i=es(c),i!==null){n.blockedOn=i,id(n.priority,function(){nd(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){n.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}n.blockedOn=null}function fs(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var c=gu(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(c===null){c=n.nativeEvent;var p=new c.constructor(c.type,c);He=p,c.target.dispatchEvent(p),He=null}else return i=ao(c),i!==null&&vu(i),n.blockedOn=c,!1;i.shift()}return!0}function ld(n,i,c){fs(n)&&c.delete(i)}function Gm(){hu=!1,On!==null&&fs(On)&&(On=null),An!==null&&fs(An)&&(An=null),zn!==null&&fs(zn)&&(zn=null),$i.forEach(ld),Ui.forEach(ld)}function qi(n,i){n.blockedOn===i&&(n.blockedOn=null,hu||(hu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Gm)))}function Wi(n){function i(w){return qi(w,n)}if(0<cs.length){qi(cs[0],n);for(var c=1;c<cs.length;c++){var p=cs[c];p.blockedOn===n&&(p.blockedOn=null)}}for(On!==null&&qi(On,n),An!==null&&qi(An,n),zn!==null&&qi(zn,n),$i.forEach(i),Ui.forEach(i),c=0;c<Fn.length;c++)p=Fn[c],p.blockedOn===n&&(p.blockedOn=null);for(;0<Fn.length&&(c=Fn[0],c.blockedOn===null);)sd(c),c.blockedOn===null&&Fn.shift()}var Ua=D.ReactCurrentBatchConfig,ds=!0;function Ym(n,i,c,p){var w=dt,C=Ua.transition;Ua.transition=null;try{dt=1,pu(n,i,c,p)}finally{dt=w,Ua.transition=C}}function Qm(n,i,c,p){var w=dt,C=Ua.transition;Ua.transition=null;try{dt=4,pu(n,i,c,p)}finally{dt=w,Ua.transition=C}}function pu(n,i,c,p){if(ds){var w=gu(n,i,c,p);if(w===null)Iu(n,i,p,vs,c),od(n,p);else if(Km(w,n,i,c,p))p.stopPropagation();else if(od(n,p),i&4&&-1<Wm.indexOf(n)){for(;w!==null;){var C=ao(w);if(C!==null&&rd(C),C=gu(n,i,c,p),C===null&&Iu(n,i,p,vs,c),C===w)break;w=C}w!==null&&p.stopPropagation()}else Iu(n,i,p,null,c)}}var vs=null;function gu(n,i,c,p){if(vs=null,n=qe(p),n=ha(n),n!==null)if(i=mn(n),i===null)n=null;else if(c=i.tag,c===13){if(n=es(i),n!==null)return n;n=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return vs=n,null}function ud(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(is()){case ji:return 1;case Er:return 4;case In:case os:return 16;case Mn:return 536870912;default:return 16}default:return 16}}var jn=null,mu=null,hs=null;function cd(){if(hs)return hs;var n,i=mu,c=i.length,p,w="value"in jn?jn.value:jn.textContent,C=w.length;for(n=0;n<c&&i[n]===w[n];n++);var R=c-n;for(p=1;p<=R&&i[c-p]===w[C-p];p++);return hs=w.slice(n,1<p?1-p:void 0)}function ps(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function gs(){return!0}function fd(){return!1}function Lr(n){function i(c,p,w,C,R){this._reactName=c,this._targetInst=w,this.type=p,this.nativeEvent=C,this.target=R,this.currentTarget=null;for(var q in n)n.hasOwnProperty(q)&&(c=n[q],this[q]=c?c(C):C[q]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?gs:fd,this.isPropagationStopped=fd,this}return K(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),i}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yu=Lr(Ha),Ki=K({},Ha,{view:0,detail:0}),Xm=Lr(Ki),wu,xu,Gi,ms=K({},Ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Su,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Gi&&(Gi&&n.type==="mousemove"?(wu=n.screenX-Gi.screenX,xu=n.screenY-Gi.screenY):xu=wu=0,Gi=n),wu)},movementY:function(n){return"movementY"in n?n.movementY:xu}}),dd=Lr(ms),Zm=K({},ms,{dataTransfer:0}),Jm=Lr(Zm),ey=K({},Ki,{relatedTarget:0}),Eu=Lr(ey),ty=K({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),ry=Lr(ty),ny=K({},Ha,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ay=Lr(ny),iy=K({},Ha,{data:0}),vd=Lr(iy),oy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ly={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uy(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=ly[n])?!!i[n]:!1}function Su(){return uy}var cy=K({},Ki,{key:function(n){if(n.key){var i=oy[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ps(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?sy[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Su,charCode:function(n){return n.type==="keypress"?ps(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ps(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),fy=Lr(cy),dy=K({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hd=Lr(dy),vy=K({},Ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Su}),hy=Lr(vy),py=K({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),gy=Lr(py),my=K({},ms,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),yy=Lr(my),wy=[9,13,27,32],Cu=u&&"CompositionEvent"in window,Yi=null;u&&"documentMode"in document&&(Yi=document.documentMode);var xy=u&&"TextEvent"in window&&!Yi,pd=u&&(!Cu||Yi&&8<Yi&&11>=Yi),gd=" ",md=!1;function yd(n,i){switch(n){case"keyup":return wy.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wd(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var qa=!1;function Ey(n,i){switch(n){case"compositionend":return wd(i);case"keypress":return i.which!==32?null:(md=!0,gd);case"textInput":return n=i.data,n===gd&&md?null:n;default:return null}}function Sy(n,i){if(qa)return n==="compositionend"||!Cu&&yd(n,i)?(n=cd(),hs=mu=jn=null,qa=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return pd&&i.locale!=="ko"?null:i.data;default:return null}}var Cy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Cy[n.type]:i==="textarea"}function Ed(n,i,c,p){nr(p),i=Ss(i,"onChange"),0<i.length&&(c=new yu("onChange","change",null,c,p),n.push({event:c,listeners:i}))}var Qi=null,Xi=null;function by(n){jd(n,0)}function ys(n){var i=Qa(n);if(Se(i))return n}function ky(n,i){if(n==="change")return i}var Sd=!1;if(u){var bu;if(u){var ku="oninput"in document;if(!ku){var Cd=document.createElement("div");Cd.setAttribute("oninput","return;"),ku=typeof Cd.oninput=="function"}bu=ku}else bu=!1;Sd=bu&&(!document.documentMode||9<document.documentMode)}function bd(){Qi&&(Qi.detachEvent("onpropertychange",kd),Xi=Qi=null)}function kd(n){if(n.propertyName==="value"&&ys(Xi)){var i=[];Ed(i,Xi,n,qe(n)),Ut(by,i)}}function Ty(n,i,c){n==="focusin"?(bd(),Qi=i,Xi=c,Qi.attachEvent("onpropertychange",kd)):n==="focusout"&&bd()}function Dy(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ys(Xi)}function Py(n,i){if(n==="click")return ys(i)}function Ny(n,i){if(n==="input"||n==="change")return ys(i)}function Ly(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Yr=typeof Object.is=="function"?Object.is:Ly;function Zi(n,i){if(Yr(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var c=Object.keys(n),p=Object.keys(i);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var w=c[p];if(!d.call(i,w)||!Yr(n[w],i[w]))return!1}return!0}function Td(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Dd(n,i){var c=Td(n);n=0;for(var p;c;){if(c.nodeType===3){if(p=n+c.textContent.length,n<=i&&p>=i)return{node:c,offset:i-n};n=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Td(c)}}function Pd(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Pd(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Nd(){for(var n=window,i=Ae();i instanceof n.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)n=i.contentWindow;else break;i=Ae(n.document)}return i}function Tu(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function Ry(n){var i=Nd(),c=n.focusedElem,p=n.selectionRange;if(i!==c&&c&&c.ownerDocument&&Pd(c.ownerDocument.documentElement,c)){if(p!==null&&Tu(c)){if(i=p.start,n=p.end,n===void 0&&(n=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(n,c.value.length);else if(n=(i=c.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var w=c.textContent.length,C=Math.min(p.start,w);p=p.end===void 0?C:Math.min(p.end,w),!n.extend&&C>p&&(w=p,p=C,C=w),w=Dd(c,C);var R=Dd(c,p);w&&R&&(n.rangeCount!==1||n.anchorNode!==w.node||n.anchorOffset!==w.offset||n.focusNode!==R.node||n.focusOffset!==R.offset)&&(i=i.createRange(),i.setStart(w.node,w.offset),n.removeAllRanges(),C>p?(n.addRange(i),n.extend(R.node,R.offset)):(i.setEnd(R.node,R.offset),n.addRange(i)))}}for(i=[],n=c;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)n=i[c],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var By=u&&"documentMode"in document&&11>=document.documentMode,Wa=null,Du=null,Ji=null,Pu=!1;function Ld(n,i,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Pu||Wa==null||Wa!==Ae(p)||(p=Wa,"selectionStart"in p&&Tu(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Ji&&Zi(Ji,p)||(Ji=p,p=Ss(Du,"onSelect"),0<p.length&&(i=new yu("onSelect","select",null,i,c),n.push({event:i,listeners:p}),i.target=Wa)))}function ws(n,i){var c={};return c[n.toLowerCase()]=i.toLowerCase(),c["Webkit"+n]="webkit"+i,c["Moz"+n]="moz"+i,c}var Ka={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionend:ws("Transition","TransitionEnd")},Nu={},Rd={};u&&(Rd=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function xs(n){if(Nu[n])return Nu[n];if(!Ka[n])return n;var i=Ka[n],c;for(c in i)if(i.hasOwnProperty(c)&&c in Rd)return Nu[n]=i[c];return n}var Bd=xs("animationend"),Id=xs("animationiteration"),Md=xs("animationstart"),Od=xs("transitionend"),Ad=new Map,zd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vn(n,i){Ad.set(n,i),s(i,[n])}for(var Lu=0;Lu<zd.length;Lu++){var Ru=zd[Lu],Iy=Ru.toLowerCase(),My=Ru[0].toUpperCase()+Ru.slice(1);Vn(Iy,"on"+My)}Vn(Bd,"onAnimationEnd"),Vn(Id,"onAnimationIteration"),Vn(Md,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(Od,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Oy=new Set("cancel close invalid load scroll toggle".split(" ").concat(eo));function Fd(n,i,c){var p=n.type||"unknown-event";n.currentTarget=c,Jo(p,i,void 0,n),n.currentTarget=null}function jd(n,i){i=(i&4)!==0;for(var c=0;c<n.length;c++){var p=n[c],w=p.event;p=p.listeners;e:{var C=void 0;if(i)for(var R=p.length-1;0<=R;R--){var q=p[R],Y=q.instance,se=q.currentTarget;if(q=q.listener,Y!==C&&w.isPropagationStopped())break e;Fd(w,q,se),C=Y}else for(R=0;R<p.length;R++){if(q=p[R],Y=q.instance,se=q.currentTarget,q=q.listener,Y!==C&&w.isPropagationStopped())break e;Fd(w,q,se),C=Y}}}if(Ct)throw n=Ht,Ct=!1,Ht=null,n}function yt(n,i){var c=i[ju];c===void 0&&(c=i[ju]=new Set);var p=n+"__bubble";c.has(p)||(Vd(i,n,2,!1),c.add(p))}function Bu(n,i,c){var p=0;i&&(p|=4),Vd(c,n,p,i)}var Es="_reactListening"+Math.random().toString(36).slice(2);function to(n){if(!n[Es]){n[Es]=!0,a.forEach(function(c){c!=="selectionchange"&&(Oy.has(c)||Bu(c,!1,n),Bu(c,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Es]||(i[Es]=!0,Bu("selectionchange",!1,i))}}function Vd(n,i,c,p){switch(ud(i)){case 1:var w=Ym;break;case 4:w=Qm;break;default:w=pu}c=w.bind(null,i,c,n),w=void 0,!ir||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(w=!0),p?w!==void 0?n.addEventListener(i,c,{capture:!0,passive:w}):n.addEventListener(i,c,!0):w!==void 0?n.addEventListener(i,c,{passive:w}):n.addEventListener(i,c,!1)}function Iu(n,i,c,p,w){var C=p;if(!(i&1)&&!(i&2)&&p!==null)e:for(;;){if(p===null)return;var R=p.tag;if(R===3||R===4){var q=p.stateNode.containerInfo;if(q===w||q.nodeType===8&&q.parentNode===w)break;if(R===4)for(R=p.return;R!==null;){var Y=R.tag;if((Y===3||Y===4)&&(Y=R.stateNode.containerInfo,Y===w||Y.nodeType===8&&Y.parentNode===w))return;R=R.return}for(;q!==null;){if(R=ha(q),R===null)return;if(Y=R.tag,Y===5||Y===6){p=C=R;continue e}q=q.parentNode}}p=p.return}Ut(function(){var se=C,ge=qe(c),ye=[];e:{var pe=Ad.get(n);if(pe!==void 0){var De=yu,Ie=n;switch(n){case"keypress":if(ps(c)===0)break e;case"keydown":case"keyup":De=fy;break;case"focusin":Ie="focus",De=Eu;break;case"focusout":Ie="blur",De=Eu;break;case"beforeblur":case"afterblur":De=Eu;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=dd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=Jm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=hy;break;case Bd:case Id:case Md:De=ry;break;case Od:De=gy;break;case"scroll":De=Xm;break;case"wheel":De=yy;break;case"copy":case"cut":case"paste":De=ay;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=hd}var Me=(i&4)!==0,Mt=!Me&&n==="scroll",ee=Me?pe!==null?pe+"Capture":null:pe;Me=[];for(var X=se,ne;X!==null;){ne=X;var we=ne.stateNode;if(ne.tag===5&&we!==null&&(ne=we,ee!==null&&(we=ar(X,ee),we!=null&&Me.push(ro(X,we,ne)))),Mt)break;X=X.return}0<Me.length&&(pe=new De(pe,Ie,null,c,ge),ye.push({event:pe,listeners:Me}))}}if(!(i&7)){e:{if(pe=n==="mouseover"||n==="pointerover",De=n==="mouseout"||n==="pointerout",pe&&c!==He&&(Ie=c.relatedTarget||c.fromElement)&&(ha(Ie)||Ie[yn]))break e;if((De||pe)&&(pe=ge.window===ge?ge:(pe=ge.ownerDocument)?pe.defaultView||pe.parentWindow:window,De?(Ie=c.relatedTarget||c.toElement,De=se,Ie=Ie?ha(Ie):null,Ie!==null&&(Mt=mn(Ie),Ie!==Mt||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(De=null,Ie=se),De!==Ie)){if(Me=dd,we="onMouseLeave",ee="onMouseEnter",X="mouse",(n==="pointerout"||n==="pointerover")&&(Me=hd,we="onPointerLeave",ee="onPointerEnter",X="pointer"),Mt=De==null?pe:Qa(De),ne=Ie==null?pe:Qa(Ie),pe=new Me(we,X+"leave",De,c,ge),pe.target=Mt,pe.relatedTarget=ne,we=null,ha(ge)===se&&(Me=new Me(ee,X+"enter",Ie,c,ge),Me.target=ne,Me.relatedTarget=Mt,we=Me),Mt=we,De&&Ie)t:{for(Me=De,ee=Ie,X=0,ne=Me;ne;ne=Ga(ne))X++;for(ne=0,we=ee;we;we=Ga(we))ne++;for(;0<X-ne;)Me=Ga(Me),X--;for(;0<ne-X;)ee=Ga(ee),ne--;for(;X--;){if(Me===ee||ee!==null&&Me===ee.alternate)break t;Me=Ga(Me),ee=Ga(ee)}Me=null}else Me=null;De!==null&&_d(ye,pe,De,Me,!1),Ie!==null&&Mt!==null&&_d(ye,Mt,Ie,Me,!0)}}e:{if(pe=se?Qa(se):window,De=pe.nodeName&&pe.nodeName.toLowerCase(),De==="select"||De==="input"&&pe.type==="file")var Oe=ky;else if(xd(pe))if(Sd)Oe=Ny;else{Oe=Dy;var _e=Ty}else(De=pe.nodeName)&&De.toLowerCase()==="input"&&(pe.type==="checkbox"||pe.type==="radio")&&(Oe=Py);if(Oe&&(Oe=Oe(n,se))){Ed(ye,Oe,c,ge);break e}_e&&_e(n,pe,se),n==="focusout"&&(_e=pe._wrapperState)&&_e.controlled&&pe.type==="number"&&ze(pe,"number",pe.value)}switch(_e=se?Qa(se):window,n){case"focusin":(xd(_e)||_e.contentEditable==="true")&&(Wa=_e,Du=se,Ji=null);break;case"focusout":Ji=Du=Wa=null;break;case"mousedown":Pu=!0;break;case"contextmenu":case"mouseup":case"dragend":Pu=!1,Ld(ye,c,ge);break;case"selectionchange":if(By)break;case"keydown":case"keyup":Ld(ye,c,ge)}var $e;if(Cu)e:{switch(n){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else qa?yd(n,c)&&(Ke="onCompositionEnd"):n==="keydown"&&c.keyCode===229&&(Ke="onCompositionStart");Ke&&(pd&&c.locale!=="ko"&&(qa||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&qa&&($e=cd()):(jn=ge,mu="value"in jn?jn.value:jn.textContent,qa=!0)),_e=Ss(se,Ke),0<_e.length&&(Ke=new vd(Ke,n,null,c,ge),ye.push({event:Ke,listeners:_e}),$e?Ke.data=$e:($e=wd(c),$e!==null&&(Ke.data=$e)))),($e=xy?Ey(n,c):Sy(n,c))&&(se=Ss(se,"onBeforeInput"),0<se.length&&(ge=new vd("onBeforeInput","beforeinput",null,c,ge),ye.push({event:ge,listeners:se}),ge.data=$e))}jd(ye,i)})}function ro(n,i,c){return{instance:n,listener:i,currentTarget:c}}function Ss(n,i){for(var c=i+"Capture",p=[];n!==null;){var w=n,C=w.stateNode;w.tag===5&&C!==null&&(w=C,C=ar(n,c),C!=null&&p.unshift(ro(n,C,w)),C=ar(n,i),C!=null&&p.push(ro(n,C,w))),n=n.return}return p}function Ga(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function _d(n,i,c,p,w){for(var C=i._reactName,R=[];c!==null&&c!==p;){var q=c,Y=q.alternate,se=q.stateNode;if(Y!==null&&Y===p)break;q.tag===5&&se!==null&&(q=se,w?(Y=ar(c,C),Y!=null&&R.unshift(ro(c,Y,q))):w||(Y=ar(c,C),Y!=null&&R.push(ro(c,Y,q)))),c=c.return}R.length!==0&&n.push({event:i,listeners:R})}var Ay=/\r\n?/g,zy=/\u0000|\uFFFD/g;function $d(n){return(typeof n=="string"?n:""+n).replace(Ay,`
`).replace(zy,"")}function Cs(n,i,c){if(i=$d(i),$d(n)!==i&&c)throw Error(r(425))}function bs(){}var Mu=null,Ou=null;function Au(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var zu=typeof setTimeout=="function"?setTimeout:void 0,Fy=typeof clearTimeout=="function"?clearTimeout:void 0,Ud=typeof Promise=="function"?Promise:void 0,jy=typeof queueMicrotask=="function"?queueMicrotask:typeof Ud<"u"?function(n){return Ud.resolve(null).then(n).catch(Vy)}:zu;function Vy(n){setTimeout(function(){throw n})}function Fu(n,i){var c=i,p=0;do{var w=c.nextSibling;if(n.removeChild(c),w&&w.nodeType===8)if(c=w.data,c==="/$"){if(p===0){n.removeChild(w),Wi(i);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=w}while(c);Wi(i)}function _n(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Hd(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var c=n.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return n;i--}else c==="/$"&&i++}n=n.previousSibling}return null}var Ya=Math.random().toString(36).slice(2),on="__reactFiber$"+Ya,no="__reactProps$"+Ya,yn="__reactContainer$"+Ya,ju="__reactEvents$"+Ya,_y="__reactListeners$"+Ya,$y="__reactHandles$"+Ya;function ha(n){var i=n[on];if(i)return i;for(var c=n.parentNode;c;){if(i=c[yn]||c[on]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(n=Hd(n);n!==null;){if(c=n[on])return c;n=Hd(n)}return i}n=c,c=n.parentNode}return null}function ao(n){return n=n[on]||n[yn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Qa(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function ks(n){return n[no]||null}var Vu=[],Xa=-1;function $n(n){return{current:n}}function wt(n){0>Xa||(n.current=Vu[Xa],Vu[Xa]=null,Xa--)}function pt(n,i){Xa++,Vu[Xa]=n.current,n.current=i}var Un={},lr=$n(Un),Sr=$n(!1),pa=Un;function Za(n,i){var c=n.type.contextTypes;if(!c)return Un;var p=n.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===i)return p.__reactInternalMemoizedMaskedChildContext;var w={},C;for(C in c)w[C]=i[C];return p&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=w),w}function Cr(n){return n=n.childContextTypes,n!=null}function Ts(){wt(Sr),wt(lr)}function qd(n,i,c){if(lr.current!==Un)throw Error(r(168));pt(lr,i),pt(Sr,c)}function Wd(n,i,c){var p=n.stateNode;if(i=i.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var w in p)if(!(w in i))throw Error(r(108,ce(n)||"Unknown",w));return K({},c,p)}function Ds(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Un,pa=lr.current,pt(lr,n),pt(Sr,Sr.current),!0}function Kd(n,i,c){var p=n.stateNode;if(!p)throw Error(r(169));c?(n=Wd(n,i,pa),p.__reactInternalMemoizedMergedChildContext=n,wt(Sr),wt(lr),pt(lr,n)):wt(Sr),pt(Sr,c)}var wn=null,Ps=!1,_u=!1;function Gd(n){wn===null?wn=[n]:wn.push(n)}function Uy(n){Ps=!0,Gd(n)}function Hn(){if(!_u&&wn!==null){_u=!0;var n=0,i=dt;try{var c=wn;for(dt=1;n<c.length;n++){var p=c[n];do p=p(!0);while(p!==null)}wn=null,Ps=!1}catch(w){throw wn!==null&&(wn=wn.slice(n+1)),as(ji,Hn),w}finally{dt=i,_u=!1}}return null}var Ja=[],ei=0,Ns=null,Ls=0,Fr=[],jr=0,ga=null,xn=1,En="";function ma(n,i){Ja[ei++]=Ls,Ja[ei++]=Ns,Ns=n,Ls=i}function Yd(n,i,c){Fr[jr++]=xn,Fr[jr++]=En,Fr[jr++]=ga,ga=n;var p=xn;n=En;var w=32-Gr(p)-1;p&=~(1<<w),c+=1;var C=32-Gr(i)+w;if(30<C){var R=w-w%5;C=(p&(1<<R)-1).toString(32),p>>=R,w-=R,xn=1<<32-Gr(i)+w|c<<w|p,En=C+n}else xn=1<<C|c<<w|p,En=n}function $u(n){n.return!==null&&(ma(n,1),Yd(n,1,0))}function Uu(n){for(;n===Ns;)Ns=Ja[--ei],Ja[ei]=null,Ls=Ja[--ei],Ja[ei]=null;for(;n===ga;)ga=Fr[--jr],Fr[jr]=null,En=Fr[--jr],Fr[jr]=null,xn=Fr[--jr],Fr[jr]=null}var Rr=null,Br=null,St=!1,Qr=null;function Qd(n,i){var c=Ur(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=n,i=n.deletions,i===null?(n.deletions=[c],n.flags|=16):i.push(c)}function Xd(n,i){switch(n.tag){case 5:var c=n.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,Rr=n,Br=_n(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,Rr=n,Br=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=ga!==null?{id:xn,overflow:En}:null,n.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=Ur(18,null,null,0),c.stateNode=i,c.return=n,n.child=c,Rr=n,Br=null,!0):!1;default:return!1}}function Hu(n){return(n.mode&1)!==0&&(n.flags&128)===0}function qu(n){if(St){var i=Br;if(i){var c=i;if(!Xd(n,i)){if(Hu(n))throw Error(r(418));i=_n(c.nextSibling);var p=Rr;i&&Xd(n,i)?Qd(p,c):(n.flags=n.flags&-4097|2,St=!1,Rr=n)}}else{if(Hu(n))throw Error(r(418));n.flags=n.flags&-4097|2,St=!1,Rr=n}}}function Zd(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Rr=n}function Rs(n){if(n!==Rr)return!1;if(!St)return Zd(n),St=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Au(n.type,n.memoizedProps)),i&&(i=Br)){if(Hu(n))throw Jd(),Error(r(418));for(;i;)Qd(n,i),i=_n(i.nextSibling)}if(Zd(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var c=n.data;if(c==="/$"){if(i===0){Br=_n(n.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}n=n.nextSibling}Br=null}}else Br=Rr?_n(n.stateNode.nextSibling):null;return!0}function Jd(){for(var n=Br;n;)n=_n(n.nextSibling)}function ti(){Br=Rr=null,St=!1}function Wu(n){Qr===null?Qr=[n]:Qr.push(n)}var Hy=D.ReactCurrentBatchConfig;function io(n,i,c){if(n=c.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(r(309));var p=c.stateNode}if(!p)throw Error(r(147,n));var w=p,C=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===C?i.ref:(i=function(R){var q=w.refs;R===null?delete q[C]:q[C]=R},i._stringRef=C,i)}if(typeof n!="string")throw Error(r(284));if(!c._owner)throw Error(r(290,n))}return n}function Bs(n,i){throw n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function ev(n){var i=n._init;return i(n._payload)}function tv(n){function i(ee,X){if(n){var ne=ee.deletions;ne===null?(ee.deletions=[X],ee.flags|=16):ne.push(X)}}function c(ee,X){if(!n)return null;for(;X!==null;)i(ee,X),X=X.sibling;return null}function p(ee,X){for(ee=new Map;X!==null;)X.key!==null?ee.set(X.key,X):ee.set(X.index,X),X=X.sibling;return ee}function w(ee,X){return ee=Zn(ee,X),ee.index=0,ee.sibling=null,ee}function C(ee,X,ne){return ee.index=ne,n?(ne=ee.alternate,ne!==null?(ne=ne.index,ne<X?(ee.flags|=2,X):ne):(ee.flags|=2,X)):(ee.flags|=1048576,X)}function R(ee){return n&&ee.alternate===null&&(ee.flags|=2),ee}function q(ee,X,ne,we){return X===null||X.tag!==6?(X=zc(ne,ee.mode,we),X.return=ee,X):(X=w(X,ne),X.return=ee,X)}function Y(ee,X,ne,we){var Oe=ne.type;return Oe===T?ge(ee,X,ne.props.children,we,ne.key):X!==null&&(X.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===H&&ev(Oe)===X.type)?(we=w(X,ne.props),we.ref=io(ee,X,ne),we.return=ee,we):(we=rl(ne.type,ne.key,ne.props,null,ee.mode,we),we.ref=io(ee,X,ne),we.return=ee,we)}function se(ee,X,ne,we){return X===null||X.tag!==4||X.stateNode.containerInfo!==ne.containerInfo||X.stateNode.implementation!==ne.implementation?(X=Fc(ne,ee.mode,we),X.return=ee,X):(X=w(X,ne.children||[]),X.return=ee,X)}function ge(ee,X,ne,we,Oe){return X===null||X.tag!==7?(X=ka(ne,ee.mode,we,Oe),X.return=ee,X):(X=w(X,ne),X.return=ee,X)}function ye(ee,X,ne){if(typeof X=="string"&&X!==""||typeof X=="number")return X=zc(""+X,ee.mode,ne),X.return=ee,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case B:return ne=rl(X.type,X.key,X.props,null,ee.mode,ne),ne.ref=io(ee,null,X),ne.return=ee,ne;case N:return X=Fc(X,ee.mode,ne),X.return=ee,X;case H:var we=X._init;return ye(ee,we(X._payload),ne)}if(Ze(X)||G(X))return X=ka(X,ee.mode,ne,null),X.return=ee,X;Bs(ee,X)}return null}function pe(ee,X,ne,we){var Oe=X!==null?X.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return Oe!==null?null:q(ee,X,""+ne,we);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case B:return ne.key===Oe?Y(ee,X,ne,we):null;case N:return ne.key===Oe?se(ee,X,ne,we):null;case H:return Oe=ne._init,pe(ee,X,Oe(ne._payload),we)}if(Ze(ne)||G(ne))return Oe!==null?null:ge(ee,X,ne,we,null);Bs(ee,ne)}return null}function De(ee,X,ne,we,Oe){if(typeof we=="string"&&we!==""||typeof we=="number")return ee=ee.get(ne)||null,q(X,ee,""+we,Oe);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case B:return ee=ee.get(we.key===null?ne:we.key)||null,Y(X,ee,we,Oe);case N:return ee=ee.get(we.key===null?ne:we.key)||null,se(X,ee,we,Oe);case H:var _e=we._init;return De(ee,X,ne,_e(we._payload),Oe)}if(Ze(we)||G(we))return ee=ee.get(ne)||null,ge(X,ee,we,Oe,null);Bs(X,we)}return null}function Ie(ee,X,ne,we){for(var Oe=null,_e=null,$e=X,Ke=X=0,Kt=null;$e!==null&&Ke<ne.length;Ke++){$e.index>Ke?(Kt=$e,$e=null):Kt=$e.sibling;var it=pe(ee,$e,ne[Ke],we);if(it===null){$e===null&&($e=Kt);break}n&&$e&&it.alternate===null&&i(ee,$e),X=C(it,X,Ke),_e===null?Oe=it:_e.sibling=it,_e=it,$e=Kt}if(Ke===ne.length)return c(ee,$e),St&&ma(ee,Ke),Oe;if($e===null){for(;Ke<ne.length;Ke++)$e=ye(ee,ne[Ke],we),$e!==null&&(X=C($e,X,Ke),_e===null?Oe=$e:_e.sibling=$e,_e=$e);return St&&ma(ee,Ke),Oe}for($e=p(ee,$e);Ke<ne.length;Ke++)Kt=De($e,ee,Ke,ne[Ke],we),Kt!==null&&(n&&Kt.alternate!==null&&$e.delete(Kt.key===null?Ke:Kt.key),X=C(Kt,X,Ke),_e===null?Oe=Kt:_e.sibling=Kt,_e=Kt);return n&&$e.forEach(function(Jn){return i(ee,Jn)}),St&&ma(ee,Ke),Oe}function Me(ee,X,ne,we){var Oe=G(ne);if(typeof Oe!="function")throw Error(r(150));if(ne=Oe.call(ne),ne==null)throw Error(r(151));for(var _e=Oe=null,$e=X,Ke=X=0,Kt=null,it=ne.next();$e!==null&&!it.done;Ke++,it=ne.next()){$e.index>Ke?(Kt=$e,$e=null):Kt=$e.sibling;var Jn=pe(ee,$e,it.value,we);if(Jn===null){$e===null&&($e=Kt);break}n&&$e&&Jn.alternate===null&&i(ee,$e),X=C(Jn,X,Ke),_e===null?Oe=Jn:_e.sibling=Jn,_e=Jn,$e=Kt}if(it.done)return c(ee,$e),St&&ma(ee,Ke),Oe;if($e===null){for(;!it.done;Ke++,it=ne.next())it=ye(ee,it.value,we),it!==null&&(X=C(it,X,Ke),_e===null?Oe=it:_e.sibling=it,_e=it);return St&&ma(ee,Ke),Oe}for($e=p(ee,$e);!it.done;Ke++,it=ne.next())it=De($e,ee,Ke,it.value,we),it!==null&&(n&&it.alternate!==null&&$e.delete(it.key===null?Ke:it.key),X=C(it,X,Ke),_e===null?Oe=it:_e.sibling=it,_e=it);return n&&$e.forEach(function(C0){return i(ee,C0)}),St&&ma(ee,Ke),Oe}function Mt(ee,X,ne,we){if(typeof ne=="object"&&ne!==null&&ne.type===T&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case B:e:{for(var Oe=ne.key,_e=X;_e!==null;){if(_e.key===Oe){if(Oe=ne.type,Oe===T){if(_e.tag===7){c(ee,_e.sibling),X=w(_e,ne.props.children),X.return=ee,ee=X;break e}}else if(_e.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===H&&ev(Oe)===_e.type){c(ee,_e.sibling),X=w(_e,ne.props),X.ref=io(ee,_e,ne),X.return=ee,ee=X;break e}c(ee,_e);break}else i(ee,_e);_e=_e.sibling}ne.type===T?(X=ka(ne.props.children,ee.mode,we,ne.key),X.return=ee,ee=X):(we=rl(ne.type,ne.key,ne.props,null,ee.mode,we),we.ref=io(ee,X,ne),we.return=ee,ee=we)}return R(ee);case N:e:{for(_e=ne.key;X!==null;){if(X.key===_e)if(X.tag===4&&X.stateNode.containerInfo===ne.containerInfo&&X.stateNode.implementation===ne.implementation){c(ee,X.sibling),X=w(X,ne.children||[]),X.return=ee,ee=X;break e}else{c(ee,X);break}else i(ee,X);X=X.sibling}X=Fc(ne,ee.mode,we),X.return=ee,ee=X}return R(ee);case H:return _e=ne._init,Mt(ee,X,_e(ne._payload),we)}if(Ze(ne))return Ie(ee,X,ne,we);if(G(ne))return Me(ee,X,ne,we);Bs(ee,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,X!==null&&X.tag===6?(c(ee,X.sibling),X=w(X,ne),X.return=ee,ee=X):(c(ee,X),X=zc(ne,ee.mode,we),X.return=ee,ee=X),R(ee)):c(ee,X)}return Mt}var ri=tv(!0),rv=tv(!1),Is=$n(null),Ms=null,ni=null,Ku=null;function Gu(){Ku=ni=Ms=null}function Yu(n){var i=Is.current;wt(Is),n._currentValue=i}function Qu(n,i,c){for(;n!==null;){var p=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,p!==null&&(p.childLanes|=i)):p!==null&&(p.childLanes&i)!==i&&(p.childLanes|=i),n===c)break;n=n.return}}function ai(n,i){Ms=n,Ku=ni=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&i&&(br=!0),n.firstContext=null)}function Vr(n){var i=n._currentValue;if(Ku!==n)if(n={context:n,memoizedValue:i,next:null},ni===null){if(Ms===null)throw Error(r(308));ni=n,Ms.dependencies={lanes:0,firstContext:n}}else ni=ni.next=n;return i}var ya=null;function Xu(n){ya===null?ya=[n]:ya.push(n)}function nv(n,i,c,p){var w=i.interleaved;return w===null?(c.next=c,Xu(i)):(c.next=w.next,w.next=c),i.interleaved=c,Sn(n,p)}function Sn(n,i){n.lanes|=i;var c=n.alternate;for(c!==null&&(c.lanes|=i),c=n,n=n.return;n!==null;)n.childLanes|=i,c=n.alternate,c!==null&&(c.childLanes|=i),c=n,n=n.return;return c.tag===3?c.stateNode:null}var qn=!1;function Zu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function av(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Cn(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Wn(n,i,c){var p=n.updateQueue;if(p===null)return null;if(p=p.shared,tt&2){var w=p.pending;return w===null?i.next=i:(i.next=w.next,w.next=i),p.pending=i,Sn(n,c)}return w=p.interleaved,w===null?(i.next=i,Xu(p)):(i.next=w.next,w.next=i),p.interleaved=i,Sn(n,c)}function Os(n,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var p=i.lanes;p&=n.pendingLanes,c|=p,i.lanes=c,du(n,c)}}function iv(n,i){var c=n.updateQueue,p=n.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var w=null,C=null;if(c=c.firstBaseUpdate,c!==null){do{var R={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};C===null?w=C=R:C=C.next=R,c=c.next}while(c!==null);C===null?w=C=i:C=C.next=i}else w=C=i;c={baseState:p.baseState,firstBaseUpdate:w,lastBaseUpdate:C,shared:p.shared,effects:p.effects},n.updateQueue=c;return}n=c.lastBaseUpdate,n===null?c.firstBaseUpdate=i:n.next=i,c.lastBaseUpdate=i}function As(n,i,c,p){var w=n.updateQueue;qn=!1;var C=w.firstBaseUpdate,R=w.lastBaseUpdate,q=w.shared.pending;if(q!==null){w.shared.pending=null;var Y=q,se=Y.next;Y.next=null,R===null?C=se:R.next=se,R=Y;var ge=n.alternate;ge!==null&&(ge=ge.updateQueue,q=ge.lastBaseUpdate,q!==R&&(q===null?ge.firstBaseUpdate=se:q.next=se,ge.lastBaseUpdate=Y))}if(C!==null){var ye=w.baseState;R=0,ge=se=Y=null,q=C;do{var pe=q.lane,De=q.eventTime;if((p&pe)===pe){ge!==null&&(ge=ge.next={eventTime:De,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var Ie=n,Me=q;switch(pe=i,De=c,Me.tag){case 1:if(Ie=Me.payload,typeof Ie=="function"){ye=Ie.call(De,ye,pe);break e}ye=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Me.payload,pe=typeof Ie=="function"?Ie.call(De,ye,pe):Ie,pe==null)break e;ye=K({},ye,pe);break e;case 2:qn=!0}}q.callback!==null&&q.lane!==0&&(n.flags|=64,pe=w.effects,pe===null?w.effects=[q]:pe.push(q))}else De={eventTime:De,lane:pe,tag:q.tag,payload:q.payload,callback:q.callback,next:null},ge===null?(se=ge=De,Y=ye):ge=ge.next=De,R|=pe;if(q=q.next,q===null){if(q=w.shared.pending,q===null)break;pe=q,q=pe.next,pe.next=null,w.lastBaseUpdate=pe,w.shared.pending=null}}while(!0);if(ge===null&&(Y=ye),w.baseState=Y,w.firstBaseUpdate=se,w.lastBaseUpdate=ge,i=w.shared.interleaved,i!==null){w=i;do R|=w.lane,w=w.next;while(w!==i)}else C===null&&(w.shared.lanes=0);Ea|=R,n.lanes=R,n.memoizedState=ye}}function ov(n,i,c){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var p=n[i],w=p.callback;if(w!==null){if(p.callback=null,p=c,typeof w!="function")throw Error(r(191,w));w.call(p)}}}var oo={},sn=$n(oo),so=$n(oo),lo=$n(oo);function wa(n){if(n===oo)throw Error(r(174));return n}function Ju(n,i){switch(pt(lo,i),pt(so,n),pt(sn,oo),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:V(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=V(i,n)}wt(sn),pt(sn,i)}function ii(){wt(sn),wt(so),wt(lo)}function sv(n){wa(lo.current);var i=wa(sn.current),c=V(i,n.type);i!==c&&(pt(so,n),pt(sn,c))}function ec(n){so.current===n&&(wt(sn),wt(so))}var bt=$n(0);function zs(n){for(var i=n;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var tc=[];function rc(){for(var n=0;n<tc.length;n++)tc[n]._workInProgressVersionPrimary=null;tc.length=0}var Fs=D.ReactCurrentDispatcher,nc=D.ReactCurrentBatchConfig,xa=0,kt=null,zt=null,qt=null,js=!1,uo=!1,co=0,qy=0;function ur(){throw Error(r(321))}function ac(n,i){if(i===null)return!1;for(var c=0;c<i.length&&c<n.length;c++)if(!Yr(n[c],i[c]))return!1;return!0}function ic(n,i,c,p,w,C){if(xa=C,kt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Fs.current=n===null||n.memoizedState===null?Yy:Qy,n=c(p,w),uo){C=0;do{if(uo=!1,co=0,25<=C)throw Error(r(301));C+=1,qt=zt=null,i.updateQueue=null,Fs.current=Xy,n=c(p,w)}while(uo)}if(Fs.current=$s,i=zt!==null&&zt.next!==null,xa=0,qt=zt=kt=null,js=!1,i)throw Error(r(300));return n}function oc(){var n=co!==0;return co=0,n}function ln(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?kt.memoizedState=qt=n:qt=qt.next=n,qt}function _r(){if(zt===null){var n=kt.alternate;n=n!==null?n.memoizedState:null}else n=zt.next;var i=qt===null?kt.memoizedState:qt.next;if(i!==null)qt=i,zt=n;else{if(n===null)throw Error(r(310));zt=n,n={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},qt===null?kt.memoizedState=qt=n:qt=qt.next=n}return qt}function fo(n,i){return typeof i=="function"?i(n):i}function sc(n){var i=_r(),c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=n;var p=zt,w=p.baseQueue,C=c.pending;if(C!==null){if(w!==null){var R=w.next;w.next=C.next,C.next=R}p.baseQueue=w=C,c.pending=null}if(w!==null){C=w.next,p=p.baseState;var q=R=null,Y=null,se=C;do{var ge=se.lane;if((xa&ge)===ge)Y!==null&&(Y=Y.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),p=se.hasEagerState?se.eagerState:n(p,se.action);else{var ye={lane:ge,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};Y===null?(q=Y=ye,R=p):Y=Y.next=ye,kt.lanes|=ge,Ea|=ge}se=se.next}while(se!==null&&se!==C);Y===null?R=p:Y.next=q,Yr(p,i.memoizedState)||(br=!0),i.memoizedState=p,i.baseState=R,i.baseQueue=Y,c.lastRenderedState=p}if(n=c.interleaved,n!==null){w=n;do C=w.lane,kt.lanes|=C,Ea|=C,w=w.next;while(w!==n)}else w===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function lc(n){var i=_r(),c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=n;var p=c.dispatch,w=c.pending,C=i.memoizedState;if(w!==null){c.pending=null;var R=w=w.next;do C=n(C,R.action),R=R.next;while(R!==w);Yr(C,i.memoizedState)||(br=!0),i.memoizedState=C,i.baseQueue===null&&(i.baseState=C),c.lastRenderedState=C}return[C,p]}function lv(){}function uv(n,i){var c=kt,p=_r(),w=i(),C=!Yr(p.memoizedState,w);if(C&&(p.memoizedState=w,br=!0),p=p.queue,uc(dv.bind(null,c,p,n),[n]),p.getSnapshot!==i||C||qt!==null&&qt.memoizedState.tag&1){if(c.flags|=2048,vo(9,fv.bind(null,c,p,w,i),void 0,null),Wt===null)throw Error(r(349));xa&30||cv(c,i,w)}return w}function cv(n,i,c){n.flags|=16384,n={getSnapshot:i,value:c},i=kt.updateQueue,i===null?(i={lastEffect:null,stores:null},kt.updateQueue=i,i.stores=[n]):(c=i.stores,c===null?i.stores=[n]:c.push(n))}function fv(n,i,c,p){i.value=c,i.getSnapshot=p,vv(i)&&hv(n)}function dv(n,i,c){return c(function(){vv(i)&&hv(n)})}function vv(n){var i=n.getSnapshot;n=n.value;try{var c=i();return!Yr(n,c)}catch{return!0}}function hv(n){var i=Sn(n,1);i!==null&&en(i,n,1,-1)}function pv(n){var i=ln();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:n},i.queue=n,n=n.dispatch=Gy.bind(null,kt,n),[i.memoizedState,n]}function vo(n,i,c,p){return n={tag:n,create:i,destroy:c,deps:p,next:null},i=kt.updateQueue,i===null?(i={lastEffect:null,stores:null},kt.updateQueue=i,i.lastEffect=n.next=n):(c=i.lastEffect,c===null?i.lastEffect=n.next=n:(p=c.next,c.next=n,n.next=p,i.lastEffect=n)),n}function gv(){return _r().memoizedState}function Vs(n,i,c,p){var w=ln();kt.flags|=n,w.memoizedState=vo(1|i,c,void 0,p===void 0?null:p)}function _s(n,i,c,p){var w=_r();p=p===void 0?null:p;var C=void 0;if(zt!==null){var R=zt.memoizedState;if(C=R.destroy,p!==null&&ac(p,R.deps)){w.memoizedState=vo(i,c,C,p);return}}kt.flags|=n,w.memoizedState=vo(1|i,c,C,p)}function mv(n,i){return Vs(8390656,8,n,i)}function uc(n,i){return _s(2048,8,n,i)}function yv(n,i){return _s(4,2,n,i)}function wv(n,i){return _s(4,4,n,i)}function xv(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Ev(n,i,c){return c=c!=null?c.concat([n]):null,_s(4,4,xv.bind(null,i,n),c)}function cc(){}function Sv(n,i){var c=_r();i=i===void 0?null:i;var p=c.memoizedState;return p!==null&&i!==null&&ac(i,p[1])?p[0]:(c.memoizedState=[n,i],n)}function Cv(n,i){var c=_r();i=i===void 0?null:i;var p=c.memoizedState;return p!==null&&i!==null&&ac(i,p[1])?p[0]:(n=n(),c.memoizedState=[n,i],n)}function bv(n,i,c){return xa&21?(Yr(c,i)||(c=ed(),kt.lanes|=c,Ea|=c,n.baseState=!0),i):(n.baseState&&(n.baseState=!1,br=!0),n.memoizedState=c)}function Wy(n,i){var c=dt;dt=c!==0&&4>c?c:4,n(!0);var p=nc.transition;nc.transition={};try{n(!1),i()}finally{dt=c,nc.transition=p}}function kv(){return _r().memoizedState}function Ky(n,i,c){var p=Qn(n);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},Tv(n))Dv(i,c);else if(c=nv(n,i,c,p),c!==null){var w=wr();en(c,n,p,w),Pv(c,i,p)}}function Gy(n,i,c){var p=Qn(n),w={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(Tv(n))Dv(i,w);else{var C=n.alternate;if(n.lanes===0&&(C===null||C.lanes===0)&&(C=i.lastRenderedReducer,C!==null))try{var R=i.lastRenderedState,q=C(R,c);if(w.hasEagerState=!0,w.eagerState=q,Yr(q,R)){var Y=i.interleaved;Y===null?(w.next=w,Xu(i)):(w.next=Y.next,Y.next=w),i.interleaved=w;return}}catch{}finally{}c=nv(n,i,w,p),c!==null&&(w=wr(),en(c,n,p,w),Pv(c,i,p))}}function Tv(n){var i=n.alternate;return n===kt||i!==null&&i===kt}function Dv(n,i){uo=js=!0;var c=n.pending;c===null?i.next=i:(i.next=c.next,c.next=i),n.pending=i}function Pv(n,i,c){if(c&4194240){var p=i.lanes;p&=n.pendingLanes,c|=p,i.lanes=c,du(n,c)}}var $s={readContext:Vr,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useInsertionEffect:ur,useLayoutEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useMutableSource:ur,useSyncExternalStore:ur,useId:ur,unstable_isNewReconciler:!1},Yy={readContext:Vr,useCallback:function(n,i){return ln().memoizedState=[n,i===void 0?null:i],n},useContext:Vr,useEffect:mv,useImperativeHandle:function(n,i,c){return c=c!=null?c.concat([n]):null,Vs(4194308,4,xv.bind(null,i,n),c)},useLayoutEffect:function(n,i){return Vs(4194308,4,n,i)},useInsertionEffect:function(n,i){return Vs(4,2,n,i)},useMemo:function(n,i){var c=ln();return i=i===void 0?null:i,n=n(),c.memoizedState=[n,i],n},useReducer:function(n,i,c){var p=ln();return i=c!==void 0?c(i):i,p.memoizedState=p.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},p.queue=n,n=n.dispatch=Ky.bind(null,kt,n),[p.memoizedState,n]},useRef:function(n){var i=ln();return n={current:n},i.memoizedState=n},useState:pv,useDebugValue:cc,useDeferredValue:function(n){return ln().memoizedState=n},useTransition:function(){var n=pv(!1),i=n[0];return n=Wy.bind(null,n[1]),ln().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,c){var p=kt,w=ln();if(St){if(c===void 0)throw Error(r(407));c=c()}else{if(c=i(),Wt===null)throw Error(r(349));xa&30||cv(p,i,c)}w.memoizedState=c;var C={value:c,getSnapshot:i};return w.queue=C,mv(dv.bind(null,p,C,n),[n]),p.flags|=2048,vo(9,fv.bind(null,p,C,c,i),void 0,null),c},useId:function(){var n=ln(),i=Wt.identifierPrefix;if(St){var c=En,p=xn;c=(p&~(1<<32-Gr(p)-1)).toString(32)+c,i=":"+i+"R"+c,c=co++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=qy++,i=":"+i+"r"+c.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},Qy={readContext:Vr,useCallback:Sv,useContext:Vr,useEffect:uc,useImperativeHandle:Ev,useInsertionEffect:yv,useLayoutEffect:wv,useMemo:Cv,useReducer:sc,useRef:gv,useState:function(){return sc(fo)},useDebugValue:cc,useDeferredValue:function(n){var i=_r();return bv(i,zt.memoizedState,n)},useTransition:function(){var n=sc(fo)[0],i=_r().memoizedState;return[n,i]},useMutableSource:lv,useSyncExternalStore:uv,useId:kv,unstable_isNewReconciler:!1},Xy={readContext:Vr,useCallback:Sv,useContext:Vr,useEffect:uc,useImperativeHandle:Ev,useInsertionEffect:yv,useLayoutEffect:wv,useMemo:Cv,useReducer:lc,useRef:gv,useState:function(){return lc(fo)},useDebugValue:cc,useDeferredValue:function(n){var i=_r();return zt===null?i.memoizedState=n:bv(i,zt.memoizedState,n)},useTransition:function(){var n=lc(fo)[0],i=_r().memoizedState;return[n,i]},useMutableSource:lv,useSyncExternalStore:uv,useId:kv,unstable_isNewReconciler:!1};function Xr(n,i){if(n&&n.defaultProps){i=K({},i),n=n.defaultProps;for(var c in n)i[c]===void 0&&(i[c]=n[c]);return i}return i}function fc(n,i,c,p){i=n.memoizedState,c=c(p,i),c=c==null?i:K({},i,c),n.memoizedState=c,n.lanes===0&&(n.updateQueue.baseState=c)}var Us={isMounted:function(n){return(n=n._reactInternals)?mn(n)===n:!1},enqueueSetState:function(n,i,c){n=n._reactInternals;var p=wr(),w=Qn(n),C=Cn(p,w);C.payload=i,c!=null&&(C.callback=c),i=Wn(n,C,w),i!==null&&(en(i,n,w,p),Os(i,n,w))},enqueueReplaceState:function(n,i,c){n=n._reactInternals;var p=wr(),w=Qn(n),C=Cn(p,w);C.tag=1,C.payload=i,c!=null&&(C.callback=c),i=Wn(n,C,w),i!==null&&(en(i,n,w,p),Os(i,n,w))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var c=wr(),p=Qn(n),w=Cn(c,p);w.tag=2,i!=null&&(w.callback=i),i=Wn(n,w,p),i!==null&&(en(i,n,p,c),Os(i,n,p))}};function Nv(n,i,c,p,w,C,R){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(p,C,R):i.prototype&&i.prototype.isPureReactComponent?!Zi(c,p)||!Zi(w,C):!0}function Lv(n,i,c){var p=!1,w=Un,C=i.contextType;return typeof C=="object"&&C!==null?C=Vr(C):(w=Cr(i)?pa:lr.current,p=i.contextTypes,C=(p=p!=null)?Za(n,w):Un),i=new i(c,C),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Us,n.stateNode=i,i._reactInternals=n,p&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=w,n.__reactInternalMemoizedMaskedChildContext=C),i}function Rv(n,i,c,p){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,p),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,p),i.state!==n&&Us.enqueueReplaceState(i,i.state,null)}function dc(n,i,c,p){var w=n.stateNode;w.props=c,w.state=n.memoizedState,w.refs={},Zu(n);var C=i.contextType;typeof C=="object"&&C!==null?w.context=Vr(C):(C=Cr(i)?pa:lr.current,w.context=Za(n,C)),w.state=n.memoizedState,C=i.getDerivedStateFromProps,typeof C=="function"&&(fc(n,i,C,c),w.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(i=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),i!==w.state&&Us.enqueueReplaceState(w,w.state,null),As(n,c,w,p),w.state=n.memoizedState),typeof w.componentDidMount=="function"&&(n.flags|=4194308)}function oi(n,i){try{var c="",p=i;do c+=oe(p),p=p.return;while(p);var w=c}catch(C){w=`
Error generating stack: `+C.message+`
`+C.stack}return{value:n,source:i,stack:w,digest:null}}function vc(n,i,c){return{value:n,source:null,stack:c??null,digest:i??null}}function hc(n,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var Zy=typeof WeakMap=="function"?WeakMap:Map;function Bv(n,i,c){c=Cn(-1,c),c.tag=3,c.payload={element:null};var p=i.value;return c.callback=function(){Qs||(Qs=!0,Nc=p),hc(n,i)},c}function Iv(n,i,c){c=Cn(-1,c),c.tag=3;var p=n.type.getDerivedStateFromError;if(typeof p=="function"){var w=i.value;c.payload=function(){return p(w)},c.callback=function(){hc(n,i)}}var C=n.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(c.callback=function(){hc(n,i),typeof p!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var R=i.stack;this.componentDidCatch(i.value,{componentStack:R!==null?R:""})}),c}function Mv(n,i,c){var p=n.pingCache;if(p===null){p=n.pingCache=new Zy;var w=new Set;p.set(i,w)}else w=p.get(i),w===void 0&&(w=new Set,p.set(i,w));w.has(c)||(w.add(c),n=d0.bind(null,n,i,c),i.then(n,n))}function Ov(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Av(n,i,c,p,w){return n.mode&1?(n.flags|=65536,n.lanes=w,n):(n===i?n.flags|=65536:(n.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=Cn(-1,1),i.tag=2,Wn(c,i,1))),c.lanes|=1),n)}var Jy=D.ReactCurrentOwner,br=!1;function yr(n,i,c,p){i.child=n===null?rv(i,null,c,p):ri(i,n.child,c,p)}function zv(n,i,c,p,w){c=c.render;var C=i.ref;return ai(i,w),p=ic(n,i,c,p,C,w),c=oc(),n!==null&&!br?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~w,bn(n,i,w)):(St&&c&&$u(i),i.flags|=1,yr(n,i,p,w),i.child)}function Fv(n,i,c,p,w){if(n===null){var C=c.type;return typeof C=="function"&&!Ac(C)&&C.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=C,jv(n,i,C,p,w)):(n=rl(c.type,null,p,i,i.mode,w),n.ref=i.ref,n.return=i,i.child=n)}if(C=n.child,!(n.lanes&w)){var R=C.memoizedProps;if(c=c.compare,c=c!==null?c:Zi,c(R,p)&&n.ref===i.ref)return bn(n,i,w)}return i.flags|=1,n=Zn(C,p),n.ref=i.ref,n.return=i,i.child=n}function jv(n,i,c,p,w){if(n!==null){var C=n.memoizedProps;if(Zi(C,p)&&n.ref===i.ref)if(br=!1,i.pendingProps=p=C,(n.lanes&w)!==0)n.flags&131072&&(br=!0);else return i.lanes=n.lanes,bn(n,i,w)}return pc(n,i,c,p,w)}function Vv(n,i,c){var p=i.pendingProps,w=p.children,C=n!==null?n.memoizedState:null;if(p.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(li,Ir),Ir|=c;else{if(!(c&1073741824))return n=C!==null?C.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,pt(li,Ir),Ir|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=C!==null?C.baseLanes:c,pt(li,Ir),Ir|=p}else C!==null?(p=C.baseLanes|c,i.memoizedState=null):p=c,pt(li,Ir),Ir|=p;return yr(n,i,w,c),i.child}function _v(n,i){var c=i.ref;(n===null&&c!==null||n!==null&&n.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function pc(n,i,c,p,w){var C=Cr(c)?pa:lr.current;return C=Za(i,C),ai(i,w),c=ic(n,i,c,p,C,w),p=oc(),n!==null&&!br?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~w,bn(n,i,w)):(St&&p&&$u(i),i.flags|=1,yr(n,i,c,w),i.child)}function $v(n,i,c,p,w){if(Cr(c)){var C=!0;Ds(i)}else C=!1;if(ai(i,w),i.stateNode===null)qs(n,i),Lv(i,c,p),dc(i,c,p,w),p=!0;else if(n===null){var R=i.stateNode,q=i.memoizedProps;R.props=q;var Y=R.context,se=c.contextType;typeof se=="object"&&se!==null?se=Vr(se):(se=Cr(c)?pa:lr.current,se=Za(i,se));var ge=c.getDerivedStateFromProps,ye=typeof ge=="function"||typeof R.getSnapshotBeforeUpdate=="function";ye||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(q!==p||Y!==se)&&Rv(i,R,p,se),qn=!1;var pe=i.memoizedState;R.state=pe,As(i,p,R,w),Y=i.memoizedState,q!==p||pe!==Y||Sr.current||qn?(typeof ge=="function"&&(fc(i,c,ge,p),Y=i.memoizedState),(q=qn||Nv(i,c,q,p,pe,Y,se))?(ye||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(i.flags|=4194308)):(typeof R.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=p,i.memoizedState=Y),R.props=p,R.state=Y,R.context=se,p=q):(typeof R.componentDidMount=="function"&&(i.flags|=4194308),p=!1)}else{R=i.stateNode,av(n,i),q=i.memoizedProps,se=i.type===i.elementType?q:Xr(i.type,q),R.props=se,ye=i.pendingProps,pe=R.context,Y=c.contextType,typeof Y=="object"&&Y!==null?Y=Vr(Y):(Y=Cr(c)?pa:lr.current,Y=Za(i,Y));var De=c.getDerivedStateFromProps;(ge=typeof De=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(q!==ye||pe!==Y)&&Rv(i,R,p,Y),qn=!1,pe=i.memoizedState,R.state=pe,As(i,p,R,w);var Ie=i.memoizedState;q!==ye||pe!==Ie||Sr.current||qn?(typeof De=="function"&&(fc(i,c,De,p),Ie=i.memoizedState),(se=qn||Nv(i,c,se,p,pe,Ie,Y)||!1)?(ge||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(p,Ie,Y),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(p,Ie,Y)),typeof R.componentDidUpdate=="function"&&(i.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof R.componentDidUpdate!="function"||q===n.memoizedProps&&pe===n.memoizedState||(i.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||q===n.memoizedProps&&pe===n.memoizedState||(i.flags|=1024),i.memoizedProps=p,i.memoizedState=Ie),R.props=p,R.state=Ie,R.context=Y,p=se):(typeof R.componentDidUpdate!="function"||q===n.memoizedProps&&pe===n.memoizedState||(i.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||q===n.memoizedProps&&pe===n.memoizedState||(i.flags|=1024),p=!1)}return gc(n,i,c,p,C,w)}function gc(n,i,c,p,w,C){_v(n,i);var R=(i.flags&128)!==0;if(!p&&!R)return w&&Kd(i,c,!1),bn(n,i,C);p=i.stateNode,Jy.current=i;var q=R&&typeof c.getDerivedStateFromError!="function"?null:p.render();return i.flags|=1,n!==null&&R?(i.child=ri(i,n.child,null,C),i.child=ri(i,null,q,C)):yr(n,i,q,C),i.memoizedState=p.state,w&&Kd(i,c,!0),i.child}function Uv(n){var i=n.stateNode;i.pendingContext?qd(n,i.pendingContext,i.pendingContext!==i.context):i.context&&qd(n,i.context,!1),Ju(n,i.containerInfo)}function Hv(n,i,c,p,w){return ti(),Wu(w),i.flags|=256,yr(n,i,c,p),i.child}var mc={dehydrated:null,treeContext:null,retryLane:0};function yc(n){return{baseLanes:n,cachePool:null,transitions:null}}function qv(n,i,c){var p=i.pendingProps,w=bt.current,C=!1,R=(i.flags&128)!==0,q;if((q=R)||(q=n!==null&&n.memoizedState===null?!1:(w&2)!==0),q?(C=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(w|=1),pt(bt,w&1),n===null)return qu(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(i.mode&1?n.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(R=p.children,n=p.fallback,C?(p=i.mode,C=i.child,R={mode:"hidden",children:R},!(p&1)&&C!==null?(C.childLanes=0,C.pendingProps=R):C=nl(R,p,0,null),n=ka(n,p,c,null),C.return=i,n.return=i,C.sibling=n,i.child=C,i.child.memoizedState=yc(c),i.memoizedState=mc,n):wc(i,R));if(w=n.memoizedState,w!==null&&(q=w.dehydrated,q!==null))return e0(n,i,R,p,q,w,c);if(C){C=p.fallback,R=i.mode,w=n.child,q=w.sibling;var Y={mode:"hidden",children:p.children};return!(R&1)&&i.child!==w?(p=i.child,p.childLanes=0,p.pendingProps=Y,i.deletions=null):(p=Zn(w,Y),p.subtreeFlags=w.subtreeFlags&14680064),q!==null?C=Zn(q,C):(C=ka(C,R,c,null),C.flags|=2),C.return=i,p.return=i,p.sibling=C,i.child=p,p=C,C=i.child,R=n.child.memoizedState,R=R===null?yc(c):{baseLanes:R.baseLanes|c,cachePool:null,transitions:R.transitions},C.memoizedState=R,C.childLanes=n.childLanes&~c,i.memoizedState=mc,p}return C=n.child,n=C.sibling,p=Zn(C,{mode:"visible",children:p.children}),!(i.mode&1)&&(p.lanes=c),p.return=i,p.sibling=null,n!==null&&(c=i.deletions,c===null?(i.deletions=[n],i.flags|=16):c.push(n)),i.child=p,i.memoizedState=null,p}function wc(n,i){return i=nl({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Hs(n,i,c,p){return p!==null&&Wu(p),ri(i,n.child,null,c),n=wc(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function e0(n,i,c,p,w,C,R){if(c)return i.flags&256?(i.flags&=-257,p=vc(Error(r(422))),Hs(n,i,R,p)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(C=p.fallback,w=i.mode,p=nl({mode:"visible",children:p.children},w,0,null),C=ka(C,w,R,null),C.flags|=2,p.return=i,C.return=i,p.sibling=C,i.child=p,i.mode&1&&ri(i,n.child,null,R),i.child.memoizedState=yc(R),i.memoizedState=mc,C);if(!(i.mode&1))return Hs(n,i,R,null);if(w.data==="$!"){if(p=w.nextSibling&&w.nextSibling.dataset,p)var q=p.dgst;return p=q,C=Error(r(419)),p=vc(C,p,void 0),Hs(n,i,R,p)}if(q=(R&n.childLanes)!==0,br||q){if(p=Wt,p!==null){switch(R&-R){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=w&(p.suspendedLanes|R)?0:w,w!==0&&w!==C.retryLane&&(C.retryLane=w,Sn(n,w),en(p,n,w,-1))}return Oc(),p=vc(Error(r(421))),Hs(n,i,R,p)}return w.data==="$?"?(i.flags|=128,i.child=n.child,i=v0.bind(null,n),w._reactRetry=i,null):(n=C.treeContext,Br=_n(w.nextSibling),Rr=i,St=!0,Qr=null,n!==null&&(Fr[jr++]=xn,Fr[jr++]=En,Fr[jr++]=ga,xn=n.id,En=n.overflow,ga=i),i=wc(i,p.children),i.flags|=4096,i)}function Wv(n,i,c){n.lanes|=i;var p=n.alternate;p!==null&&(p.lanes|=i),Qu(n.return,i,c)}function xc(n,i,c,p,w){var C=n.memoizedState;C===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:w}:(C.isBackwards=i,C.rendering=null,C.renderingStartTime=0,C.last=p,C.tail=c,C.tailMode=w)}function Kv(n,i,c){var p=i.pendingProps,w=p.revealOrder,C=p.tail;if(yr(n,i,p.children,c),p=bt.current,p&2)p=p&1|2,i.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Wv(n,c,i);else if(n.tag===19)Wv(n,c,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}p&=1}if(pt(bt,p),!(i.mode&1))i.memoizedState=null;else switch(w){case"forwards":for(c=i.child,w=null;c!==null;)n=c.alternate,n!==null&&zs(n)===null&&(w=c),c=c.sibling;c=w,c===null?(w=i.child,i.child=null):(w=c.sibling,c.sibling=null),xc(i,!1,w,c,C);break;case"backwards":for(c=null,w=i.child,i.child=null;w!==null;){if(n=w.alternate,n!==null&&zs(n)===null){i.child=w;break}n=w.sibling,w.sibling=c,c=w,w=n}xc(i,!0,c,null,C);break;case"together":xc(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function qs(n,i){!(i.mode&1)&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function bn(n,i,c){if(n!==null&&(i.dependencies=n.dependencies),Ea|=i.lanes,!(c&i.childLanes))return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,c=Zn(n,n.pendingProps),i.child=c,c.return=i;n.sibling!==null;)n=n.sibling,c=c.sibling=Zn(n,n.pendingProps),c.return=i;c.sibling=null}return i.child}function t0(n,i,c){switch(i.tag){case 3:Uv(i),ti();break;case 5:sv(i);break;case 1:Cr(i.type)&&Ds(i);break;case 4:Ju(i,i.stateNode.containerInfo);break;case 10:var p=i.type._context,w=i.memoizedProps.value;pt(Is,p._currentValue),p._currentValue=w;break;case 13:if(p=i.memoizedState,p!==null)return p.dehydrated!==null?(pt(bt,bt.current&1),i.flags|=128,null):c&i.child.childLanes?qv(n,i,c):(pt(bt,bt.current&1),n=bn(n,i,c),n!==null?n.sibling:null);pt(bt,bt.current&1);break;case 19:if(p=(c&i.childLanes)!==0,n.flags&128){if(p)return Kv(n,i,c);i.flags|=128}if(w=i.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),pt(bt,bt.current),p)break;return null;case 22:case 23:return i.lanes=0,Vv(n,i,c)}return bn(n,i,c)}var Gv,Ec,Yv,Qv;Gv=function(n,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)n.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Ec=function(){},Yv=function(n,i,c,p){var w=n.memoizedProps;if(w!==p){n=i.stateNode,wa(sn.current);var C=null;switch(c){case"input":w=Ee(n,w),p=Ee(n,p),C=[];break;case"select":w=K({},w,{value:void 0}),p=K({},p,{value:void 0}),C=[];break;case"textarea":w=Ge(n,w),p=Ge(n,p),C=[];break;default:typeof w.onClick!="function"&&typeof p.onClick=="function"&&(n.onclick=bs)}We(c,p);var R;c=null;for(se in w)if(!p.hasOwnProperty(se)&&w.hasOwnProperty(se)&&w[se]!=null)if(se==="style"){var q=w[se];for(R in q)q.hasOwnProperty(R)&&(c||(c={}),c[R]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(o.hasOwnProperty(se)?C||(C=[]):(C=C||[]).push(se,null));for(se in p){var Y=p[se];if(q=w!=null?w[se]:void 0,p.hasOwnProperty(se)&&Y!==q&&(Y!=null||q!=null))if(se==="style")if(q){for(R in q)!q.hasOwnProperty(R)||Y&&Y.hasOwnProperty(R)||(c||(c={}),c[R]="");for(R in Y)Y.hasOwnProperty(R)&&q[R]!==Y[R]&&(c||(c={}),c[R]=Y[R])}else c||(C||(C=[]),C.push(se,c)),c=Y;else se==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,q=q?q.__html:void 0,Y!=null&&q!==Y&&(C=C||[]).push(se,Y)):se==="children"?typeof Y!="string"&&typeof Y!="number"||(C=C||[]).push(se,""+Y):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(o.hasOwnProperty(se)?(Y!=null&&se==="onScroll"&&yt("scroll",n),C||q===Y||(C=[])):(C=C||[]).push(se,Y))}c&&(C=C||[]).push("style",c);var se=C;(i.updateQueue=se)&&(i.flags|=4)}},Qv=function(n,i,c,p){c!==p&&(i.flags|=4)};function ho(n,i){if(!St)switch(n.tailMode){case"hidden":i=n.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?n.tail=null:c.sibling=null;break;case"collapsed":c=n.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:p.sibling=null}}function cr(n){var i=n.alternate!==null&&n.alternate.child===n.child,c=0,p=0;if(i)for(var w=n.child;w!==null;)c|=w.lanes|w.childLanes,p|=w.subtreeFlags&14680064,p|=w.flags&14680064,w.return=n,w=w.sibling;else for(w=n.child;w!==null;)c|=w.lanes|w.childLanes,p|=w.subtreeFlags,p|=w.flags,w.return=n,w=w.sibling;return n.subtreeFlags|=p,n.childLanes=c,i}function r0(n,i,c){var p=i.pendingProps;switch(Uu(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cr(i),null;case 1:return Cr(i.type)&&Ts(),cr(i),null;case 3:return p=i.stateNode,ii(),wt(Sr),wt(lr),rc(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(n===null||n.child===null)&&(Rs(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Qr!==null&&(Bc(Qr),Qr=null))),Ec(n,i),cr(i),null;case 5:ec(i);var w=wa(lo.current);if(c=i.type,n!==null&&i.stateNode!=null)Yv(n,i,c,p,w),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!p){if(i.stateNode===null)throw Error(r(166));return cr(i),null}if(n=wa(sn.current),Rs(i)){p=i.stateNode,c=i.type;var C=i.memoizedProps;switch(p[on]=i,p[no]=C,n=(i.mode&1)!==0,c){case"dialog":yt("cancel",p),yt("close",p);break;case"iframe":case"object":case"embed":yt("load",p);break;case"video":case"audio":for(w=0;w<eo.length;w++)yt(eo[w],p);break;case"source":yt("error",p);break;case"img":case"image":case"link":yt("error",p),yt("load",p);break;case"details":yt("toggle",p);break;case"input":xe(p,C),yt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!C.multiple},yt("invalid",p);break;case"textarea":at(p,C),yt("invalid",p)}We(c,C),w=null;for(var R in C)if(C.hasOwnProperty(R)){var q=C[R];R==="children"?typeof q=="string"?p.textContent!==q&&(C.suppressHydrationWarning!==!0&&Cs(p.textContent,q,n),w=["children",q]):typeof q=="number"&&p.textContent!==""+q&&(C.suppressHydrationWarning!==!0&&Cs(p.textContent,q,n),w=["children",""+q]):o.hasOwnProperty(R)&&q!=null&&R==="onScroll"&&yt("scroll",p)}switch(c){case"input":de(p),Te(p,C,!0);break;case"textarea":de(p),Je(p);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(p.onclick=bs)}p=w,i.updateQueue=p,p!==null&&(i.flags|=4)}else{R=w.nodeType===9?w:w.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=me(c)),n==="http://www.w3.org/1999/xhtml"?c==="script"?(n=R.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof p.is=="string"?n=R.createElement(c,{is:p.is}):(n=R.createElement(c),c==="select"&&(R=n,p.multiple?R.multiple=!0:p.size&&(R.size=p.size))):n=R.createElementNS(n,c),n[on]=i,n[no]=p,Gv(n,i,!1,!1),i.stateNode=n;e:{switch(R=Be(c,p),c){case"dialog":yt("cancel",n),yt("close",n),w=p;break;case"iframe":case"object":case"embed":yt("load",n),w=p;break;case"video":case"audio":for(w=0;w<eo.length;w++)yt(eo[w],n);w=p;break;case"source":yt("error",n),w=p;break;case"img":case"image":case"link":yt("error",n),yt("load",n),w=p;break;case"details":yt("toggle",n),w=p;break;case"input":xe(n,p),w=Ee(n,p),yt("invalid",n);break;case"option":w=p;break;case"select":n._wrapperState={wasMultiple:!!p.multiple},w=K({},p,{value:void 0}),yt("invalid",n);break;case"textarea":at(n,p),w=Ge(n,p),yt("invalid",n);break;default:w=p}We(c,w),q=w;for(C in q)if(q.hasOwnProperty(C)){var Y=q[C];C==="style"?Ce(n,Y):C==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&fe(n,Y)):C==="children"?typeof Y=="string"?(c!=="textarea"||Y!=="")&&J(n,Y):typeof Y=="number"&&J(n,""+Y):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(o.hasOwnProperty(C)?Y!=null&&C==="onScroll"&&yt("scroll",n):Y!=null&&k(n,C,Y,R))}switch(c){case"input":de(n),Te(n,p,!1);break;case"textarea":de(n),Je(n);break;case"option":p.value!=null&&n.setAttribute("value",""+ie(p.value));break;case"select":n.multiple=!!p.multiple,C=p.value,C!=null?Qe(n,!!p.multiple,C,!1):p.defaultValue!=null&&Qe(n,!!p.multiple,p.defaultValue,!0);break;default:typeof w.onClick=="function"&&(n.onclick=bs)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return cr(i),null;case 6:if(n&&i.stateNode!=null)Qv(n,i,n.memoizedProps,p);else{if(typeof p!="string"&&i.stateNode===null)throw Error(r(166));if(c=wa(lo.current),wa(sn.current),Rs(i)){if(p=i.stateNode,c=i.memoizedProps,p[on]=i,(C=p.nodeValue!==c)&&(n=Rr,n!==null))switch(n.tag){case 3:Cs(p.nodeValue,c,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Cs(p.nodeValue,c,(n.mode&1)!==0)}C&&(i.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[on]=i,i.stateNode=p}return cr(i),null;case 13:if(wt(bt),p=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(St&&Br!==null&&i.mode&1&&!(i.flags&128))Jd(),ti(),i.flags|=98560,C=!1;else if(C=Rs(i),p!==null&&p.dehydrated!==null){if(n===null){if(!C)throw Error(r(318));if(C=i.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(r(317));C[on]=i}else ti(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;cr(i),C=!1}else Qr!==null&&(Bc(Qr),Qr=null),C=!0;if(!C)return i.flags&65536?i:null}return i.flags&128?(i.lanes=c,i):(p=p!==null,p!==(n!==null&&n.memoizedState!==null)&&p&&(i.child.flags|=8192,i.mode&1&&(n===null||bt.current&1?Ft===0&&(Ft=3):Oc())),i.updateQueue!==null&&(i.flags|=4),cr(i),null);case 4:return ii(),Ec(n,i),n===null&&to(i.stateNode.containerInfo),cr(i),null;case 10:return Yu(i.type._context),cr(i),null;case 17:return Cr(i.type)&&Ts(),cr(i),null;case 19:if(wt(bt),C=i.memoizedState,C===null)return cr(i),null;if(p=(i.flags&128)!==0,R=C.rendering,R===null)if(p)ho(C,!1);else{if(Ft!==0||n!==null&&n.flags&128)for(n=i.child;n!==null;){if(R=zs(n),R!==null){for(i.flags|=128,ho(C,!1),p=R.updateQueue,p!==null&&(i.updateQueue=p,i.flags|=4),i.subtreeFlags=0,p=c,c=i.child;c!==null;)C=c,n=p,C.flags&=14680066,R=C.alternate,R===null?(C.childLanes=0,C.lanes=n,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=R.childLanes,C.lanes=R.lanes,C.child=R.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=R.memoizedProps,C.memoizedState=R.memoizedState,C.updateQueue=R.updateQueue,C.type=R.type,n=R.dependencies,C.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),c=c.sibling;return pt(bt,bt.current&1|2),i.child}n=n.sibling}C.tail!==null&&Et()>ui&&(i.flags|=128,p=!0,ho(C,!1),i.lanes=4194304)}else{if(!p)if(n=zs(R),n!==null){if(i.flags|=128,p=!0,c=n.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),ho(C,!0),C.tail===null&&C.tailMode==="hidden"&&!R.alternate&&!St)return cr(i),null}else 2*Et()-C.renderingStartTime>ui&&c!==1073741824&&(i.flags|=128,p=!0,ho(C,!1),i.lanes=4194304);C.isBackwards?(R.sibling=i.child,i.child=R):(c=C.last,c!==null?c.sibling=R:i.child=R,C.last=R)}return C.tail!==null?(i=C.tail,C.rendering=i,C.tail=i.sibling,C.renderingStartTime=Et(),i.sibling=null,c=bt.current,pt(bt,p?c&1|2:c&1),i):(cr(i),null);case 22:case 23:return Mc(),p=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==p&&(i.flags|=8192),p&&i.mode&1?Ir&1073741824&&(cr(i),i.subtreeFlags&6&&(i.flags|=8192)):cr(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function n0(n,i){switch(Uu(i),i.tag){case 1:return Cr(i.type)&&Ts(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return ii(),wt(Sr),wt(lr),rc(),n=i.flags,n&65536&&!(n&128)?(i.flags=n&-65537|128,i):null;case 5:return ec(i),null;case 13:if(wt(bt),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));ti()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return wt(bt),null;case 4:return ii(),null;case 10:return Yu(i.type._context),null;case 22:case 23:return Mc(),null;case 24:return null;default:return null}}var Ws=!1,fr=!1,a0=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function si(n,i){var c=n.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){Pt(n,i,p)}else c.current=null}function Sc(n,i,c){try{c()}catch(p){Pt(n,i,p)}}var Xv=!1;function i0(n,i){if(Mu=ds,n=Nd(),Tu(n)){if("selectionStart"in n)var c={start:n.selectionStart,end:n.selectionEnd};else e:{c=(c=n.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var w=p.anchorOffset,C=p.focusNode;p=p.focusOffset;try{c.nodeType,C.nodeType}catch{c=null;break e}var R=0,q=-1,Y=-1,se=0,ge=0,ye=n,pe=null;t:for(;;){for(var De;ye!==c||w!==0&&ye.nodeType!==3||(q=R+w),ye!==C||p!==0&&ye.nodeType!==3||(Y=R+p),ye.nodeType===3&&(R+=ye.nodeValue.length),(De=ye.firstChild)!==null;)pe=ye,ye=De;for(;;){if(ye===n)break t;if(pe===c&&++se===w&&(q=R),pe===C&&++ge===p&&(Y=R),(De=ye.nextSibling)!==null)break;ye=pe,pe=ye.parentNode}ye=De}c=q===-1||Y===-1?null:{start:q,end:Y}}else c=null}c=c||{start:0,end:0}}else c=null;for(Ou={focusedElem:n,selectionRange:c},ds=!1,Ne=i;Ne!==null;)if(i=Ne,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Ne=n;else for(;Ne!==null;){i=Ne;try{var Ie=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var Me=Ie.memoizedProps,Mt=Ie.memoizedState,ee=i.stateNode,X=ee.getSnapshotBeforeUpdate(i.elementType===i.type?Me:Xr(i.type,Me),Mt);ee.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var ne=i.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(we){Pt(i,i.return,we)}if(n=i.sibling,n!==null){n.return=i.return,Ne=n;break}Ne=i.return}return Ie=Xv,Xv=!1,Ie}function po(n,i,c){var p=i.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var w=p=p.next;do{if((w.tag&n)===n){var C=w.destroy;w.destroy=void 0,C!==void 0&&Sc(i,c,C)}w=w.next}while(w!==p)}}function Ks(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&n)===n){var p=c.create;c.destroy=p()}c=c.next}while(c!==i)}}function Cc(n){var i=n.ref;if(i!==null){var c=n.stateNode;switch(n.tag){case 5:n=c;break;default:n=c}typeof i=="function"?i(n):i.current=n}}function Zv(n){var i=n.alternate;i!==null&&(n.alternate=null,Zv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[on],delete i[no],delete i[ju],delete i[_y],delete i[$y])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Jv(n){return n.tag===5||n.tag===3||n.tag===4}function eh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Jv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function bc(n,i,c){var p=n.tag;if(p===5||p===6)n=n.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(n,i):c.insertBefore(n,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(n,c)):(i=c,i.appendChild(n)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=bs));else if(p!==4&&(n=n.child,n!==null))for(bc(n,i,c),n=n.sibling;n!==null;)bc(n,i,c),n=n.sibling}function kc(n,i,c){var p=n.tag;if(p===5||p===6)n=n.stateNode,i?c.insertBefore(n,i):c.appendChild(n);else if(p!==4&&(n=n.child,n!==null))for(kc(n,i,c),n=n.sibling;n!==null;)kc(n,i,c),n=n.sibling}var Yt=null,Zr=!1;function Kn(n,i,c){for(c=c.child;c!==null;)th(n,i,c),c=c.sibling}function th(n,i,c){if(zr&&typeof zr.onCommitFiberUnmount=="function")try{zr.onCommitFiberUnmount(sr,c)}catch{}switch(c.tag){case 5:fr||si(c,i);case 6:var p=Yt,w=Zr;Yt=null,Kn(n,i,c),Yt=p,Zr=w,Yt!==null&&(Zr?(n=Yt,c=c.stateNode,n.nodeType===8?n.parentNode.removeChild(c):n.removeChild(c)):Yt.removeChild(c.stateNode));break;case 18:Yt!==null&&(Zr?(n=Yt,c=c.stateNode,n.nodeType===8?Fu(n.parentNode,c):n.nodeType===1&&Fu(n,c),Wi(n)):Fu(Yt,c.stateNode));break;case 4:p=Yt,w=Zr,Yt=c.stateNode.containerInfo,Zr=!0,Kn(n,i,c),Yt=p,Zr=w;break;case 0:case 11:case 14:case 15:if(!fr&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){w=p=p.next;do{var C=w,R=C.destroy;C=C.tag,R!==void 0&&(C&2||C&4)&&Sc(c,i,R),w=w.next}while(w!==p)}Kn(n,i,c);break;case 1:if(!fr&&(si(c,i),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(q){Pt(c,i,q)}Kn(n,i,c);break;case 21:Kn(n,i,c);break;case 22:c.mode&1?(fr=(p=fr)||c.memoizedState!==null,Kn(n,i,c),fr=p):Kn(n,i,c);break;default:Kn(n,i,c)}}function rh(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var c=n.stateNode;c===null&&(c=n.stateNode=new a0),i.forEach(function(p){var w=h0.bind(null,n,p);c.has(p)||(c.add(p),p.then(w,w))})}}function Jr(n,i){var c=i.deletions;if(c!==null)for(var p=0;p<c.length;p++){var w=c[p];try{var C=n,R=i,q=R;e:for(;q!==null;){switch(q.tag){case 5:Yt=q.stateNode,Zr=!1;break e;case 3:Yt=q.stateNode.containerInfo,Zr=!0;break e;case 4:Yt=q.stateNode.containerInfo,Zr=!0;break e}q=q.return}if(Yt===null)throw Error(r(160));th(C,R,w),Yt=null,Zr=!1;var Y=w.alternate;Y!==null&&(Y.return=null),w.return=null}catch(se){Pt(w,i,se)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)nh(i,n),i=i.sibling}function nh(n,i){var c=n.alternate,p=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Jr(i,n),un(n),p&4){try{po(3,n,n.return),Ks(3,n)}catch(Me){Pt(n,n.return,Me)}try{po(5,n,n.return)}catch(Me){Pt(n,n.return,Me)}}break;case 1:Jr(i,n),un(n),p&512&&c!==null&&si(c,c.return);break;case 5:if(Jr(i,n),un(n),p&512&&c!==null&&si(c,c.return),n.flags&32){var w=n.stateNode;try{J(w,"")}catch(Me){Pt(n,n.return,Me)}}if(p&4&&(w=n.stateNode,w!=null)){var C=n.memoizedProps,R=c!==null?c.memoizedProps:C,q=n.type,Y=n.updateQueue;if(n.updateQueue=null,Y!==null)try{q==="input"&&C.type==="radio"&&C.name!=null&&Re(w,C),Be(q,R);var se=Be(q,C);for(R=0;R<Y.length;R+=2){var ge=Y[R],ye=Y[R+1];ge==="style"?Ce(w,ye):ge==="dangerouslySetInnerHTML"?fe(w,ye):ge==="children"?J(w,ye):k(w,ge,ye,se)}switch(q){case"input":Pe(w,C);break;case"textarea":Ye(w,C);break;case"select":var pe=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!C.multiple;var De=C.value;De!=null?Qe(w,!!C.multiple,De,!1):pe!==!!C.multiple&&(C.defaultValue!=null?Qe(w,!!C.multiple,C.defaultValue,!0):Qe(w,!!C.multiple,C.multiple?[]:"",!1))}w[no]=C}catch(Me){Pt(n,n.return,Me)}}break;case 6:if(Jr(i,n),un(n),p&4){if(n.stateNode===null)throw Error(r(162));w=n.stateNode,C=n.memoizedProps;try{w.nodeValue=C}catch(Me){Pt(n,n.return,Me)}}break;case 3:if(Jr(i,n),un(n),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Wi(i.containerInfo)}catch(Me){Pt(n,n.return,Me)}break;case 4:Jr(i,n),un(n);break;case 13:Jr(i,n),un(n),w=n.child,w.flags&8192&&(C=w.memoizedState!==null,w.stateNode.isHidden=C,!C||w.alternate!==null&&w.alternate.memoizedState!==null||(Pc=Et())),p&4&&rh(n);break;case 22:if(ge=c!==null&&c.memoizedState!==null,n.mode&1?(fr=(se=fr)||ge,Jr(i,n),fr=se):Jr(i,n),un(n),p&8192){if(se=n.memoizedState!==null,(n.stateNode.isHidden=se)&&!ge&&n.mode&1)for(Ne=n,ge=n.child;ge!==null;){for(ye=Ne=ge;Ne!==null;){switch(pe=Ne,De=pe.child,pe.tag){case 0:case 11:case 14:case 15:po(4,pe,pe.return);break;case 1:si(pe,pe.return);var Ie=pe.stateNode;if(typeof Ie.componentWillUnmount=="function"){p=pe,c=pe.return;try{i=p,Ie.props=i.memoizedProps,Ie.state=i.memoizedState,Ie.componentWillUnmount()}catch(Me){Pt(p,c,Me)}}break;case 5:si(pe,pe.return);break;case 22:if(pe.memoizedState!==null){oh(ye);continue}}De!==null?(De.return=pe,Ne=De):oh(ye)}ge=ge.sibling}e:for(ge=null,ye=n;;){if(ye.tag===5){if(ge===null){ge=ye;try{w=ye.stateNode,se?(C=w.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):(q=ye.stateNode,Y=ye.memoizedProps.style,R=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,q.style.display=ve("display",R))}catch(Me){Pt(n,n.return,Me)}}}else if(ye.tag===6){if(ge===null)try{ye.stateNode.nodeValue=se?"":ye.memoizedProps}catch(Me){Pt(n,n.return,Me)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===n)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===n)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===n)break e;ge===ye&&(ge=null),ye=ye.return}ge===ye&&(ge=null),ye.sibling.return=ye.return,ye=ye.sibling}}break;case 19:Jr(i,n),un(n),p&4&&rh(n);break;case 21:break;default:Jr(i,n),un(n)}}function un(n){var i=n.flags;if(i&2){try{e:{for(var c=n.return;c!==null;){if(Jv(c)){var p=c;break e}c=c.return}throw Error(r(160))}switch(p.tag){case 5:var w=p.stateNode;p.flags&32&&(J(w,""),p.flags&=-33);var C=eh(n);kc(n,C,w);break;case 3:case 4:var R=p.stateNode.containerInfo,q=eh(n);bc(n,q,R);break;default:throw Error(r(161))}}catch(Y){Pt(n,n.return,Y)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function o0(n,i,c){Ne=n,ah(n)}function ah(n,i,c){for(var p=(n.mode&1)!==0;Ne!==null;){var w=Ne,C=w.child;if(w.tag===22&&p){var R=w.memoizedState!==null||Ws;if(!R){var q=w.alternate,Y=q!==null&&q.memoizedState!==null||fr;q=Ws;var se=fr;if(Ws=R,(fr=Y)&&!se)for(Ne=w;Ne!==null;)R=Ne,Y=R.child,R.tag===22&&R.memoizedState!==null?sh(w):Y!==null?(Y.return=R,Ne=Y):sh(w);for(;C!==null;)Ne=C,ah(C),C=C.sibling;Ne=w,Ws=q,fr=se}ih(n)}else w.subtreeFlags&8772&&C!==null?(C.return=w,Ne=C):ih(n)}}function ih(n){for(;Ne!==null;){var i=Ne;if(i.flags&8772){var c=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:fr||Ks(5,i);break;case 1:var p=i.stateNode;if(i.flags&4&&!fr)if(c===null)p.componentDidMount();else{var w=i.elementType===i.type?c.memoizedProps:Xr(i.type,c.memoizedProps);p.componentDidUpdate(w,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var C=i.updateQueue;C!==null&&ov(i,C,p);break;case 3:var R=i.updateQueue;if(R!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}ov(i,R,c)}break;case 5:var q=i.stateNode;if(c===null&&i.flags&4){c=q;var Y=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&c.focus();break;case"img":Y.src&&(c.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var se=i.alternate;if(se!==null){var ge=se.memoizedState;if(ge!==null){var ye=ge.dehydrated;ye!==null&&Wi(ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}fr||i.flags&512&&Cc(i)}catch(pe){Pt(i,i.return,pe)}}if(i===n){Ne=null;break}if(c=i.sibling,c!==null){c.return=i.return,Ne=c;break}Ne=i.return}}function oh(n){for(;Ne!==null;){var i=Ne;if(i===n){Ne=null;break}var c=i.sibling;if(c!==null){c.return=i.return,Ne=c;break}Ne=i.return}}function sh(n){for(;Ne!==null;){var i=Ne;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{Ks(4,i)}catch(Y){Pt(i,c,Y)}break;case 1:var p=i.stateNode;if(typeof p.componentDidMount=="function"){var w=i.return;try{p.componentDidMount()}catch(Y){Pt(i,w,Y)}}var C=i.return;try{Cc(i)}catch(Y){Pt(i,C,Y)}break;case 5:var R=i.return;try{Cc(i)}catch(Y){Pt(i,R,Y)}}}catch(Y){Pt(i,i.return,Y)}if(i===n){Ne=null;break}var q=i.sibling;if(q!==null){q.return=i.return,Ne=q;break}Ne=i.return}}var s0=Math.ceil,Gs=D.ReactCurrentDispatcher,Tc=D.ReactCurrentOwner,$r=D.ReactCurrentBatchConfig,tt=0,Wt=null,Ot=null,Qt=0,Ir=0,li=$n(0),Ft=0,go=null,Ea=0,Ys=0,Dc=0,mo=null,kr=null,Pc=0,ui=1/0,kn=null,Qs=!1,Nc=null,Gn=null,Xs=!1,Yn=null,Zs=0,yo=0,Lc=null,Js=-1,el=0;function wr(){return tt&6?Et():Js!==-1?Js:Js=Et()}function Qn(n){return n.mode&1?tt&2&&Qt!==0?Qt&-Qt:Hy.transition!==null?(el===0&&(el=ed()),el):(n=dt,n!==0||(n=window.event,n=n===void 0?16:ud(n.type)),n):1}function en(n,i,c,p){if(50<yo)throw yo=0,Lc=null,Error(r(185));_i(n,c,p),(!(tt&2)||n!==Wt)&&(n===Wt&&(!(tt&2)&&(Ys|=c),Ft===4&&Xn(n,Qt)),Tr(n,p),c===1&&tt===0&&!(i.mode&1)&&(ui=Et()+500,Ps&&Hn()))}function Tr(n,i){var c=n.callbackNode;Hm(n,i);var p=us(n,n===Wt?Qt:0);if(p===0)c!==null&&Bn(c),n.callbackNode=null,n.callbackPriority=0;else if(i=p&-p,n.callbackPriority!==i){if(c!=null&&Bn(c),i===1)n.tag===0?Uy(uh.bind(null,n)):Gd(uh.bind(null,n)),jy(function(){!(tt&6)&&Hn()}),c=null;else{switch(td(p)){case 1:c=ji;break;case 4:c=Er;break;case 16:c=In;break;case 536870912:c=Mn;break;default:c=In}c=mh(c,lh.bind(null,n))}n.callbackPriority=i,n.callbackNode=c}}function lh(n,i){if(Js=-1,el=0,tt&6)throw Error(r(327));var c=n.callbackNode;if(ci()&&n.callbackNode!==c)return null;var p=us(n,n===Wt?Qt:0);if(p===0)return null;if(p&30||p&n.expiredLanes||i)i=tl(n,p);else{i=p;var w=tt;tt|=2;var C=fh();(Wt!==n||Qt!==i)&&(kn=null,ui=Et()+500,Ca(n,i));do try{c0();break}catch(q){ch(n,q)}while(!0);Gu(),Gs.current=C,tt=w,Ot!==null?i=0:(Wt=null,Qt=0,i=Ft)}if(i!==0){if(i===2&&(w=cu(n),w!==0&&(p=w,i=Rc(n,w))),i===1)throw c=go,Ca(n,0),Xn(n,p),Tr(n,Et()),c;if(i===6)Xn(n,p);else{if(w=n.current.alternate,!(p&30)&&!l0(w)&&(i=tl(n,p),i===2&&(C=cu(n),C!==0&&(p=C,i=Rc(n,C))),i===1))throw c=go,Ca(n,0),Xn(n,p),Tr(n,Et()),c;switch(n.finishedWork=w,n.finishedLanes=p,i){case 0:case 1:throw Error(r(345));case 2:ba(n,kr,kn);break;case 3:if(Xn(n,p),(p&130023424)===p&&(i=Pc+500-Et(),10<i)){if(us(n,0)!==0)break;if(w=n.suspendedLanes,(w&p)!==p){wr(),n.pingedLanes|=n.suspendedLanes&w;break}n.timeoutHandle=zu(ba.bind(null,n,kr,kn),i);break}ba(n,kr,kn);break;case 4:if(Xn(n,p),(p&4194240)===p)break;for(i=n.eventTimes,w=-1;0<p;){var R=31-Gr(p);C=1<<R,R=i[R],R>w&&(w=R),p&=~C}if(p=w,p=Et()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*s0(p/1960))-p,10<p){n.timeoutHandle=zu(ba.bind(null,n,kr,kn),p);break}ba(n,kr,kn);break;case 5:ba(n,kr,kn);break;default:throw Error(r(329))}}}return Tr(n,Et()),n.callbackNode===c?lh.bind(null,n):null}function Rc(n,i){var c=mo;return n.current.memoizedState.isDehydrated&&(Ca(n,i).flags|=256),n=tl(n,i),n!==2&&(i=kr,kr=c,i!==null&&Bc(i)),n}function Bc(n){kr===null?kr=n:kr.push.apply(kr,n)}function l0(n){for(var i=n;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var w=c[p],C=w.getSnapshot;w=w.value;try{if(!Yr(C(),w))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xn(n,i){for(i&=~Dc,i&=~Ys,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var c=31-Gr(i),p=1<<c;n[c]=-1,i&=~p}}function uh(n){if(tt&6)throw Error(r(327));ci();var i=us(n,0);if(!(i&1))return Tr(n,Et()),null;var c=tl(n,i);if(n.tag!==0&&c===2){var p=cu(n);p!==0&&(i=p,c=Rc(n,p))}if(c===1)throw c=go,Ca(n,0),Xn(n,i),Tr(n,Et()),c;if(c===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,ba(n,kr,kn),Tr(n,Et()),null}function Ic(n,i){var c=tt;tt|=1;try{return n(i)}finally{tt=c,tt===0&&(ui=Et()+500,Ps&&Hn())}}function Sa(n){Yn!==null&&Yn.tag===0&&!(tt&6)&&ci();var i=tt;tt|=1;var c=$r.transition,p=dt;try{if($r.transition=null,dt=1,n)return n()}finally{dt=p,$r.transition=c,tt=i,!(tt&6)&&Hn()}}function Mc(){Ir=li.current,wt(li)}function Ca(n,i){n.finishedWork=null,n.finishedLanes=0;var c=n.timeoutHandle;if(c!==-1&&(n.timeoutHandle=-1,Fy(c)),Ot!==null)for(c=Ot.return;c!==null;){var p=c;switch(Uu(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Ts();break;case 3:ii(),wt(Sr),wt(lr),rc();break;case 5:ec(p);break;case 4:ii();break;case 13:wt(bt);break;case 19:wt(bt);break;case 10:Yu(p.type._context);break;case 22:case 23:Mc()}c=c.return}if(Wt=n,Ot=n=Zn(n.current,null),Qt=Ir=i,Ft=0,go=null,Dc=Ys=Ea=0,kr=mo=null,ya!==null){for(i=0;i<ya.length;i++)if(c=ya[i],p=c.interleaved,p!==null){c.interleaved=null;var w=p.next,C=c.pending;if(C!==null){var R=C.next;C.next=w,p.next=R}c.pending=p}ya=null}return n}function ch(n,i){do{var c=Ot;try{if(Gu(),Fs.current=$s,js){for(var p=kt.memoizedState;p!==null;){var w=p.queue;w!==null&&(w.pending=null),p=p.next}js=!1}if(xa=0,qt=zt=kt=null,uo=!1,co=0,Tc.current=null,c===null||c.return===null){Ft=1,go=i,Ot=null;break}e:{var C=n,R=c.return,q=c,Y=i;if(i=Qt,q.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var se=Y,ge=q,ye=ge.tag;if(!(ge.mode&1)&&(ye===0||ye===11||ye===15)){var pe=ge.alternate;pe?(ge.updateQueue=pe.updateQueue,ge.memoizedState=pe.memoizedState,ge.lanes=pe.lanes):(ge.updateQueue=null,ge.memoizedState=null)}var De=Ov(R);if(De!==null){De.flags&=-257,Av(De,R,q,C,i),De.mode&1&&Mv(C,se,i),i=De,Y=se;var Ie=i.updateQueue;if(Ie===null){var Me=new Set;Me.add(Y),i.updateQueue=Me}else Ie.add(Y);break e}else{if(!(i&1)){Mv(C,se,i),Oc();break e}Y=Error(r(426))}}else if(St&&q.mode&1){var Mt=Ov(R);if(Mt!==null){!(Mt.flags&65536)&&(Mt.flags|=256),Av(Mt,R,q,C,i),Wu(oi(Y,q));break e}}C=Y=oi(Y,q),Ft!==4&&(Ft=2),mo===null?mo=[C]:mo.push(C),C=R;do{switch(C.tag){case 3:C.flags|=65536,i&=-i,C.lanes|=i;var ee=Bv(C,Y,i);iv(C,ee);break e;case 1:q=Y;var X=C.type,ne=C.stateNode;if(!(C.flags&128)&&(typeof X.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(Gn===null||!Gn.has(ne)))){C.flags|=65536,i&=-i,C.lanes|=i;var we=Iv(C,q,i);iv(C,we);break e}}C=C.return}while(C!==null)}vh(c)}catch(Oe){i=Oe,Ot===c&&c!==null&&(Ot=c=c.return);continue}break}while(!0)}function fh(){var n=Gs.current;return Gs.current=$s,n===null?$s:n}function Oc(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Wt===null||!(Ea&268435455)&&!(Ys&268435455)||Xn(Wt,Qt)}function tl(n,i){var c=tt;tt|=2;var p=fh();(Wt!==n||Qt!==i)&&(kn=null,Ca(n,i));do try{u0();break}catch(w){ch(n,w)}while(!0);if(Gu(),tt=c,Gs.current=p,Ot!==null)throw Error(r(261));return Wt=null,Qt=0,Ft}function u0(){for(;Ot!==null;)dh(Ot)}function c0(){for(;Ot!==null&&!Fi();)dh(Ot)}function dh(n){var i=gh(n.alternate,n,Ir);n.memoizedProps=n.pendingProps,i===null?vh(n):Ot=i,Tc.current=null}function vh(n){var i=n;do{var c=i.alternate;if(n=i.return,i.flags&32768){if(c=n0(c,i),c!==null){c.flags&=32767,Ot=c;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ft=6,Ot=null;return}}else if(c=r0(c,i,Ir),c!==null){Ot=c;return}if(i=i.sibling,i!==null){Ot=i;return}Ot=i=n}while(i!==null);Ft===0&&(Ft=5)}function ba(n,i,c){var p=dt,w=$r.transition;try{$r.transition=null,dt=1,f0(n,i,c,p)}finally{$r.transition=w,dt=p}return null}function f0(n,i,c,p){do ci();while(Yn!==null);if(tt&6)throw Error(r(327));c=n.finishedWork;var w=n.finishedLanes;if(c===null)return null;if(n.finishedWork=null,n.finishedLanes=0,c===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var C=c.lanes|c.childLanes;if(qm(n,C),n===Wt&&(Ot=Wt=null,Qt=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||Xs||(Xs=!0,mh(In,function(){return ci(),null})),C=(c.flags&15990)!==0,c.subtreeFlags&15990||C){C=$r.transition,$r.transition=null;var R=dt;dt=1;var q=tt;tt|=4,Tc.current=null,i0(n,c),nh(c,n),Ry(Ou),ds=!!Mu,Ou=Mu=null,n.current=c,o0(c),$a(),tt=q,dt=R,$r.transition=C}else n.current=c;if(Xs&&(Xs=!1,Yn=n,Zs=w),C=n.pendingLanes,C===0&&(Gn=null),jm(c.stateNode),Tr(n,Et()),i!==null)for(p=n.onRecoverableError,c=0;c<i.length;c++)w=i[c],p(w.value,{componentStack:w.stack,digest:w.digest});if(Qs)throw Qs=!1,n=Nc,Nc=null,n;return Zs&1&&n.tag!==0&&ci(),C=n.pendingLanes,C&1?n===Lc?yo++:(yo=0,Lc=n):yo=0,Hn(),null}function ci(){if(Yn!==null){var n=td(Zs),i=$r.transition,c=dt;try{if($r.transition=null,dt=16>n?16:n,Yn===null)var p=!1;else{if(n=Yn,Yn=null,Zs=0,tt&6)throw Error(r(331));var w=tt;for(tt|=4,Ne=n.current;Ne!==null;){var C=Ne,R=C.child;if(Ne.flags&16){var q=C.deletions;if(q!==null){for(var Y=0;Y<q.length;Y++){var se=q[Y];for(Ne=se;Ne!==null;){var ge=Ne;switch(ge.tag){case 0:case 11:case 15:po(8,ge,C)}var ye=ge.child;if(ye!==null)ye.return=ge,Ne=ye;else for(;Ne!==null;){ge=Ne;var pe=ge.sibling,De=ge.return;if(Zv(ge),ge===se){Ne=null;break}if(pe!==null){pe.return=De,Ne=pe;break}Ne=De}}}var Ie=C.alternate;if(Ie!==null){var Me=Ie.child;if(Me!==null){Ie.child=null;do{var Mt=Me.sibling;Me.sibling=null,Me=Mt}while(Me!==null)}}Ne=C}}if(C.subtreeFlags&2064&&R!==null)R.return=C,Ne=R;else e:for(;Ne!==null;){if(C=Ne,C.flags&2048)switch(C.tag){case 0:case 11:case 15:po(9,C,C.return)}var ee=C.sibling;if(ee!==null){ee.return=C.return,Ne=ee;break e}Ne=C.return}}var X=n.current;for(Ne=X;Ne!==null;){R=Ne;var ne=R.child;if(R.subtreeFlags&2064&&ne!==null)ne.return=R,Ne=ne;else e:for(R=X;Ne!==null;){if(q=Ne,q.flags&2048)try{switch(q.tag){case 0:case 11:case 15:Ks(9,q)}}catch(Oe){Pt(q,q.return,Oe)}if(q===R){Ne=null;break e}var we=q.sibling;if(we!==null){we.return=q.return,Ne=we;break e}Ne=q.return}}if(tt=w,Hn(),zr&&typeof zr.onPostCommitFiberRoot=="function")try{zr.onPostCommitFiberRoot(sr,n)}catch{}p=!0}return p}finally{dt=c,$r.transition=i}}return!1}function hh(n,i,c){i=oi(c,i),i=Bv(n,i,1),n=Wn(n,i,1),i=wr(),n!==null&&(_i(n,1,i),Tr(n,i))}function Pt(n,i,c){if(n.tag===3)hh(n,n,c);else for(;i!==null;){if(i.tag===3){hh(i,n,c);break}else if(i.tag===1){var p=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Gn===null||!Gn.has(p))){n=oi(c,n),n=Iv(i,n,1),i=Wn(i,n,1),n=wr(),i!==null&&(_i(i,1,n),Tr(i,n));break}}i=i.return}}function d0(n,i,c){var p=n.pingCache;p!==null&&p.delete(i),i=wr(),n.pingedLanes|=n.suspendedLanes&c,Wt===n&&(Qt&c)===c&&(Ft===4||Ft===3&&(Qt&130023424)===Qt&&500>Et()-Pc?Ca(n,0):Dc|=c),Tr(n,i)}function ph(n,i){i===0&&(n.mode&1?(i=ls,ls<<=1,!(ls&130023424)&&(ls=4194304)):i=1);var c=wr();n=Sn(n,i),n!==null&&(_i(n,i,c),Tr(n,c))}function v0(n){var i=n.memoizedState,c=0;i!==null&&(c=i.retryLane),ph(n,c)}function h0(n,i){var c=0;switch(n.tag){case 13:var p=n.stateNode,w=n.memoizedState;w!==null&&(c=w.retryLane);break;case 19:p=n.stateNode;break;default:throw Error(r(314))}p!==null&&p.delete(i),ph(n,c)}var gh;gh=function(n,i,c){if(n!==null)if(n.memoizedProps!==i.pendingProps||Sr.current)br=!0;else{if(!(n.lanes&c)&&!(i.flags&128))return br=!1,t0(n,i,c);br=!!(n.flags&131072)}else br=!1,St&&i.flags&1048576&&Yd(i,Ls,i.index);switch(i.lanes=0,i.tag){case 2:var p=i.type;qs(n,i),n=i.pendingProps;var w=Za(i,lr.current);ai(i,c),w=ic(null,i,p,n,w,c);var C=oc();return i.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Cr(p)?(C=!0,Ds(i)):C=!1,i.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Zu(i),w.updater=Us,i.stateNode=w,w._reactInternals=i,dc(i,p,n,c),i=gc(null,i,p,!0,C,c)):(i.tag=0,St&&C&&$u(i),yr(null,i,w,c),i=i.child),i;case 16:p=i.elementType;e:{switch(qs(n,i),n=i.pendingProps,w=p._init,p=w(p._payload),i.type=p,w=i.tag=g0(p),n=Xr(p,n),w){case 0:i=pc(null,i,p,n,c);break e;case 1:i=$v(null,i,p,n,c);break e;case 11:i=zv(null,i,p,n,c);break e;case 14:i=Fv(null,i,p,Xr(p.type,n),c);break e}throw Error(r(306,p,""))}return i;case 0:return p=i.type,w=i.pendingProps,w=i.elementType===p?w:Xr(p,w),pc(n,i,p,w,c);case 1:return p=i.type,w=i.pendingProps,w=i.elementType===p?w:Xr(p,w),$v(n,i,p,w,c);case 3:e:{if(Uv(i),n===null)throw Error(r(387));p=i.pendingProps,C=i.memoizedState,w=C.element,av(n,i),As(i,p,null,c);var R=i.memoizedState;if(p=R.element,C.isDehydrated)if(C={element:p,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},i.updateQueue.baseState=C,i.memoizedState=C,i.flags&256){w=oi(Error(r(423)),i),i=Hv(n,i,p,c,w);break e}else if(p!==w){w=oi(Error(r(424)),i),i=Hv(n,i,p,c,w);break e}else for(Br=_n(i.stateNode.containerInfo.firstChild),Rr=i,St=!0,Qr=null,c=rv(i,null,p,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(ti(),p===w){i=bn(n,i,c);break e}yr(n,i,p,c)}i=i.child}return i;case 5:return sv(i),n===null&&qu(i),p=i.type,w=i.pendingProps,C=n!==null?n.memoizedProps:null,R=w.children,Au(p,w)?R=null:C!==null&&Au(p,C)&&(i.flags|=32),_v(n,i),yr(n,i,R,c),i.child;case 6:return n===null&&qu(i),null;case 13:return qv(n,i,c);case 4:return Ju(i,i.stateNode.containerInfo),p=i.pendingProps,n===null?i.child=ri(i,null,p,c):yr(n,i,p,c),i.child;case 11:return p=i.type,w=i.pendingProps,w=i.elementType===p?w:Xr(p,w),zv(n,i,p,w,c);case 7:return yr(n,i,i.pendingProps,c),i.child;case 8:return yr(n,i,i.pendingProps.children,c),i.child;case 12:return yr(n,i,i.pendingProps.children,c),i.child;case 10:e:{if(p=i.type._context,w=i.pendingProps,C=i.memoizedProps,R=w.value,pt(Is,p._currentValue),p._currentValue=R,C!==null)if(Yr(C.value,R)){if(C.children===w.children&&!Sr.current){i=bn(n,i,c);break e}}else for(C=i.child,C!==null&&(C.return=i);C!==null;){var q=C.dependencies;if(q!==null){R=C.child;for(var Y=q.firstContext;Y!==null;){if(Y.context===p){if(C.tag===1){Y=Cn(-1,c&-c),Y.tag=2;var se=C.updateQueue;if(se!==null){se=se.shared;var ge=se.pending;ge===null?Y.next=Y:(Y.next=ge.next,ge.next=Y),se.pending=Y}}C.lanes|=c,Y=C.alternate,Y!==null&&(Y.lanes|=c),Qu(C.return,c,i),q.lanes|=c;break}Y=Y.next}}else if(C.tag===10)R=C.type===i.type?null:C.child;else if(C.tag===18){if(R=C.return,R===null)throw Error(r(341));R.lanes|=c,q=R.alternate,q!==null&&(q.lanes|=c),Qu(R,c,i),R=C.sibling}else R=C.child;if(R!==null)R.return=C;else for(R=C;R!==null;){if(R===i){R=null;break}if(C=R.sibling,C!==null){C.return=R.return,R=C;break}R=R.return}C=R}yr(n,i,w.children,c),i=i.child}return i;case 9:return w=i.type,p=i.pendingProps.children,ai(i,c),w=Vr(w),p=p(w),i.flags|=1,yr(n,i,p,c),i.child;case 14:return p=i.type,w=Xr(p,i.pendingProps),w=Xr(p.type,w),Fv(n,i,p,w,c);case 15:return jv(n,i,i.type,i.pendingProps,c);case 17:return p=i.type,w=i.pendingProps,w=i.elementType===p?w:Xr(p,w),qs(n,i),i.tag=1,Cr(p)?(n=!0,Ds(i)):n=!1,ai(i,c),Lv(i,p,w),dc(i,p,w,c),gc(null,i,p,!0,n,c);case 19:return Kv(n,i,c);case 22:return Vv(n,i,c)}throw Error(r(156,i.tag))};function mh(n,i){return as(n,i)}function p0(n,i,c,p){this.tag=n,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(n,i,c,p){return new p0(n,i,c,p)}function Ac(n){return n=n.prototype,!(!n||!n.isReactComponent)}function g0(n){if(typeof n=="function")return Ac(n)?1:0;if(n!=null){if(n=n.$$typeof,n===A)return 11;if(n===$)return 14}return 2}function Zn(n,i){var c=n.alternate;return c===null?(c=Ur(n.tag,i,n.key,n.mode),c.elementType=n.elementType,c.type=n.type,c.stateNode=n.stateNode,c.alternate=n,n.alternate=c):(c.pendingProps=i,c.type=n.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=n.flags&14680064,c.childLanes=n.childLanes,c.lanes=n.lanes,c.child=n.child,c.memoizedProps=n.memoizedProps,c.memoizedState=n.memoizedState,c.updateQueue=n.updateQueue,i=n.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=n.sibling,c.index=n.index,c.ref=n.ref,c}function rl(n,i,c,p,w,C){var R=2;if(p=n,typeof n=="function")Ac(n)&&(R=1);else if(typeof n=="string")R=5;else e:switch(n){case T:return ka(c.children,w,C,i);case O:R=8,w|=8;break;case I:return n=Ur(12,c,i,w|2),n.elementType=I,n.lanes=C,n;case F:return n=Ur(13,c,i,w),n.elementType=F,n.lanes=C,n;case z:return n=Ur(19,c,i,w),n.elementType=z,n.lanes=C,n;case W:return nl(c,w,C,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case j:R=10;break e;case M:R=9;break e;case A:R=11;break e;case $:R=14;break e;case H:R=16,p=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return i=Ur(R,c,i,w),i.elementType=n,i.type=p,i.lanes=C,i}function ka(n,i,c,p){return n=Ur(7,n,p,i),n.lanes=c,n}function nl(n,i,c,p){return n=Ur(22,n,p,i),n.elementType=W,n.lanes=c,n.stateNode={isHidden:!1},n}function zc(n,i,c){return n=Ur(6,n,null,i),n.lanes=c,n}function Fc(n,i,c){return i=Ur(4,n.children!==null?n.children:[],n.key,i),i.lanes=c,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function m0(n,i,c,p,w){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fu(0),this.expirationTimes=fu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fu(0),this.identifierPrefix=p,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function jc(n,i,c,p,w,C,R,q,Y){return n=new m0(n,i,c,q,Y),i===1?(i=1,C===!0&&(i|=8)):i=0,C=Ur(3,null,null,i),n.current=C,C.stateNode=n,C.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zu(C),n}function y0(n,i,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:p==null?null:""+p,children:n,containerInfo:i,implementation:c}}function yh(n){if(!n)return Un;n=n._reactInternals;e:{if(mn(n)!==n||n.tag!==1)throw Error(r(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Cr(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(n.tag===1){var c=n.type;if(Cr(c))return Wd(n,c,i)}return i}function wh(n,i,c,p,w,C,R,q,Y){return n=jc(c,p,!0,n,w,C,R,q,Y),n.context=yh(null),c=n.current,p=wr(),w=Qn(c),C=Cn(p,w),C.callback=i??null,Wn(c,C,w),n.current.lanes=w,_i(n,w,p),Tr(n,p),n}function al(n,i,c,p){var w=i.current,C=wr(),R=Qn(w);return c=yh(c),i.context===null?i.context=c:i.pendingContext=c,i=Cn(C,R),i.payload={element:n},p=p===void 0?null:p,p!==null&&(i.callback=p),n=Wn(w,i,R),n!==null&&(en(n,w,R,C),Os(n,w,R)),R}function il(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function xh(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var c=n.retryLane;n.retryLane=c!==0&&c<i?c:i}}function Vc(n,i){xh(n,i),(n=n.alternate)&&xh(n,i)}function w0(){return null}var Eh=typeof reportError=="function"?reportError:function(n){console.error(n)};function _c(n){this._internalRoot=n}ol.prototype.render=_c.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));al(n,i,null,null)},ol.prototype.unmount=_c.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Sa(function(){al(null,n,null,null)}),i[yn]=null}};function ol(n){this._internalRoot=n}ol.prototype.unstable_scheduleHydration=function(n){if(n){var i=ad();n={blockedOn:null,target:n,priority:i};for(var c=0;c<Fn.length&&i!==0&&i<Fn[c].priority;c++);Fn.splice(c,0,n),c===0&&sd(n)}};function $c(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function sl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Sh(){}function x0(n,i,c,p,w){if(w){if(typeof p=="function"){var C=p;p=function(){var se=il(R);C.call(se)}}var R=wh(i,p,n,0,null,!1,!1,"",Sh);return n._reactRootContainer=R,n[yn]=R.current,to(n.nodeType===8?n.parentNode:n),Sa(),R}for(;w=n.lastChild;)n.removeChild(w);if(typeof p=="function"){var q=p;p=function(){var se=il(Y);q.call(se)}}var Y=jc(n,0,!1,null,null,!1,!1,"",Sh);return n._reactRootContainer=Y,n[yn]=Y.current,to(n.nodeType===8?n.parentNode:n),Sa(function(){al(i,Y,c,p)}),Y}function ll(n,i,c,p,w){var C=c._reactRootContainer;if(C){var R=C;if(typeof w=="function"){var q=w;w=function(){var Y=il(R);q.call(Y)}}al(i,R,n,w)}else R=x0(c,i,n,w,p);return il(R)}rd=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var c=Vi(i.pendingLanes);c!==0&&(du(i,c|1),Tr(i,Et()),!(tt&6)&&(ui=Et()+500,Hn()))}break;case 13:Sa(function(){var p=Sn(n,1);if(p!==null){var w=wr();en(p,n,1,w)}}),Vc(n,1)}},vu=function(n){if(n.tag===13){var i=Sn(n,134217728);if(i!==null){var c=wr();en(i,n,134217728,c)}Vc(n,134217728)}},nd=function(n){if(n.tag===13){var i=Qn(n),c=Sn(n,i);if(c!==null){var p=wr();en(c,n,i,p)}Vc(n,i)}},ad=function(){return dt},id=function(n,i){var c=dt;try{return dt=n,i()}finally{dt=c}},Ve=function(n,i,c){switch(i){case"input":if(Pe(n,c),i=c.name,c.type==="radio"&&i!=null){for(c=n;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var p=c[i];if(p!==n&&p.form===n.form){var w=ks(p);if(!w)throw Error(r(90));Se(p),Pe(p,w)}}}break;case"textarea":Ye(n,c);break;case"select":i=c.value,i!=null&&Qe(n,!!c.multiple,i,!1)}},Rt=Ic,Bt=Sa;var E0={usingClientEntryPoint:!1,Events:[ao,Qa,ks,nr,Dt,Ic]},wo={findFiberByHostInstance:ha,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},S0={bundleType:wo.bundleType,version:wo.version,rendererPackageName:wo.rendererPackageName,rendererConfig:wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=rs(n),n===null?null:n.stateNode},findFiberByHostInstance:wo.findFiberByHostInstance||w0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{sr=ul.inject(S0),zr=ul}catch{}}return Dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E0,Dr.createPortal=function(n,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$c(i))throw Error(r(200));return y0(n,i,null,c)},Dr.createRoot=function(n,i){if(!$c(n))throw Error(r(299));var c=!1,p="",w=Eh;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(p=i.identifierPrefix),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),i=jc(n,1,!1,null,null,c,!1,p,w),n[yn]=i.current,to(n.nodeType===8?n.parentNode:n),new _c(i)},Dr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=rs(i),n=n===null?null:n.stateNode,n},Dr.flushSync=function(n){return Sa(n)},Dr.hydrate=function(n,i,c){if(!sl(i))throw Error(r(200));return ll(null,n,i,!0,c)},Dr.hydrateRoot=function(n,i,c){if(!$c(n))throw Error(r(405));var p=c!=null&&c.hydratedSources||null,w=!1,C="",R=Eh;if(c!=null&&(c.unstable_strictMode===!0&&(w=!0),c.identifierPrefix!==void 0&&(C=c.identifierPrefix),c.onRecoverableError!==void 0&&(R=c.onRecoverableError)),i=wh(i,null,n,1,c??null,w,!1,C,R),n[yn]=i.current,to(n),p)for(n=0;n<p.length;n++)c=p[n],w=c._getVersion,w=w(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,w]:i.mutableSourceEagerHydrationData.push(c,w);return new ol(i)},Dr.render=function(n,i,c){if(!sl(i))throw Error(r(200));return ll(null,n,i,!1,c)},Dr.unmountComponentAtNode=function(n){if(!sl(n))throw Error(r(40));return n._reactRootContainer?(Sa(function(){ll(null,null,n,!1,function(){n._reactRootContainer=null,n[yn]=null})}),!0):!1},Dr.unstable_batchedUpdates=Ic,Dr.unstable_renderSubtreeIntoContainer=function(n,i,c,p){if(!sl(c))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return ll(n,i,c,!1,p)},Dr.version="18.3.1-next-f1338f8080-20240426",Dr}var Lh;function L0(){if(Lh)return qc.exports;Lh=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),qc.exports=N0(),qc.exports}var Rh;function R0(){if(Rh)return cl;Rh=1;var t=L0();return cl.createRoot=t.createRoot,cl.hydrateRoot=t.hydrateRoot,cl}var B0=R0();/*! js-cookie v3.0.5 | MIT */function fl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)t[a]=r[a]}return t}var I0={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function ff(t,e){function r(o,s,l){if(!(typeof document>"u")){l=fl({},e,l),typeof l.expires=="number"&&(l.expires=new Date(Date.now()+l.expires*864e5)),l.expires&&(l.expires=l.expires.toUTCString()),o=encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var u="";for(var d in l)l[d]&&(u+="; "+d,l[d]!==!0&&(u+="="+l[d].split(";")[0]));return document.cookie=o+"="+t.write(s,o)+u}}function a(o){if(!(typeof document>"u"||arguments.length&&!o)){for(var s=document.cookie?document.cookie.split("; "):[],l={},u=0;u<s.length;u++){var d=s[u].split("="),f=d.slice(1).join("=");try{var v=decodeURIComponent(d[0]);if(l[v]=t.read(f,v),o===v)break}catch{}}return o?l[o]:l}}return Object.create({set:r,get:a,remove:function(o,s){r(o,"",fl({},s,{expires:-1}))},withAttributes:function(o){return ff(this.converter,fl({},this.attributes,o))},withConverter:function(o){return ff(fl({},this.converter,o),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var lt=ff(I0,{path:"/"});function _t(t){"@babel/helpers - typeof";return _t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_t(t)}function Lf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M0(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function Rf(t,e,r){return e&&M0(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xp(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tn(t,e){return O0(t)||A0(t,e)||Zp(t,e)||z0()}function O0(t){if(Array.isArray(t))return t}function A0(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var a=[],o=!0,s=!1,l,u;try{for(r=r.call(t);!(o=(l=r.next()).done)&&(a.push(l.value),!(e&&a.length===e));o=!0);}catch(d){s=!0,u=d}finally{try{!o&&r.return!=null&&r.return()}finally{if(s)throw u}}return a}}function Zp(t,e){if(t){if(typeof t=="string")return Bh(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bh(t,e)}}function Bh(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function z0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jp(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Zp(t))||e){r&&(t=r);var a=0,o=function(){};return{s:o,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(d){throw d},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,l=!1,u;return{s:function(){r=r.call(t)},n:function(){var d=r.next();return s=d.done,d},e:function(d){l=!0,u=d},f:function(){try{!s&&r.return!=null&&r.return()}finally{if(l)throw u}}}}var jt=typeof window>"u"?null:window,Ih=jt?jt.navigator:null;jt&&jt.document;var F0=_t(""),eg=_t({}),j0=_t(function(){}),V0=typeof HTMLElement>"u"?"undefined":_t(HTMLElement),Ho=function(e){return e&&e.instanceString&&Tt(e.instanceString)?e.instanceString():null},Fe=function(e){return e!=null&&_t(e)==F0},Tt=function(e){return e!=null&&_t(e)===j0},ht=function(e){return!Mr(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},nt=function(e){return e!=null&&_t(e)===eg&&!ht(e)&&e.constructor===Object},_0=function(e){return e!=null&&_t(e)===eg},be=function(e){return e!=null&&_t(e)===_t(1)&&!isNaN(e)},$0=function(e){return be(e)&&Math.floor(e)===e},Ml=function(e){if(V0!=="undefined")return e!=null&&e instanceof HTMLElement},Mr=function(e){return qo(e)||tg(e)},qo=function(e){return Ho(e)==="collection"&&e._private.single},tg=function(e){return Ho(e)==="collection"&&!e._private.single},Bf=function(e){return Ho(e)==="core"},rg=function(e){return Ho(e)==="stylesheet"},U0=function(e){return Ho(e)==="event"},oa=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},H0=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},q0=function(e){return nt(e)&&be(e.x1)&&be(e.x2)&&be(e.y1)&&be(e.y2)},W0=function(e){return _0(e)&&Tt(e.then)},K0=function(){return Ih&&Ih.userAgent.match(/msie|trident|edge/i)},Io=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var s=[],l=0;l<arguments.length;l++)s.push(arguments[l]);return s.join("$")});var a=function o(){var s=this,l=arguments,u,d=r.apply(s,l),f=o.cache;return(u=f[d])||(u=f[d]=e.apply(s,l)),u};return a.cache={},a},If=Io(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),ql=Io(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),ng=Io(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),Mh=function(e){return oa(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},Vt="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",G0="rgb[a]?\\(("+Vt+"[%]?)\\s*,\\s*("+Vt+"[%]?)\\s*,\\s*("+Vt+"[%]?)(?:\\s*,\\s*("+Vt+"))?\\)",Y0="rgb[a]?\\((?:"+Vt+"[%]?)\\s*,\\s*(?:"+Vt+"[%]?)\\s*,\\s*(?:"+Vt+"[%]?)(?:\\s*,\\s*(?:"+Vt+"))?\\)",Q0="hsl[a]?\\(("+Vt+")\\s*,\\s*("+Vt+"[%])\\s*,\\s*("+Vt+"[%])(?:\\s*,\\s*("+Vt+"))?\\)",X0="hsl[a]?\\((?:"+Vt+")\\s*,\\s*(?:"+Vt+"[%])\\s*,\\s*(?:"+Vt+"[%])(?:\\s*,\\s*(?:"+Vt+"))?\\)",Z0="\\#[0-9a-fA-F]{3}",J0="\\#[0-9a-fA-F]{6}",ag=function(e,r){return e<r?-1:e>r?1:0},e1=function(e,r){return-1*ag(e,r)},Ue=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var a=e[r];if(a!=null)for(var o=Object.keys(a),s=0;s<o.length;s++){var l=o[s];t[l]=a[l]}}return t},t1=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,a,o,s,l=16;return r?(a=parseInt(e[1]+e[1],l),o=parseInt(e[2]+e[2],l),s=parseInt(e[3]+e[3],l)):(a=parseInt(e[1]+e[2],l),o=parseInt(e[3]+e[4],l),s=parseInt(e[5]+e[6],l)),[a,o,s]}},r1=function(e){var r,a,o,s,l,u,d,f;function v(m,S,x){return x<0&&(x+=1),x>1&&(x-=1),x<1/6?m+(S-m)*6*x:x<1/2?S:x<2/3?m+(S-m)*(2/3-x)*6:m}var h=new RegExp("^"+Q0+"$").exec(e);if(h){if(a=parseInt(h[1]),a<0?a=(360- -1*a%360)%360:a>360&&(a=a%360),a/=360,o=parseFloat(h[2]),o<0||o>100||(o=o/100,s=parseFloat(h[3]),s<0||s>100)||(s=s/100,l=h[4],l!==void 0&&(l=parseFloat(l),l<0||l>1)))return;if(o===0)u=d=f=Math.round(s*255);else{var g=s<.5?s*(1+o):s+o-s*o,y=2*s-g;u=Math.round(255*v(y,g,a+1/3)),d=Math.round(255*v(y,g,a)),f=Math.round(255*v(y,g,a-1/3))}r=[u,d,f,l]}return r},n1=function(e){var r,a=new RegExp("^"+G0+"$").exec(e);if(a){r=[];for(var o=[],s=1;s<=3;s++){var l=a[s];if(l[l.length-1]==="%"&&(o[s]=!0),l=parseFloat(l),o[s]&&(l=l/100*255),l<0||l>255)return;r.push(Math.floor(l))}var u=o[1]||o[2]||o[3],d=o[1]&&o[2]&&o[3];if(u&&!d)return;var f=a[4];if(f!==void 0){if(f=parseFloat(f),f<0||f>1)return;r.push(f)}}return r},a1=function(e){return o1[e.toLowerCase()]},i1=function(e){return(ht(e)?e:null)||a1(e)||t1(e)||n1(e)||r1(e)},o1={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},ig=function(e){for(var r=e.map,a=e.keys,o=a.length,s=0;s<o;s++){var l=a[s];if(nt(l))throw Error("Tried to set map with object key");s<a.length-1?(r[l]==null&&(r[l]={}),r=r[l]):r[l]=e.value}},og=function(e){for(var r=e.map,a=e.keys,o=a.length,s=0;s<o;s++){var l=a[s];if(nt(l))throw Error("Tried to get map with object key");if(r=r[l],r==null)return r}return r};function s1(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ba=s1,To=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function l1(t,e){return e={exports:{}},t(e,e.exports),e.exports}var u1=typeof To=="object"&&To&&To.Object===Object&&To,c1=u1,f1=typeof self=="object"&&self&&self.Object===Object&&self,d1=c1||f1||Function("return this")(),Wl=d1,v1=function(){return Wl.Date.now()},Gc=v1,h1=/\s/;function p1(t){for(var e=t.length;e--&&h1.test(t.charAt(e)););return e}var g1=p1,m1=/^\s+/;function y1(t){return t&&t.slice(0,g1(t)+1).replace(m1,"")}var w1=y1,x1=Wl.Symbol,bi=x1,sg=Object.prototype,E1=sg.hasOwnProperty,S1=sg.toString,Eo=bi?bi.toStringTag:void 0;function C1(t){var e=E1.call(t,Eo),r=t[Eo];try{t[Eo]=void 0;var a=!0}catch{}var o=S1.call(t);return a&&(e?t[Eo]=r:delete t[Eo]),o}var b1=C1,k1=Object.prototype,T1=k1.toString;function D1(t){return T1.call(t)}var P1=D1,N1="[object Null]",L1="[object Undefined]",Oh=bi?bi.toStringTag:void 0;function R1(t){return t==null?t===void 0?L1:N1:Oh&&Oh in Object(t)?b1(t):P1(t)}var lg=R1;function B1(t){return t!=null&&typeof t=="object"}var I1=B1,M1="[object Symbol]";function O1(t){return typeof t=="symbol"||I1(t)&&lg(t)==M1}var Wo=O1,Ah=NaN,A1=/^[-+]0x[0-9a-f]+$/i,z1=/^0b[01]+$/i,F1=/^0o[0-7]+$/i,j1=parseInt;function V1(t){if(typeof t=="number")return t;if(Wo(t))return Ah;if(Ba(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ba(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=w1(t);var r=z1.test(t);return r||F1.test(t)?j1(t.slice(2),r?2:8):A1.test(t)?Ah:+t}var zh=V1,_1="Expected a function",$1=Math.max,U1=Math.min;function H1(t,e,r){var a,o,s,l,u,d,f=0,v=!1,h=!1,g=!0;if(typeof t!="function")throw new TypeError(_1);e=zh(e)||0,Ba(r)&&(v=!!r.leading,h="maxWait"in r,s=h?$1(zh(r.maxWait)||0,e):s,g="trailing"in r?!!r.trailing:g);function y(N){var T=a,O=o;return a=o=void 0,f=N,l=t.apply(O,T),l}function m(N){return f=N,u=setTimeout(E,e),v?y(N):l}function S(N){var T=N-d,O=N-f,I=e-T;return h?U1(I,s-O):I}function x(N){var T=N-d,O=N-f;return d===void 0||T>=e||T<0||h&&O>=s}function E(){var N=Gc();if(x(N))return b(N);u=setTimeout(E,S(N))}function b(N){return u=void 0,g&&a?y(N):(a=o=void 0,l)}function k(){u!==void 0&&clearTimeout(u),f=0,a=d=o=u=void 0}function D(){return u===void 0?l:b(Gc())}function B(){var N=Gc(),T=x(N);if(a=arguments,o=this,d=N,T){if(u===void 0)return m(d);if(h)return clearTimeout(u),u=setTimeout(E,e),y(d)}return u===void 0&&(u=setTimeout(E,e)),l}return B.cancel=k,B.flush=D,B}var Kl=H1,Yc=jt?jt.performance:null,ug=Yc&&Yc.now?function(){return Yc.now()}:function(){return Date.now()},q1=function(){if(jt){if(jt.requestAnimationFrame)return function(t){jt.requestAnimationFrame(t)};if(jt.mozRequestAnimationFrame)return function(t){jt.mozRequestAnimationFrame(t)};if(jt.webkitRequestAnimationFrame)return function(t){jt.webkitRequestAnimationFrame(t)};if(jt.msRequestAnimationFrame)return function(t){jt.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(ug())},1e3/60)}}(),Ol=function(e){return q1(e)},Dn=ug,mi=9261,cg=65599,Do=5381,fg=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mi,a=r,o;o=e.next(),!o.done;)a=a*cg+o.value|0;return a},Mo=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mi;return r*cg+e|0},Oo=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Do;return(r<<5)+r+e|0},W1=function(e,r){return e*2097152+r},ea=function(e){return e[0]*2097152+e[1]},dl=function(e,r){return[Mo(e[0],r[0]),Oo(e[1],r[1])]},K1=function(e,r){var a={value:0,done:!1},o=0,s=e.length,l={next:function(){return o<s?a.value=e[o++]:a.done=!0,a}};return fg(l,r)},Ia=function(e,r){var a={value:0,done:!1},o=0,s=e.length,l={next:function(){return o<s?a.value=e.charCodeAt(o++):a.done=!0,a}};return fg(l,r)},dg=function(){return G1(arguments)},G1=function(e){for(var r,a=0;a<e.length;a++){var o=e[a];a===0?r=Ia(o):r=Ia(o,r)}return r},Fh=!0,Y1=console.warn!=null,Q1=console.trace!=null,Mf=Number.MAX_SAFE_INTEGER||9007199254740991,vg=function(){return!0},Al=function(){return!1},jh=function(){return 0},Of=function(){},Nt=function(e){throw new Error(e)},hg=function(e){if(e!==void 0)Fh=!!e;else return Fh},ft=function(e){hg()&&(Y1?console.warn(e):(console.log(e),Q1&&console.trace()))},X1=function(e){return Ue({},e)},dn=function(e){return e==null?e:ht(e)?e.slice():nt(e)?X1(e):e},Z1=function(e){return e.slice()},pg=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},J1={},gg=function(){return J1},er=function(e){var r=Object.keys(e);return function(a){for(var o={},s=0;s<r.length;s++){var l=r[s],u=a==null?void 0:a[l];o[l]=u===void 0?e[l]:u}return o}},sa=function(e,r,a){for(var o=e.length-1;o>=0;o--)e[o]===r&&e.splice(o,1)},Af=function(e){e.splice(0,e.length)},ew=function(e,r){for(var a=0;a<r.length;a++){var o=r[a];e.push(o)}},nn=function(e,r,a){return a&&(r=ng(a,r)),e[r]},ra=function(e,r,a,o){a&&(r=ng(a,r)),e[r]=o},tw=function(){function t(){Lf(this,t),this._obj={}}return Rf(t,[{key:"set",value:function(r,a){return this._obj[r]=a,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}]),t}(),vn=typeof Map<"u"?Map:tw,rw="undefined",nw=function(){function t(e){if(Lf(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var a=0;a<r.length;a++)this.add(r[a])}}return Rf(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var a=this._obj;a[r]!==1&&(a[r]=1,this.size++)}},{key:"delete",value:function(r){var a=this._obj;a[r]===1&&(a[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(a){return r.has(a)})}},{key:"forEach",value:function(r,a){return this.toArray().forEach(r,a)}}]),t}(),Pi=(typeof Set>"u"?"undefined":_t(Set))!==rw?Set:nw,Gl=function(e,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!Bf(e)){Nt("An element must have a core reference and parameters set");return}var o=r.group;if(o==null&&(r.data&&r.data.source!=null&&r.data.target!=null?o="edges":o="nodes"),o!=="nodes"&&o!=="edges"){Nt("An element must be of type `nodes` or `edges`; you specified `"+o+"`");return}this.length=1,this[0]=this;var s=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:o,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?o==="edges":!!r.pannable,active:!1,classes:new Pi,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(s.position.x==null&&(s.position.x=0),s.position.y==null&&(s.position.y=0),r.renderedPosition){var l=r.renderedPosition,u=e.pan(),d=e.zoom();s.position={x:(l.x-u.x)/d,y:(l.y-u.y)/d}}var f=[];ht(r.classes)?f=r.classes:Fe(r.classes)&&(f=r.classes.split(/\s+/));for(var v=0,h=f.length;v<h;v++){var g=f[v];!g||g===""||s.classes.add(g)}this.createEmitter();var y=r.style||r.css;y&&(ft("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(y)),(a===void 0||a)&&this.restore()},Vh=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(a,o,s){var l;nt(a)&&!Mr(a)&&(l=a,a=l.roots||l.root,o=l.visit,s=l.directed),s=arguments.length===2&&!Tt(o)?o:s,o=Tt(o)?o:function(){};for(var u=this._private.cy,d=a=Fe(a)?this.filter(a):a,f=[],v=[],h={},g={},y={},m=0,S,x=this.byGroup(),E=x.nodes,b=x.edges,k=0;k<d.length;k++){var D=d[k],B=D.id();D.isNode()&&(f.unshift(D),e.bfs&&(y[B]=!0,v.push(D)),g[B]=0)}for(var N=function(){var F=e.bfs?f.shift():f.pop(),z=F.id();if(e.dfs){if(y[z])return"continue";y[z]=!0,v.push(F)}var $=g[z],H=h[z],W=H!=null?H.source():null,U=H!=null?H.target():null,G=H==null?void 0:F.same(W)?U[0]:W[0],K=void 0;if(K=o(F,H,G,m++,$),K===!0)return S=F,"break";if(K===!1)return"break";for(var L=F.connectedEdges().filter(function(le){return(!s||le.source().same(F))&&b.has(le)}),_=0;_<L.length;_++){var Z=L[_],te=Z.connectedNodes().filter(function(le){return!le.same(F)&&E.has(le)}),oe=te.id();te.length!==0&&!y[oe]&&(te=te[0],f.push(te),e.bfs&&(y[oe]=!0,v.push(te)),h[oe]=Z,g[oe]=g[z]+1)}};f.length!==0;){var T=N();if(T!=="continue"&&T==="break")break}for(var O=u.collection(),I=0;I<v.length;I++){var j=v[I],M=h[j.id()];M!=null&&O.push(M),O.push(j)}return{path:u.collection(O),found:u.collection(S)}}},Ao={breadthFirstSearch:Vh({bfs:!0}),depthFirstSearch:Vh({dfs:!0})};Ao.bfs=Ao.breadthFirstSearch;Ao.dfs=Ao.depthFirstSearch;var aw=l1(function(t,e){(function(){var r,a,o,s,l,u,d,f,v,h,g,y,m,S,x;o=Math.floor,h=Math.min,a=function(E,b){return E<b?-1:E>b?1:0},v=function(E,b,k,D,B){var N;if(k==null&&(k=0),B==null&&(B=a),k<0)throw new Error("lo must be non-negative");for(D==null&&(D=E.length);k<D;)N=o((k+D)/2),B(b,E[N])<0?D=N:k=N+1;return[].splice.apply(E,[k,k-k].concat(b)),b},u=function(E,b,k){return k==null&&(k=a),E.push(b),S(E,0,E.length-1,k)},l=function(E,b){var k,D;return b==null&&(b=a),k=E.pop(),E.length?(D=E[0],E[0]=k,x(E,0,b)):D=k,D},f=function(E,b,k){var D;return k==null&&(k=a),D=E[0],E[0]=b,x(E,0,k),D},d=function(E,b,k){var D;return k==null&&(k=a),E.length&&k(E[0],b)<0&&(D=[E[0],b],b=D[0],E[0]=D[1],x(E,0,k)),b},s=function(E,b){var k,D,B,N,T,O;for(b==null&&(b=a),N=(function(){O=[];for(var I=0,j=o(E.length/2);0<=j?I<j:I>j;0<=j?I++:I--)O.push(I);return O}).apply(this).reverse(),T=[],D=0,B=N.length;D<B;D++)k=N[D],T.push(x(E,k,b));return T},m=function(E,b,k){var D;if(k==null&&(k=a),D=E.indexOf(b),D!==-1)return S(E,0,D,k),x(E,D,k)},g=function(E,b,k){var D,B,N,T,O;if(k==null&&(k=a),B=E.slice(0,b),!B.length)return B;for(s(B,k),O=E.slice(b),N=0,T=O.length;N<T;N++)D=O[N],d(B,D,k);return B.sort(k).reverse()},y=function(E,b,k){var D,B,N,T,O,I,j,M,A;if(k==null&&(k=a),b*10<=E.length){if(N=E.slice(0,b).sort(k),!N.length)return N;for(B=N[N.length-1],j=E.slice(b),T=0,I=j.length;T<I;T++)D=j[T],k(D,B)<0&&(v(N,D,0,null,k),N.pop(),B=N[N.length-1]);return N}for(s(E,k),A=[],O=0,M=h(b,E.length);0<=M?O<M:O>M;0<=M?++O:--O)A.push(l(E,k));return A},S=function(E,b,k,D){var B,N,T;for(D==null&&(D=a),B=E[k];k>b;){if(T=k-1>>1,N=E[T],D(B,N)<0){E[k]=N,k=T;continue}break}return E[k]=B},x=function(E,b,k){var D,B,N,T,O;for(k==null&&(k=a),B=E.length,O=b,N=E[b],D=2*b+1;D<B;)T=D+1,T<B&&!(k(E[D],E[T])<0)&&(D=T),E[b]=E[D],b=D,D=2*b+1;return E[b]=N,S(E,O,b,k)},r=function(){E.push=u,E.pop=l,E.replace=f,E.pushpop=d,E.heapify=s,E.updateItem=m,E.nlargest=g,E.nsmallest=y;function E(b){this.cmp=b??a,this.nodes=[]}return E.prototype.push=function(b){return u(this.nodes,b,this.cmp)},E.prototype.pop=function(){return l(this.nodes,this.cmp)},E.prototype.peek=function(){return this.nodes[0]},E.prototype.contains=function(b){return this.nodes.indexOf(b)!==-1},E.prototype.replace=function(b){return f(this.nodes,b,this.cmp)},E.prototype.pushpop=function(b){return d(this.nodes,b,this.cmp)},E.prototype.heapify=function(){return s(this.nodes,this.cmp)},E.prototype.updateItem=function(b){return m(this.nodes,b,this.cmp)},E.prototype.clear=function(){return this.nodes=[]},E.prototype.empty=function(){return this.nodes.length===0},E.prototype.size=function(){return this.nodes.length},E.prototype.clone=function(){var b;return b=new E,b.nodes=this.nodes.slice(0),b},E.prototype.toArray=function(){return this.nodes.slice(0)},E.prototype.insert=E.prototype.push,E.prototype.top=E.prototype.peek,E.prototype.front=E.prototype.peek,E.prototype.has=E.prototype.contains,E.prototype.copy=E.prototype.clone,E}(),function(E,b){return t.exports=b()}(this,function(){return r})}).call(To)}),Ko=aw,iw=er({root:null,weight:function(e){return 1},directed:!1}),ow={dijkstra:function(e){if(!nt(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var a=iw(e),o=a.root,s=a.weight,l=a.directed,u=this,d=s,f=Fe(o)?this.filter(o)[0]:o[0],v={},h={},g={},y=this.byGroup(),m=y.nodes,S=y.edges;S.unmergeBy(function($){return $.isLoop()});for(var x=function(H){return v[H.id()]},E=function(H,W){v[H.id()]=W,b.updateItem(H)},b=new Ko(function($,H){return x($)-x(H)}),k=0;k<m.length;k++){var D=m[k];v[D.id()]=D.same(f)?0:1/0,b.push(D)}for(var B=function(H,W){for(var U=(l?H.edgesTo(W):H.edgesWith(W)).intersect(S),G=1/0,K,L=0;L<U.length;L++){var _=U[L],Z=d(_);(Z<G||!K)&&(G=Z,K=_)}return{edge:K,dist:G}};b.size()>0;){var N=b.pop(),T=x(N),O=N.id();if(g[O]=T,T!==1/0)for(var I=N.neighborhood().intersect(m),j=0;j<I.length;j++){var M=I[j],A=M.id(),F=B(N,M),z=T+F.dist;z<x(M)&&(E(M,z),h[A]={node:N,edge:F.edge})}}return{distanceTo:function(H){var W=Fe(H)?m.filter(H)[0]:H[0];return g[W.id()]},pathTo:function(H){var W=Fe(H)?m.filter(H)[0]:H[0],U=[],G=W,K=G.id();if(W.length>0)for(U.unshift(W);h[K];){var L=h[K];U.unshift(L.edge),U.unshift(L.node),G=L.node,K=G.id()}return u.spawn(U)}}}},sw={kruskal:function(e){e=e||function(k){return 1};for(var r=this.byGroup(),a=r.nodes,o=r.edges,s=a.length,l=new Array(s),u=a,d=function(D){for(var B=0;B<l.length;B++){var N=l[B];if(N.has(D))return B}},f=0;f<s;f++)l[f]=this.spawn(a[f]);for(var v=o.sort(function(k,D){return e(k)-e(D)}),h=0;h<v.length;h++){var g=v[h],y=g.source()[0],m=g.target()[0],S=d(y),x=d(m),E=l[S],b=l[x];S!==x&&(u.merge(g),E.merge(b),l.splice(x,1))}return u}},lw=er({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),uw={aStar:function(e){var r=this.cy(),a=lw(e),o=a.root,s=a.goal,l=a.heuristic,u=a.directed,d=a.weight;o=r.collection(o)[0],s=r.collection(s)[0];var f=o.id(),v=s.id(),h={},g={},y={},m=new Ko(function(K,L){return g[K.id()]-g[L.id()]}),S=new Pi,x={},E={},b=function(L,_){m.push(L),S.add(_)},k,D,B=function(){k=m.pop(),D=k.id(),S.delete(D)},N=function(L){return S.has(L)};b(o,f),h[f]=0,g[f]=l(o);for(var T=0;m.size()>0;){if(B(),T++,D===v){for(var O=[],I=s,j=v,M=E[j];O.unshift(I),M!=null&&O.unshift(M),I=x[j],I!=null;)j=I.id(),M=E[j];return{found:!0,distance:h[D],path:this.spawn(O),steps:T}}y[D]=!0;for(var A=k._private.edges,F=0;F<A.length;F++){var z=A[F];if(this.hasElementWithId(z.id())&&!(u&&z.data("source")!==D)){var $=z.source(),H=z.target(),W=$.id()!==D?$:H,U=W.id();if(this.hasElementWithId(U)&&!y[U]){var G=h[D]+d(z);if(!N(U)){h[U]=G,g[U]=G+l(W),b(W,U),x[U]=k,E[U]=z;continue}G<h[U]&&(h[U]=G,g[U]=G+l(W),x[U]=k,E[U]=z)}}}}return{found:!1,distance:void 0,path:void 0,steps:T}}},cw=er({weight:function(e){return 1},directed:!1}),fw={floydWarshall:function(e){for(var r=this.cy(),a=cw(e),o=a.weight,s=a.directed,l=o,u=this.byGroup(),d=u.nodes,f=u.edges,v=d.length,h=v*v,g=function(Z){return d.indexOf(Z)},y=function(Z){return d[Z]},m=new Array(h),S=0;S<h;S++){var x=S%v,E=(S-x)/v;E===x?m[S]=0:m[S]=1/0}for(var b=new Array(h),k=new Array(h),D=0;D<f.length;D++){var B=f[D],N=B.source()[0],T=B.target()[0];if(N!==T){var O=g(N),I=g(T),j=O*v+I,M=l(B);if(m[j]>M&&(m[j]=M,b[j]=I,k[j]=B),!s){var A=I*v+O;!s&&m[A]>M&&(m[A]=M,b[A]=O,k[A]=B)}}}for(var F=0;F<v;F++)for(var z=0;z<v;z++)for(var $=z*v+F,H=0;H<v;H++){var W=z*v+H,U=F*v+H;m[$]+m[U]<m[W]&&(m[W]=m[$]+m[U],b[W]=b[$])}var G=function(Z){return(Fe(Z)?r.filter(Z):Z)[0]},K=function(Z){return g(G(Z))},L={distance:function(Z,te){var oe=K(Z),le=K(te);return m[oe*v+le]},path:function(Z,te){var oe=K(Z),le=K(te),ce=y(oe);if(oe===le)return ce.collection();if(b[oe*v+le]==null)return r.collection();var ie=r.collection(),Q=oe,ue;for(ie.merge(ce);oe!==le;)Q=oe,oe=b[oe*v+le],ue=k[Q*v+oe],ie.merge(ue),ie.merge(y(oe));return ie}};return L}},dw=er({weight:function(e){return 1},directed:!1,root:null}),vw={bellmanFord:function(e){var r=this,a=dw(e),o=a.weight,s=a.directed,l=a.root,u=o,d=this,f=this.cy(),v=this.byGroup(),h=v.edges,g=v.nodes,y=g.length,m=new vn,S=!1,x=[];l=f.collection(l)[0],h.unmergeBy(function(Pe){return Pe.isLoop()});for(var E=h.length,b=function(Te){var ze=m.get(Te.id());return ze||(ze={},m.set(Te.id(),ze)),ze},k=function(Te){return(Fe(Te)?f.$(Te):Te)[0]},D=function(Te){return b(k(Te)).dist},B=function(Te){for(var ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l,Ze=k(Te),Qe=[],Ge=Ze;;){if(Ge==null)return r.spawn();var at=b(Ge),Ye=at.edge,Je=at.pred;if(Qe.unshift(Ge[0]),Ge.same(ze)&&Qe.length>0)break;Ye!=null&&Qe.unshift(Ye),Ge=Je}return d.spawn(Qe)},N=0;N<y;N++){var T=g[N],O=b(T);T.same(l)?O.dist=0:O.dist=1/0,O.pred=null,O.edge=null}for(var I=!1,j=function(Te,ze,Ze,Qe,Ge,at){var Ye=Qe.dist+at;Ye<Ge.dist&&!Ze.same(Qe.edge)&&(Ge.dist=Ye,Ge.pred=Te,Ge.edge=Ze,I=!0)},M=1;M<y;M++){I=!1;for(var A=0;A<E;A++){var F=h[A],z=F.source(),$=F.target(),H=u(F),W=b(z),U=b($);j(z,$,F,W,U,H),s||j($,z,F,U,W,H)}if(!I)break}if(I)for(var G=[],K=0;K<E;K++){var L=h[K],_=L.source(),Z=L.target(),te=u(L),oe=b(_).dist,le=b(Z).dist;if(oe+te<le||!s&&le+te<oe)if(S||(ft("Graph contains a negative weight cycle for Bellman-Ford"),S=!0),e.findNegativeWeightCycles!==!1){var ce=[];oe+te<le&&ce.push(_),!s&&le+te<oe&&ce.push(Z);for(var ie=ce.length,Q=0;Q<ie;Q++){var ue=ce[Q],de=[ue];de.push(b(ue).edge);for(var Se=b(ue).pred;de.indexOf(Se)===-1;)de.push(Se),de.push(b(Se).edge),Se=b(Se).pred;de=de.slice(de.indexOf(Se));for(var Ae=de[0].id(),Ee=0,xe=2;xe<de.length;xe+=2)de[xe].id()<Ae&&(Ae=de[xe].id(),Ee=xe);de=de.slice(Ee).concat(de.slice(0,Ee)),de.push(de[0]);var Re=de.map(function(Pe){return Pe.id()}).join(",");G.indexOf(Re)===-1&&(x.push(d.spawn(de)),G.push(Re))}}else break}return{distanceTo:D,pathTo:B,hasNegativeWeightCycle:S,negativeWeightCycles:x}}},hw=Math.sqrt(2),pw=function(e,r,a){a.length===0&&Nt("Karger-Stein must be run on a connected (sub)graph");for(var o=a[e],s=o[1],l=o[2],u=r[s],d=r[l],f=a,v=f.length-1;v>=0;v--){var h=f[v],g=h[1],y=h[2];(r[g]===u&&r[y]===d||r[g]===d&&r[y]===u)&&f.splice(v,1)}for(var m=0;m<f.length;m++){var S=f[m];S[1]===d?(f[m]=S.slice(),f[m][1]=u):S[2]===d&&(f[m]=S.slice(),f[m][2]=u)}for(var x=0;x<r.length;x++)r[x]===d&&(r[x]=u);return f},Qc=function(e,r,a,o){for(;a>o;){var s=Math.floor(Math.random()*r.length);r=pw(s,e,r),a--}return r},gw={kargerStein:function(){var e=this,r=this.byGroup(),a=r.nodes,o=r.edges;o.unmergeBy(function(U){return U.isLoop()});var s=a.length,l=o.length,u=Math.ceil(Math.pow(Math.log(s)/Math.LN2,2)),d=Math.floor(s/hw);if(s<2){Nt("At least 2 nodes are required for Karger-Stein algorithm");return}for(var f=[],v=0;v<l;v++){var h=o[v];f.push([v,a.indexOf(h.source()),a.indexOf(h.target())])}for(var g=1/0,y=[],m=new Array(s),S=new Array(s),x=new Array(s),E=function(G,K){for(var L=0;L<s;L++)K[L]=G[L]},b=0;b<=u;b++){for(var k=0;k<s;k++)S[k]=k;var D=Qc(S,f.slice(),s,d),B=D.slice();E(S,x);var N=Qc(S,D,d,2),T=Qc(x,B,d,2);N.length<=T.length&&N.length<g?(g=N.length,y=N,E(S,m)):T.length<=N.length&&T.length<g&&(g=T.length,y=T,E(x,m))}for(var O=this.spawn(y.map(function(U){return o[U[0]]})),I=this.spawn(),j=this.spawn(),M=m[0],A=0;A<m.length;A++){var F=m[A],z=a[A];F===M?I.merge(z):j.merge(z)}var $=function(G){var K=e.spawn();return G.forEach(function(L){K.merge(L),L.connectedEdges().forEach(function(_){e.contains(_)&&!O.contains(_)&&K.merge(_)})}),K},H=[$(I),$(j)],W={cut:O,components:H,partition1:I,partition2:j};return W}},mw=function(e){return{x:e.x,y:e.y}},Yl=function(e,r,a){return{x:e.x*r+a.x,y:e.y*r+a.y}},mg=function(e,r,a){return{x:(e.x-a.x)/r,y:(e.y-a.y)/r}},yi=function(e){return{x:e[0],y:e[1]}},yw=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,o=1/0,s=r;s<a;s++){var l=e[s];isFinite(l)&&(o=Math.min(l,o))}return o},ww=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,o=-1/0,s=r;s<a;s++){var l=e[s];isFinite(l)&&(o=Math.max(l,o))}return o},xw=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,o=0,s=0,l=r;l<a;l++){var u=e[l];isFinite(u)&&(o+=u,s++)}return o/s},Ew=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;o?e=e.slice(r,a):(a<e.length&&e.splice(a,e.length-a),r>0&&e.splice(0,r));for(var u=0,d=e.length-1;d>=0;d--){var f=e[d];l?isFinite(f)||(e[d]=-1/0,u++):e.splice(d,1)}s&&e.sort(function(g,y){return g-y});var v=e.length,h=Math.floor(v/2);return v%2!==0?e[h+1+u]:(e[h-1+u]+e[h+u])/2},Sw=function(e){return Math.PI*e/180},vl=function(e,r){return Math.atan2(r,e)-Math.PI/2},zf=Math.log2||function(t){return Math.log(t)/Math.log(2)},yg=function(e){return e>0?1:e<0?-1:0},Ma=function(e,r){return Math.sqrt(Da(e,r))},Da=function(e,r){var a=r.x-e.x,o=r.y-e.y;return a*a+o*o},Cw=function(e){for(var r=e.length,a=0,o=0;o<r;o++)a+=e[o];for(var s=0;s<r;s++)e[s]=e[s]/a;return e},Gt=function(e,r,a,o){return(1-o)*(1-o)*e+2*(1-o)*o*r+o*o*a},xi=function(e,r,a,o){return{x:Gt(e.x,r.x,a.x,o),y:Gt(e.y,r.y,a.y,o)}},bw=function(e,r,a,o){var s={x:r.x-e.x,y:r.y-e.y},l=Ma(e,r),u={x:s.x/l,y:s.y/l};return a=a??0,o=o??a*l,{x:e.x+u.x*o,y:e.y+u.y*o}},zo=function(e,r,a){return Math.max(e,Math.min(a,r))},Nr=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},kw=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},Tw=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},Dw=function(e,r,a){return{x1:e.x1+r,x2:e.x2+r,y1:e.y1+a,y2:e.y2+a,w:e.w,h:e.h}},wg=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},Pw=function(e,r,a){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,a),e.y2=Math.max(e.y2,a),e.h=e.y2-e.y1},bl=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},kl=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],a,o,s,l;if(r.length===1)a=o=s=l=r[0];else if(r.length===2)a=s=r[0],l=o=r[1];else if(r.length===4){var u=tn(r,4);a=u[0],o=u[1],s=u[2],l=u[3]}return e.x1-=l,e.x2+=o,e.y1-=a,e.y2+=s,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},_h=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},Ff=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},ki=function(e,r,a){return e.x1<=r&&r<=e.x2&&e.y1<=a&&a<=e.y2},Nw=function(e,r){return ki(e,r.x,r.y)},xg=function(e,r){return ki(e,r.x1,r.y1)&&ki(e,r.x2,r.y2)},Eg=function(e,r,a,o,s,l,u){var d=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",f=d==="auto"?Oa(s,l):d,v=s/2,h=l/2;f=Math.min(f,v,h);var g=f!==v,y=f!==h,m;if(g){var S=a-v+f-u,x=o-h-u,E=a+v-f+u,b=x;if(m=na(e,r,a,o,S,x,E,b,!1),m.length>0)return m}if(y){var k=a+v+u,D=o-h+f-u,B=k,N=o+h-f+u;if(m=na(e,r,a,o,k,D,B,N,!1),m.length>0)return m}if(g){var T=a-v+f-u,O=o+h+u,I=a+v-f+u,j=O;if(m=na(e,r,a,o,T,O,I,j,!1),m.length>0)return m}if(y){var M=a-v-u,A=o-h+f-u,F=M,z=o+h-f+u;if(m=na(e,r,a,o,M,A,F,z,!1),m.length>0)return m}var $;{var H=a-v+f,W=o-h+f;if($=Po(e,r,a,o,H,W,f+u),$.length>0&&$[0]<=H&&$[1]<=W)return[$[0],$[1]]}{var U=a+v-f,G=o-h+f;if($=Po(e,r,a,o,U,G,f+u),$.length>0&&$[0]>=U&&$[1]<=G)return[$[0],$[1]]}{var K=a+v-f,L=o+h-f;if($=Po(e,r,a,o,K,L,f+u),$.length>0&&$[0]>=K&&$[1]>=L)return[$[0],$[1]]}{var _=a-v+f,Z=o+h-f;if($=Po(e,r,a,o,_,Z,f+u),$.length>0&&$[0]<=_&&$[1]>=Z)return[$[0],$[1]]}return[]},Lw=function(e,r,a,o,s,l,u){var d=u,f=Math.min(a,s),v=Math.max(a,s),h=Math.min(o,l),g=Math.max(o,l);return f-d<=e&&e<=v+d&&h-d<=r&&r<=g+d},Rw=function(e,r,a,o,s,l,u,d,f){var v={x1:Math.min(a,u,s)-f,x2:Math.max(a,u,s)+f,y1:Math.min(o,d,l)-f,y2:Math.max(o,d,l)+f};return!(e<v.x1||e>v.x2||r<v.y1||r>v.y2)},Bw=function(e,r,a,o){a-=o;var s=r*r-4*e*a;if(s<0)return[];var l=Math.sqrt(s),u=2*e,d=(-r+l)/u,f=(-r-l)/u;return[d,f]},Iw=function(e,r,a,o,s){var l=1e-5;e===0&&(e=l),r/=e,a/=e,o/=e;var u,d,f,v,h,g,y,m;if(d=(3*a-r*r)/9,f=-(27*o)+r*(9*a-2*(r*r)),f/=54,u=d*d*d+f*f,s[1]=0,y=r/3,u>0){h=f+Math.sqrt(u),h=h<0?-Math.pow(-h,1/3):Math.pow(h,1/3),g=f-Math.sqrt(u),g=g<0?-Math.pow(-g,1/3):Math.pow(g,1/3),s[0]=-y+h+g,y+=(h+g)/2,s[4]=s[2]=-y,y=Math.sqrt(3)*(-g+h)/2,s[3]=y,s[5]=-y;return}if(s[5]=s[3]=0,u===0){m=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),s[0]=-y+2*m,s[4]=s[2]=-(m+y);return}d=-d,v=d*d*d,v=Math.acos(f/Math.sqrt(v)),m=2*Math.sqrt(d),s[0]=-y+m*Math.cos(v/3),s[2]=-y+m*Math.cos((v+2*Math.PI)/3),s[4]=-y+m*Math.cos((v+4*Math.PI)/3)},Mw=function(e,r,a,o,s,l,u,d){var f=1*a*a-4*a*s+2*a*u+4*s*s-4*s*u+u*u+o*o-4*o*l+2*o*d+4*l*l-4*l*d+d*d,v=1*9*a*s-3*a*a-3*a*u-6*s*s+3*s*u+9*o*l-3*o*o-3*o*d-6*l*l+3*l*d,h=1*3*a*a-6*a*s+a*u-a*e+2*s*s+2*s*e-u*e+3*o*o-6*o*l+o*d-o*r+2*l*l+2*l*r-d*r,g=1*a*s-a*a+a*e-s*e+o*l-o*o+o*r-l*r,y=[];Iw(f,v,h,g,y);for(var m=1e-7,S=[],x=0;x<6;x+=2)Math.abs(y[x+1])<m&&y[x]>=0&&y[x]<=1&&S.push(y[x]);S.push(1),S.push(0);for(var E=-1,b,k,D,B=0;B<S.length;B++)b=Math.pow(1-S[B],2)*a+2*(1-S[B])*S[B]*s+S[B]*S[B]*u,k=Math.pow(1-S[B],2)*o+2*(1-S[B])*S[B]*l+S[B]*S[B]*d,D=Math.pow(b-e,2)+Math.pow(k-r,2),E>=0?D<E&&(E=D):E=D;return E},Ow=function(e,r,a,o,s,l){var u=[e-a,r-o],d=[s-a,l-o],f=d[0]*d[0]+d[1]*d[1],v=u[0]*u[0]+u[1]*u[1],h=u[0]*d[0]+u[1]*d[1],g=h*h/f;return h<0?v:g>f?(e-s)*(e-s)+(r-l)*(r-l):v-g},Pr=function(e,r,a){for(var o,s,l,u,d,f=0,v=0;v<a.length/2;v++)if(o=a[v*2],s=a[v*2+1],v+1<a.length/2?(l=a[(v+1)*2],u=a[(v+1)*2+1]):(l=a[(v+1-a.length/2)*2],u=a[(v+1-a.length/2)*2+1]),!(o==e&&l==e))if(o>=e&&e>=l||o<=e&&e<=l)d=(e-o)/(l-o)*(u-s)+s,d>r&&f++;else continue;return f%2!==0},Pn=function(e,r,a,o,s,l,u,d,f){var v=new Array(a.length),h;d[0]!=null?(h=Math.atan(d[1]/d[0]),d[0]<0?h=h+Math.PI/2:h=-h-Math.PI/2):h=d;for(var g=Math.cos(-h),y=Math.sin(-h),m=0;m<v.length/2;m++)v[m*2]=l/2*(a[m*2]*g-a[m*2+1]*y),v[m*2+1]=u/2*(a[m*2+1]*g+a[m*2]*y),v[m*2]+=o,v[m*2+1]+=s;var S;if(f>0){var x=Fl(v,-f);S=zl(x)}else S=v;return Pr(e,r,S)},Aw=function(e,r,a,o,s,l,u,d){for(var f=new Array(a.length*2),v=0;v<d.length;v++){var h=d[v];f[v*4+0]=h.startX,f[v*4+1]=h.startY,f[v*4+2]=h.stopX,f[v*4+3]=h.stopY;var g=Math.pow(h.cx-e,2)+Math.pow(h.cy-r,2);if(g<=Math.pow(h.radius,2))return!0}return Pr(e,r,f)},zl=function(e){for(var r=new Array(e.length/2),a,o,s,l,u,d,f,v,h=0;h<e.length/4;h++){a=e[h*4],o=e[h*4+1],s=e[h*4+2],l=e[h*4+3],h<e.length/4-1?(u=e[(h+1)*4],d=e[(h+1)*4+1],f=e[(h+1)*4+2],v=e[(h+1)*4+3]):(u=e[0],d=e[1],f=e[2],v=e[3]);var g=na(a,o,s,l,u,d,f,v,!0);r[h*2]=g[0],r[h*2+1]=g[1]}return r},Fl=function(e,r){for(var a=new Array(e.length*2),o,s,l,u,d=0;d<e.length/2;d++){o=e[d*2],s=e[d*2+1],d<e.length/2-1?(l=e[(d+1)*2],u=e[(d+1)*2+1]):(l=e[0],u=e[1]);var f=u-s,v=-(l-o),h=Math.sqrt(f*f+v*v),g=f/h,y=v/h;a[d*4]=o+g*r,a[d*4+1]=s+y*r,a[d*4+2]=l+g*r,a[d*4+3]=u+y*r}return a},zw=function(e,r,a,o,s,l){var u=a-e,d=o-r;u/=s,d/=l;var f=Math.sqrt(u*u+d*d),v=f-1;if(v<0)return[];var h=v/f;return[(a-e)*h+e,(o-r)*h+r]},Ra=function(e,r,a,o,s,l,u){return e-=s,r-=l,e/=a/2+u,r/=o/2+u,e*e+r*r<=1},Po=function(e,r,a,o,s,l,u){var d=[a-e,o-r],f=[e-s,r-l],v=d[0]*d[0]+d[1]*d[1],h=2*(f[0]*d[0]+f[1]*d[1]),g=f[0]*f[0]+f[1]*f[1]-u*u,y=h*h-4*v*g;if(y<0)return[];var m=(-h+Math.sqrt(y))/(2*v),S=(-h-Math.sqrt(y))/(2*v),x=Math.min(m,S),E=Math.max(m,S),b=[];if(x>=0&&x<=1&&b.push(x),E>=0&&E<=1&&b.push(E),b.length===0)return[];var k=b[0]*d[0]+e,D=b[0]*d[1]+r;if(b.length>1){if(b[0]==b[1])return[k,D];var B=b[1]*d[0]+e,N=b[1]*d[1]+r;return[k,D,B,N]}else return[k,D]},Xc=function(e,r,a){return r<=e&&e<=a||a<=e&&e<=r?e:e<=r&&r<=a||a<=r&&r<=e?r:a},na=function(e,r,a,o,s,l,u,d,f){var v=e-s,h=a-e,g=u-s,y=r-l,m=o-r,S=d-l,x=g*y-S*v,E=h*y-m*v,b=S*h-g*m;if(b!==0){var k=x/b,D=E/b,B=.001,N=0-B,T=1+B;return N<=k&&k<=T&&N<=D&&D<=T?[e+k*h,r+k*m]:f?[e+k*h,r+k*m]:[]}else return x===0||E===0?Xc(e,a,u)===u?[u,d]:Xc(e,a,s)===s?[s,l]:Xc(s,u,a)===a?[a,o]:[]:[]},Fo=function(e,r,a,o,s,l,u,d){var f=[],v,h=new Array(a.length),g=!0;l==null&&(g=!1);var y;if(g){for(var m=0;m<h.length/2;m++)h[m*2]=a[m*2]*l+o,h[m*2+1]=a[m*2+1]*u+s;if(d>0){var S=Fl(h,-d);y=zl(S)}else y=h}else y=a;for(var x,E,b,k,D=0;D<y.length/2;D++)x=y[D*2],E=y[D*2+1],D<y.length/2-1?(b=y[(D+1)*2],k=y[(D+1)*2+1]):(b=y[0],k=y[1]),v=na(e,r,o,s,x,E,b,k),v.length!==0&&f.push(v[0],v[1]);return f},Fw=function(e,r,a,o,s,l,u,d,f){var v=[],h,g=new Array(a.length*2);f.forEach(function(b,k){k===0?(g[g.length-2]=b.startX,g[g.length-1]=b.startY):(g[k*4-2]=b.startX,g[k*4-1]=b.startY),g[k*4]=b.stopX,g[k*4+1]=b.stopY,h=Po(e,r,o,s,b.cx,b.cy,b.radius),h.length!==0&&v.push(h[0],h[1])});for(var y=0;y<g.length/4;y++)h=na(e,r,o,s,g[y*4],g[y*4+1],g[y*4+2],g[y*4+3],!1),h.length!==0&&v.push(h[0],h[1]);if(v.length>2){for(var m=[v[0],v[1]],S=Math.pow(m[0]-e,2)+Math.pow(m[1]-r,2),x=1;x<v.length/2;x++){var E=Math.pow(v[x*2]-e,2)+Math.pow(v[x*2+1]-r,2);E<=S&&(m[0]=v[x*2],m[1]=v[x*2+1],S=E)}return m}return v},hl=function(e,r,a){var o=[e[0]-r[0],e[1]-r[1]],s=Math.sqrt(o[0]*o[0]+o[1]*o[1]),l=(s-a)/s;return l<0&&(l=1e-5),[r[0]+l*o[0],r[1]+l*o[1]]},xr=function(e,r){var a=df(e,r);return a=Sg(a),a},Sg=function(e){for(var r,a,o=e.length/2,s=1/0,l=1/0,u=-1/0,d=-1/0,f=0;f<o;f++)r=e[2*f],a=e[2*f+1],s=Math.min(s,r),u=Math.max(u,r),l=Math.min(l,a),d=Math.max(d,a);for(var v=2/(u-s),h=2/(d-l),g=0;g<o;g++)r=e[2*g]=e[2*g]*v,a=e[2*g+1]=e[2*g+1]*h,s=Math.min(s,r),u=Math.max(u,r),l=Math.min(l,a),d=Math.max(d,a);if(l<-1)for(var y=0;y<o;y++)a=e[2*y+1]=e[2*y+1]+(-1-l);return e},df=function(e,r){var a=1/e*2*Math.PI,o=e%2===0?Math.PI/2+a/2:Math.PI/2;o+=r;for(var s=new Array(e*2),l,u=0;u<e;u++)l=u*a+o,s[2*u]=Math.cos(l),s[2*u+1]=Math.sin(-l);return s},Oa=function(e,r){return Math.min(e/4,r/4,8)},Cg=function(e,r){return Math.min(e/10,r/10,8)},jf=function(){return 8},jw=function(e,r,a){return[e-2*r+a,2*(r-e),e]},vf=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},Vw=er({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),_w={pageRank:function(e){for(var r=Vw(e),a=r.dampingFactor,o=r.precision,s=r.iterations,l=r.weight,u=this._private.cy,d=this.byGroup(),f=d.nodes,v=d.edges,h=f.length,g=h*h,y=v.length,m=new Array(g),S=new Array(h),x=(1-a)/h,E=0;E<h;E++){for(var b=0;b<h;b++){var k=E*h+b;m[k]=0}S[E]=0}for(var D=0;D<y;D++){var B=v[D],N=B.data("source"),T=B.data("target");if(N!==T){var O=f.indexOfId(N),I=f.indexOfId(T),j=l(B),M=I*h+O;m[M]+=j,S[O]+=j}}for(var A=1/h+x,F=0;F<h;F++)if(S[F]===0)for(var z=0;z<h;z++){var $=z*h+F;m[$]=A}else for(var H=0;H<h;H++){var W=H*h+F;m[W]=m[W]/S[F]+x}for(var U=new Array(h),G=new Array(h),K,L=0;L<h;L++)U[L]=1;for(var _=0;_<s;_++){for(var Z=0;Z<h;Z++)G[Z]=0;for(var te=0;te<h;te++)for(var oe=0;oe<h;oe++){var le=te*h+oe;G[te]+=m[le]*U[oe]}Cw(G),K=U,U=G,G=K;for(var ce=0,ie=0;ie<h;ie++){var Q=K[ie]-U[ie];ce+=Q*Q}if(ce<o)break}var ue={rank:function(Se){return Se=u.collection(Se)[0],U[f.indexOf(Se)]}};return ue}},$h=er({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Ei={degreeCentralityNormalized:function(e){e=$h(e);var r=this.cy(),a=this.nodes(),o=a.length;if(e.directed){for(var v={},h={},g=0,y=0,m=0;m<o;m++){var S=a[m],x=S.id();e.root=S;var E=this.degreeCentrality(e);g<E.indegree&&(g=E.indegree),y<E.outdegree&&(y=E.outdegree),v[x]=E.indegree,h[x]=E.outdegree}return{indegree:function(k){return g==0?0:(Fe(k)&&(k=r.filter(k)),v[k.id()]/g)},outdegree:function(k){return y===0?0:(Fe(k)&&(k=r.filter(k)),h[k.id()]/y)}}}else{for(var s={},l=0,u=0;u<o;u++){var d=a[u];e.root=d;var f=this.degreeCentrality(e);l<f.degree&&(l=f.degree),s[d.id()]=f.degree}return{degree:function(k){return l===0?0:(Fe(k)&&(k=r.filter(k)),s[k.id()]/l)}}}},degreeCentrality:function(e){e=$h(e);var r=this.cy(),a=this,o=e,s=o.root,l=o.weight,u=o.directed,d=o.alpha;if(s=r.collection(s)[0],u){for(var y=s.connectedEdges(),m=y.filter(function(N){return N.target().same(s)&&a.has(N)}),S=y.filter(function(N){return N.source().same(s)&&a.has(N)}),x=m.length,E=S.length,b=0,k=0,D=0;D<m.length;D++)b+=l(m[D]);for(var B=0;B<S.length;B++)k+=l(S[B]);return{indegree:Math.pow(x,1-d)*Math.pow(b,d),outdegree:Math.pow(E,1-d)*Math.pow(k,d)}}else{for(var f=s.connectedEdges().intersection(a),v=f.length,h=0,g=0;g<f.length;g++)h+=l(f[g]);return{degree:Math.pow(v,1-d)*Math.pow(h,d)}}}};Ei.dc=Ei.degreeCentrality;Ei.dcn=Ei.degreeCentralityNormalised=Ei.degreeCentralityNormalized;var Uh=er({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Si={closenessCentralityNormalized:function(e){for(var r=Uh(e),a=r.harmonic,o=r.weight,s=r.directed,l=this.cy(),u={},d=0,f=this.nodes(),v=this.floydWarshall({weight:o,directed:s}),h=0;h<f.length;h++){for(var g=0,y=f[h],m=0;m<f.length;m++)if(h!==m){var S=v.distance(y,f[m]);a?g+=1/S:g+=S}a||(g=1/g),d<g&&(d=g),u[y.id()]=g}return{closeness:function(E){return d==0?0:(Fe(E)?E=l.filter(E)[0].id():E=E.id(),u[E]/d)}}},closenessCentrality:function(e){var r=Uh(e),a=r.root,o=r.weight,s=r.directed,l=r.harmonic;a=this.filter(a)[0];for(var u=this.dijkstra({root:a,weight:o,directed:s}),d=0,f=this.nodes(),v=0;v<f.length;v++){var h=f[v];if(!h.same(a)){var g=u.distanceTo(h);l?d+=1/g:d+=g}}return l?d:1/d}};Si.cc=Si.closenessCentrality;Si.ccn=Si.closenessCentralityNormalised=Si.closenessCentralityNormalized;var $w=er({weight:null,directed:!1}),hf={betweennessCentrality:function(e){for(var r=$w(e),a=r.directed,o=r.weight,s=o!=null,l=this.cy(),u=this.nodes(),d={},f={},v=0,h={set:function(k,D){f[k]=D,D>v&&(v=D)},get:function(k){return f[k]}},g=0;g<u.length;g++){var y=u[g],m=y.id();a?d[m]=y.outgoers().nodes():d[m]=y.openNeighborhood().nodes(),h.set(m,0)}for(var S=function(k){for(var D=u[k].id(),B=[],N={},T={},O={},I=new Ko(function(oe,le){return O[oe]-O[le]}),j=0;j<u.length;j++){var M=u[j].id();N[M]=[],T[M]=0,O[M]=1/0}for(T[D]=1,O[D]=0,I.push(D);!I.empty();){var A=I.pop();if(B.push(A),s)for(var F=0;F<d[A].length;F++){var z=d[A][F],$=l.getElementById(A),H=void 0;$.edgesTo(z).length>0?H=$.edgesTo(z)[0]:H=z.edgesTo($)[0];var W=o(H);z=z.id(),O[z]>O[A]+W&&(O[z]=O[A]+W,I.nodes.indexOf(z)<0?I.push(z):I.updateItem(z),T[z]=0,N[z]=[]),O[z]==O[A]+W&&(T[z]=T[z]+T[A],N[z].push(A))}else for(var U=0;U<d[A].length;U++){var G=d[A][U].id();O[G]==1/0&&(I.push(G),O[G]=O[A]+1),O[G]==O[A]+1&&(T[G]=T[G]+T[A],N[G].push(A))}}for(var K={},L=0;L<u.length;L++)K[u[L].id()]=0;for(;B.length>0;){for(var _=B.pop(),Z=0;Z<N[_].length;Z++){var te=N[_][Z];K[te]=K[te]+T[te]/T[_]*(1+K[_])}_!=u[k].id()&&h.set(_,h.get(_)+K[_])}},x=0;x<u.length;x++)S(x);var E={betweenness:function(k){var D=l.collection(k).id();return h.get(D)},betweennessNormalized:function(k){if(v==0)return 0;var D=l.collection(k).id();return h.get(D)/v}};return E.betweennessNormalised=E.betweennessNormalized,E}};hf.bc=hf.betweennessCentrality;var Uw=er({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),Hw=function(e){return Uw(e)},qw=function(e,r){for(var a=0,o=0;o<r.length;o++)a+=r[o](e);return a},Ww=function(e,r,a){for(var o=0;o<r;o++)e[o*r+o]=a},bg=function(e,r){for(var a,o=0;o<r;o++){a=0;for(var s=0;s<r;s++)a+=e[s*r+o];for(var l=0;l<r;l++)e[l*r+o]=e[l*r+o]/a}},Kw=function(e,r,a){for(var o=new Array(a*a),s=0;s<a;s++){for(var l=0;l<a;l++)o[s*a+l]=0;for(var u=0;u<a;u++)for(var d=0;d<a;d++)o[s*a+d]+=e[s*a+u]*r[u*a+d]}return o},Gw=function(e,r,a){for(var o=e.slice(0),s=1;s<a;s++)e=Kw(e,o,r);return e},Yw=function(e,r,a){for(var o=new Array(r*r),s=0;s<r*r;s++)o[s]=Math.pow(e[s],a);return bg(o,r),o},Qw=function(e,r,a,o){for(var s=0;s<a;s++){var l=Math.round(e[s]*Math.pow(10,o))/Math.pow(10,o),u=Math.round(r[s]*Math.pow(10,o))/Math.pow(10,o);if(l!==u)return!1}return!0},Xw=function(e,r,a,o){for(var s=[],l=0;l<r;l++){for(var u=[],d=0;d<r;d++)Math.round(e[l*r+d]*1e3)/1e3>0&&u.push(a[d]);u.length!==0&&s.push(o.collection(u))}return s},Zw=function(e,r){for(var a=0;a<e.length;a++)if(!r[a]||e[a].id()!==r[a].id())return!1;return!0},Jw=function(e){for(var r=0;r<e.length;r++)for(var a=0;a<e.length;a++)r!=a&&Zw(e[r],e[a])&&e.splice(a,1);return e},Hh=function(e){for(var r=this.nodes(),a=this.edges(),o=this.cy(),s=Hw(e),l={},u=0;u<r.length;u++)l[r[u].id()]=u;for(var d=r.length,f=d*d,v=new Array(f),h,g=0;g<f;g++)v[g]=0;for(var y=0;y<a.length;y++){var m=a[y],S=l[m.source().id()],x=l[m.target().id()],E=qw(m,s.attributes);v[S*d+x]+=E,v[x*d+S]+=E}Ww(v,d,s.multFactor),bg(v,d);for(var b=!0,k=0;b&&k<s.maxIterations;)b=!1,h=Gw(v,d,s.expandFactor),v=Yw(h,d,s.inflateFactor),Qw(v,h,f,4)||(b=!0),k++;var D=Xw(v,d,r,o);return D=Jw(D),D},ex={markovClustering:Hh,mcl:Hh},tx=function(e){return e},kg=function(e,r){return Math.abs(r-e)},qh=function(e,r,a){return e+kg(r,a)},Wh=function(e,r,a){return e+Math.pow(a-r,2)},rx=function(e){return Math.sqrt(e)},nx=function(e,r,a){return Math.max(e,kg(r,a))},So=function(e,r,a,o,s){for(var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:tx,u=o,d,f,v=0;v<e;v++)d=r(v),f=a(v),u=s(u,d,f);return l(u)},Ti={euclidean:function(e,r,a){return e>=2?So(e,r,a,0,Wh,rx):So(e,r,a,0,qh)},squaredEuclidean:function(e,r,a){return So(e,r,a,0,Wh)},manhattan:function(e,r,a){return So(e,r,a,0,qh)},max:function(e,r,a){return So(e,r,a,-1/0,nx)}};Ti["squared-euclidean"]=Ti.squaredEuclidean;Ti.squaredeuclidean=Ti.squaredEuclidean;function Ql(t,e,r,a,o,s){var l;return Tt(t)?l=t:l=Ti[t]||Ti.euclidean,e===0&&Tt(t)?l(o,s):l(e,r,a,o,s)}var ax=er({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Vf=function(e){return ax(e)},jl=function(e,r,a,o,s){var l=s!=="kMedoids",u=l?function(h){return a[h]}:function(h){return o[h](a)},d=function(g){return o[g](r)},f=a,v=r;return Ql(e,o.length,u,d,f,v)},Zc=function(e,r,a){for(var o=a.length,s=new Array(o),l=new Array(o),u=new Array(r),d=null,f=0;f<o;f++)s[f]=e.min(a[f]).value,l[f]=e.max(a[f]).value;for(var v=0;v<r;v++){d=[];for(var h=0;h<o;h++)d[h]=Math.random()*(l[h]-s[h])+s[h];u[v]=d}return u},Tg=function(e,r,a,o,s){for(var l=1/0,u=0,d=0;d<r.length;d++){var f=jl(a,e,r[d],o,s);f<l&&(l=f,u=d)}return u},Dg=function(e,r,a){for(var o=[],s=null,l=0;l<r.length;l++)s=r[l],a[s.id()]===e&&o.push(s);return o},ix=function(e,r,a){return Math.abs(r-e)<=a},ox=function(e,r,a){for(var o=0;o<e.length;o++)for(var s=0;s<e[o].length;s++){var l=Math.abs(e[o][s]-r[o][s]);if(l>a)return!1}return!0},sx=function(e,r,a){for(var o=0;o<a;o++)if(e===r[o])return!0;return!1},Kh=function(e,r){var a=new Array(r);if(e.length<50)for(var o=0;o<r;o++){for(var s=e[Math.floor(Math.random()*e.length)];sx(s,a,o);)s=e[Math.floor(Math.random()*e.length)];a[o]=s}else for(var l=0;l<r;l++)a[l]=e[Math.floor(Math.random()*e.length)];return a},Gh=function(e,r,a){for(var o=0,s=0;s<r.length;s++)o+=jl("manhattan",r[s],e,a,"kMedoids");return o},lx=function(e){var r=this.cy(),a=this.nodes(),o=null,s=Vf(e),l=new Array(s.k),u={},d;s.testMode?typeof s.testCentroids=="number"?(s.testCentroids,d=Zc(a,s.k,s.attributes)):_t(s.testCentroids)==="object"?d=s.testCentroids:d=Zc(a,s.k,s.attributes):d=Zc(a,s.k,s.attributes);for(var f=!0,v=0;f&&v<s.maxIterations;){for(var h=0;h<a.length;h++)o=a[h],u[o.id()]=Tg(o,d,s.distance,s.attributes,"kMeans");f=!1;for(var g=0;g<s.k;g++){var y=Dg(g,a,u);if(y.length!==0){for(var m=s.attributes.length,S=d[g],x=new Array(m),E=new Array(m),b=0;b<m;b++){E[b]=0;for(var k=0;k<y.length;k++)o=y[k],E[b]+=s.attributes[b](o);x[b]=E[b]/y.length,ix(x[b],S[b],s.sensitivityThreshold)||(f=!0)}d[g]=x,l[g]=r.collection(y)}}v++}return l},ux=function(e){var r=this.cy(),a=this.nodes(),o=null,s=Vf(e),l=new Array(s.k),u,d={},f,v=new Array(s.k);s.testMode?typeof s.testCentroids=="number"||(_t(s.testCentroids)==="object"?u=s.testCentroids:u=Kh(a,s.k)):u=Kh(a,s.k);for(var h=!0,g=0;h&&g<s.maxIterations;){for(var y=0;y<a.length;y++)o=a[y],d[o.id()]=Tg(o,u,s.distance,s.attributes,"kMedoids");h=!1;for(var m=0;m<u.length;m++){var S=Dg(m,a,d);if(S.length!==0){v[m]=Gh(u[m],S,s.attributes);for(var x=0;x<S.length;x++)f=Gh(S[x],S,s.attributes),f<v[m]&&(v[m]=f,u[m]=S[x],h=!0);l[m]=r.collection(S)}}g++}return l},cx=function(e,r,a,o,s){for(var l,u,d=0;d<r.length;d++)for(var f=0;f<e.length;f++)o[d][f]=Math.pow(a[d][f],s.m);for(var v=0;v<e.length;v++)for(var h=0;h<s.attributes.length;h++){l=0,u=0;for(var g=0;g<r.length;g++)l+=o[g][v]*s.attributes[h](r[g]),u+=o[g][v];e[v][h]=l/u}},fx=function(e,r,a,o,s){for(var l=0;l<e.length;l++)r[l]=e[l].slice();for(var u,d,f,v=2/(s.m-1),h=0;h<a.length;h++)for(var g=0;g<o.length;g++){u=0;for(var y=0;y<a.length;y++)d=jl(s.distance,o[g],a[h],s.attributes,"cmeans"),f=jl(s.distance,o[g],a[y],s.attributes,"cmeans"),u+=Math.pow(d/f,v);e[g][h]=1/u}},dx=function(e,r,a,o){for(var s=new Array(a.k),l=0;l<s.length;l++)s[l]=[];for(var u,d,f=0;f<r.length;f++){u=-1/0,d=-1;for(var v=0;v<r[0].length;v++)r[f][v]>u&&(u=r[f][v],d=v);s[d].push(e[f])}for(var h=0;h<s.length;h++)s[h]=o.collection(s[h]);return s},Yh=function(e){var r=this.cy(),a=this.nodes(),o=Vf(e),s,l,u,d,f;d=new Array(a.length);for(var v=0;v<a.length;v++)d[v]=new Array(o.k);u=new Array(a.length);for(var h=0;h<a.length;h++)u[h]=new Array(o.k);for(var g=0;g<a.length;g++){for(var y=0,m=0;m<o.k;m++)u[g][m]=Math.random(),y+=u[g][m];for(var S=0;S<o.k;S++)u[g][S]=u[g][S]/y}l=new Array(o.k);for(var x=0;x<o.k;x++)l[x]=new Array(o.attributes.length);f=new Array(a.length);for(var E=0;E<a.length;E++)f[E]=new Array(o.k);for(var b=!0,k=0;b&&k<o.maxIterations;)b=!1,cx(l,a,u,f,o),fx(u,d,l,a,o),ox(u,d,o.sensitivityThreshold)||(b=!0),k++;return s=dx(a,u,o,r),{clusters:s,degreeOfMembership:u}},vx={kMeans:lx,kMedoids:ux,fuzzyCMeans:Yh,fcm:Yh},hx=er({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),px={single:"min",complete:"max"},gx=function(e){var r=hx(e),a=px[r.linkage];return a!=null&&(r.linkage=a),r},Qh=function(e,r,a,o,s){for(var l=0,u=1/0,d,f=s.attributes,v=function(I,j){return Ql(s.distance,f.length,function(M){return f[M](I)},function(M){return f[M](j)},I,j)},h=0;h<e.length;h++){var g=e[h].key,y=a[g][o[g]];y<u&&(l=g,u=y)}if(s.mode==="threshold"&&u>=s.threshold||s.mode==="dendrogram"&&e.length===1)return!1;var m=r[l],S=r[o[l]],x;s.mode==="dendrogram"?x={left:m,right:S,key:m.key}:x={value:m.value.concat(S.value),key:m.key},e[m.index]=x,e.splice(S.index,1),r[m.key]=x;for(var E=0;E<e.length;E++){var b=e[E];m.key===b.key?d=1/0:s.linkage==="min"?(d=a[m.key][b.key],a[m.key][b.key]>a[S.key][b.key]&&(d=a[S.key][b.key])):s.linkage==="max"?(d=a[m.key][b.key],a[m.key][b.key]<a[S.key][b.key]&&(d=a[S.key][b.key])):s.linkage==="mean"?d=(a[m.key][b.key]*m.size+a[S.key][b.key]*S.size)/(m.size+S.size):s.mode==="dendrogram"?d=v(b.value,m.value):d=v(b.value[0],m.value[0]),a[m.key][b.key]=a[b.key][m.key]=d}for(var k=0;k<e.length;k++){var D=e[k].key;if(o[D]===m.key||o[D]===S.key){for(var B=D,N=0;N<e.length;N++){var T=e[N].key;a[D][T]<a[D][B]&&(B=T)}o[D]=B}e[k].index=k}return m.key=S.key=m.index=S.index=null,!0},pl=function t(e,r,a){e&&(e.value?r.push(e.value):(e.left&&t(e.left,r),e.right&&t(e.right,r)))},mx=function t(e,r){if(!e)return"";if(e.left&&e.right){var a=t(e.left,r),o=t(e.right,r),s=r.add({group:"nodes",data:{id:a+","+o}});return r.add({group:"edges",data:{source:a,target:s.id()}}),r.add({group:"edges",data:{source:o,target:s.id()}}),s.id()}else if(e.value)return e.value.id()},yx=function t(e,r,a){if(!e)return[];var o=[],s=[],l=[];return r===0?(e.left&&pl(e.left,o),e.right&&pl(e.right,s),l=o.concat(s),[a.collection(l)]):r===1?e.value?[a.collection(e.value)]:(e.left&&pl(e.left,o),e.right&&pl(e.right,s),[a.collection(o),a.collection(s)]):e.value?[a.collection(e.value)]:(e.left&&(o=t(e.left,r-1,a)),e.right&&(s=t(e.right,r-1,a)),o.concat(s))},Xh=function(e){for(var r=this.cy(),a=this.nodes(),o=gx(e),s=o.attributes,l=function(k,D){return Ql(o.distance,s.length,function(B){return s[B](k)},function(B){return s[B](D)},k,D)},u=[],d=[],f=[],v=[],h=0;h<a.length;h++){var g={value:o.mode==="dendrogram"?a[h]:[a[h]],key:h,index:h};u[h]=g,v[h]=g,d[h]=[],f[h]=0}for(var y=0;y<u.length;y++)for(var m=0;m<=y;m++){var S=void 0;o.mode==="dendrogram"?S=y===m?1/0:l(u[y].value,u[m].value):S=y===m?1/0:l(u[y].value[0],u[m].value[0]),d[y][m]=S,d[m][y]=S,S<d[y][f[y]]&&(f[y]=m)}for(var x=Qh(u,v,d,f,o);x;)x=Qh(u,v,d,f,o);var E;return o.mode==="dendrogram"?(E=yx(u[0],o.dendrogramDepth,r),o.addDendrogram&&mx(u[0],r)):(E=new Array(u.length),u.forEach(function(b,k){b.key=b.index=null,E[k]=r.collection(b.value)})),E},wx={hierarchicalClustering:Xh,hca:Xh},xx=er({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Ex=function(e){var r=e.damping,a=e.preference;.5<=r&&r<1||Nt("Damping must range on [0.5, 1).  Got: ".concat(r));var o=["median","mean","min","max"];return o.some(function(s){return s===a})||be(a)||Nt("Preference must be one of [".concat(o.map(function(s){return"'".concat(s,"'")}).join(", "),"] or a number.  Got: ").concat(a)),xx(e)},Sx=function(e,r,a,o){var s=function(u,d){return o[d](u)};return-Ql(e,o.length,function(l){return s(r,l)},function(l){return s(a,l)},r,a)},Cx=function(e,r){var a=null;return r==="median"?a=Ew(e):r==="mean"?a=xw(e):r==="min"?a=yw(e):r==="max"?a=ww(e):a=r,a},bx=function(e,r,a){for(var o=[],s=0;s<e;s++)r[s*e+s]+a[s*e+s]>0&&o.push(s);return o},Zh=function(e,r,a){for(var o=[],s=0;s<e;s++){for(var l=-1,u=-1/0,d=0;d<a.length;d++){var f=a[d];r[s*e+f]>u&&(l=f,u=r[s*e+f])}l>0&&o.push(l)}for(var v=0;v<a.length;v++)o[a[v]]=a[v];return o},kx=function(e,r,a){for(var o=Zh(e,r,a),s=0;s<a.length;s++){for(var l=[],u=0;u<o.length;u++)o[u]===a[s]&&l.push(u);for(var d=-1,f=-1/0,v=0;v<l.length;v++){for(var h=0,g=0;g<l.length;g++)h+=r[l[g]*e+l[v]];h>f&&(d=v,f=h)}a[s]=l[d]}return o=Zh(e,r,a),o},Jh=function(e){for(var r=this.cy(),a=this.nodes(),o=Ex(e),s={},l=0;l<a.length;l++)s[a[l].id()]=l;var u,d,f,v,h,g;u=a.length,d=u*u,f=new Array(d);for(var y=0;y<d;y++)f[y]=-1/0;for(var m=0;m<u;m++)for(var S=0;S<u;S++)m!==S&&(f[m*u+S]=Sx(o.distance,a[m],a[S],o.attributes));v=Cx(f,o.preference);for(var x=0;x<u;x++)f[x*u+x]=v;h=new Array(d);for(var E=0;E<d;E++)h[E]=0;g=new Array(d);for(var b=0;b<d;b++)g[b]=0;for(var k=new Array(u),D=new Array(u),B=new Array(u),N=0;N<u;N++)k[N]=0,D[N]=0,B[N]=0;for(var T=new Array(u*o.minIterations),O=0;O<T.length;O++)T[O]=0;var I;for(I=0;I<o.maxIterations;I++){for(var j=0;j<u;j++){for(var M=-1/0,A=-1/0,F=-1,z=0,$=0;$<u;$++)k[$]=h[j*u+$],z=g[j*u+$]+f[j*u+$],z>=M?(A=M,M=z,F=$):z>A&&(A=z);for(var H=0;H<u;H++)h[j*u+H]=(1-o.damping)*(f[j*u+H]-M)+o.damping*k[H];h[j*u+F]=(1-o.damping)*(f[j*u+F]-A)+o.damping*k[F]}for(var W=0;W<u;W++){for(var U=0,G=0;G<u;G++)k[G]=g[G*u+W],D[G]=Math.max(0,h[G*u+W]),U+=D[G];U-=D[W],D[W]=h[W*u+W],U+=D[W];for(var K=0;K<u;K++)g[K*u+W]=(1-o.damping)*Math.min(0,U-D[K])+o.damping*k[K];g[W*u+W]=(1-o.damping)*(U-D[W])+o.damping*k[W]}for(var L=0,_=0;_<u;_++){var Z=g[_*u+_]+h[_*u+_]>0?1:0;T[I%o.minIterations*u+_]=Z,L+=Z}if(L>0&&(I>=o.minIterations-1||I==o.maxIterations-1)){for(var te=0,oe=0;oe<u;oe++){B[oe]=0;for(var le=0;le<o.minIterations;le++)B[oe]+=T[le*u+oe];(B[oe]===0||B[oe]===o.minIterations)&&te++}if(te===u)break}}for(var ce=bx(u,h,g),ie=kx(u,f,ce),Q={},ue=0;ue<ce.length;ue++)Q[ce[ue]]=[];for(var de=0;de<a.length;de++){var Se=s[a[de].id()],Ae=ie[Se];Ae!=null&&Q[Ae].push(a[de])}for(var Ee=new Array(ce.length),xe=0;xe<ce.length;xe++)Ee[xe]=r.collection(Q[ce[xe]]);return Ee},Tx={affinityPropagation:Jh,ap:Jh},Dx=er({root:void 0,directed:!1}),Px={hierholzer:function(e){if(!nt(e)){var r=arguments;e={root:r[0],directed:r[1]}}var a=Dx(e),o=a.root,s=a.directed,l=this,u=!1,d,f,v;o&&(v=Fe(o)?this.filter(o)[0].id():o[0].id());var h={},g={};s?l.forEach(function(b){var k=b.id();if(b.isNode()){var D=b.indegree(!0),B=b.outdegree(!0),N=D-B,T=B-D;N==1?d?u=!0:d=k:T==1?f?u=!0:f=k:(T>1||N>1)&&(u=!0),h[k]=[],b.outgoers().forEach(function(O){O.isEdge()&&h[k].push(O.id())})}else g[k]=[void 0,b.target().id()]}):l.forEach(function(b){var k=b.id();if(b.isNode()){var D=b.degree(!0);D%2&&(d?f?u=!0:f=k:d=k),h[k]=[],b.connectedEdges().forEach(function(B){return h[k].push(B.id())})}else g[k]=[b.source().id(),b.target().id()]});var y={found:!1,trail:void 0};if(u)return y;if(f&&d)if(s){if(v&&f!=v)return y;v=f}else{if(v&&f!=v&&d!=v)return y;v||(v=f)}else v||(v=l[0].id());var m=function(k){for(var D=k,B=[k],N,T,O;h[D].length;)N=h[D].shift(),T=g[N][0],O=g[N][1],D!=O?(h[O]=h[O].filter(function(I){return I!=N}),D=O):!s&&D!=T&&(h[T]=h[T].filter(function(I){return I!=N}),D=T),B.unshift(N),B.unshift(D);return B},S=[],x=[];for(x=m(v);x.length!=1;)h[x[0]].length==0?(S.unshift(l.getElementById(x.shift())),S.unshift(l.getElementById(x.shift()))):x=m(x.shift()).concat(x);S.unshift(l.getElementById(x.shift()));for(var E in h)if(h[E].length)return y;return y.found=!0,y.trail=this.spawn(S,!0),y}},gl=function(){var e=this,r={},a=0,o=0,s=[],l=[],u={},d=function(g,y){for(var m=l.length-1,S=[],x=e.spawn();l[m].x!=g||l[m].y!=y;)S.push(l.pop().edge),m--;S.push(l.pop().edge),S.forEach(function(E){var b=E.connectedNodes().intersection(e);x.merge(E),b.forEach(function(k){var D=k.id(),B=k.connectedEdges().intersection(e);x.merge(k),r[D].cutVertex?x.merge(B.filter(function(N){return N.isLoop()})):x.merge(B)})}),s.push(x)},f=function h(g,y,m){g===m&&(o+=1),r[y]={id:a,low:a++,cutVertex:!1};var S=e.getElementById(y).connectedEdges().intersection(e);if(S.size()===0)s.push(e.spawn(e.getElementById(y)));else{var x,E,b,k;S.forEach(function(D){x=D.source().id(),E=D.target().id(),b=x===y?E:x,b!==m&&(k=D.id(),u[k]||(u[k]=!0,l.push({x:y,y:b,edge:D})),b in r?r[y].low=Math.min(r[y].low,r[b].id):(h(g,b,y),r[y].low=Math.min(r[y].low,r[b].low),r[y].id<=r[b].low&&(r[y].cutVertex=!0,d(y,b))))})}};e.forEach(function(h){if(h.isNode()){var g=h.id();g in r||(o=0,f(g,g),r[g].cutVertex=o>1)}});var v=Object.keys(r).filter(function(h){return r[h].cutVertex}).map(function(h){return e.getElementById(h)});return{cut:e.spawn(v),components:s}},Nx={hopcroftTarjanBiconnected:gl,htbc:gl,htb:gl,hopcroftTarjanBiconnectedComponents:gl},ml=function(){var e=this,r={},a=0,o=[],s=[],l=e.spawn(e),u=function d(f){s.push(f),r[f]={index:a,low:a++,explored:!1};var v=e.getElementById(f).connectedEdges().intersection(e);if(v.forEach(function(S){var x=S.target().id();x!==f&&(x in r||d(x),r[x].explored||(r[f].low=Math.min(r[f].low,r[x].low)))}),r[f].index===r[f].low){for(var h=e.spawn();;){var g=s.pop();if(h.merge(e.getElementById(g)),r[g].low=r[f].index,r[g].explored=!0,g===f)break}var y=h.edgesWith(h),m=h.merge(y);o.push(m),l=l.difference(m)}};return e.forEach(function(d){if(d.isNode()){var f=d.id();f in r||u(f)}}),{cut:l,components:o}},Lx={tarjanStronglyConnected:ml,tsc:ml,tscc:ml,tarjanStronglyConnectedComponents:ml},Pg={};[Ao,ow,sw,uw,fw,vw,gw,_w,Ei,Si,hf,ex,vx,wx,Tx,Px,Nx,Lx].forEach(function(t){Ue(Pg,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var Ng=0,Lg=1,Rg=2,Nn=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=Ng,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Nn.prototype={fulfill:function(e){return ep(this,Lg,"fulfillValue",e)},reject:function(e){return ep(this,Rg,"rejectReason",e)},then:function(e,r){var a=this,o=new Nn;return a.onFulfilled.push(rp(e,o,"fulfill")),a.onRejected.push(rp(r,o,"reject")),Bg(a),o.proxy}};var ep=function(e,r,a,o){return e.state===Ng&&(e.state=r,e[a]=o,Bg(e)),e},Bg=function(e){e.state===Lg?tp(e,"onFulfilled",e.fulfillValue):e.state===Rg&&tp(e,"onRejected",e.rejectReason)},tp=function(e,r,a){if(e[r].length!==0){var o=e[r];e[r]=[];var s=function(){for(var u=0;u<o.length;u++)o[u](a)};typeof setImmediate=="function"?setImmediate(s):setTimeout(s,0)}},rp=function(e,r,a){return function(o){if(typeof e!="function")r[a].call(r,o);else{var s;try{s=e(o)}catch(l){r.reject(l);return}Rx(r,s)}}},Rx=function t(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var a;if(_t(r)==="object"&&r!==null||typeof r=="function")try{a=r.then}catch(s){e.reject(s);return}if(typeof a=="function"){var o=!1;try{a.call(r,function(s){o||(o=!0,s===r?e.reject(new TypeError("circular thenable chain")):t(e,s))},function(s){o||(o=!0,e.reject(s))})}catch(s){o||e.reject(s)}return}e.fulfill(r)};Nn.all=function(t){return new Nn(function(e,r){for(var a=new Array(t.length),o=0,s=function(d,f){a[d]=f,o++,o===t.length&&e(a)},l=0;l<t.length;l++)(function(u){var d=t[u],f=d!=null&&d.then!=null;if(f)d.then(function(h){s(u,h)},function(h){r(h)});else{var v=d;s(u,v)}})(l)})};Nn.resolve=function(t){return new Nn(function(e,r){e(t)})};Nn.reject=function(t){return new Nn(function(e,r){r(t)})};var Ni=typeof Promise<"u"?Promise:Nn,pf=function(e,r,a){var o=Bf(e),s=!o,l=this._private=Ue({duration:1e3},r,a);if(l.target=e,l.style=l.style||l.css,l.started=!1,l.playing=!1,l.hooked=!1,l.applying=!1,l.progress=0,l.completes=[],l.frames=[],l.complete&&Tt(l.complete)&&l.completes.push(l.complete),s){var u=e.position();l.startPosition=l.startPosition||{x:u.x,y:u.y},l.startStyle=l.startStyle||e.cy().style().getAnimationStartStyle(e,l.style)}if(o){var d=e.pan();l.startPan={x:d.x,y:d.y},l.startZoom=e.zoom()}this.length=1,this[0]=this},Aa=pf.prototype;Ue(Aa,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,a=e.target._private.animation;e.queue?r=a.queue:r=a.current,r.push(this),Mr(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,a=r.playing;return e===void 0?r.progress:(a&&this.pause(),r.progress=e,r.started=!1,a&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var a=function(f,v){var h=e[f];h!=null&&(e[f]=e[v],e[v]=h)};if(a("zoom","startZoom"),a("pan","startPan"),a("position","startPosition"),e.style)for(var o=0;o<e.style.length;o++){var s=e.style[o],l=s.name,u=e.startStyle[l];e.startStyle[l]=s,e.style[o]=u}return r&&this.play(),this},promise:function(e){var r=this._private,a;switch(e){case"frame":a=r.frames;break;default:case"complete":case"completed":a=r.completes}return new Ni(function(o,s){a.push(function(){o()})})}});Aa.complete=Aa.completed;Aa.run=Aa.play;Aa.running=Aa.playing;var Bx={animated:function(){return function(){var r=this,a=r.length!==void 0,o=a?r:[r],s=this._private.cy||this;if(!s.styleEnabled())return!1;var l=o[0];if(l)return l._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,a=r.length!==void 0,o=a?r:[r],s=this._private.cy||this;if(!s.styleEnabled())return this;for(var l=0;l<o.length;l++){var u=o[l];u._private.animation.queue=[]}return this}},delay:function(){return function(r,a){var o=this._private.cy||this;return o.styleEnabled()?this.animate({delay:r,duration:r,complete:a}):this}},delayAnimation:function(){return function(r,a){var o=this._private.cy||this;return o.styleEnabled()?this.animation({delay:r,duration:r,complete:a}):this}},animation:function(){return function(r,a){var o=this,s=o.length!==void 0,l=s?o:[o],u=this._private.cy||this,d=!s,f=!d;if(!u.styleEnabled())return this;var v=u.style();r=Ue({},r,a);var h=Object.keys(r).length===0;if(h)return new pf(l[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(f&&(r.style=v.getPropsList(r.style||r.css),r.css=void 0),f&&r.renderedPosition!=null){var g=r.renderedPosition,y=u.pan(),m=u.zoom();r.position=mg(g,m,y)}if(d&&r.panBy!=null){var S=r.panBy,x=u.pan();r.pan={x:x.x+S.x,y:x.y+S.y}}var E=r.center||r.centre;if(d&&E!=null){var b=u.getCenterPan(E.eles,r.zoom);b!=null&&(r.pan=b)}if(d&&r.fit!=null){var k=r.fit,D=u.getFitViewport(k.eles||k.boundingBox,k.padding);D!=null&&(r.pan=D.pan,r.zoom=D.zoom)}if(d&&nt(r.zoom)){var B=u.getZoomedViewport(r.zoom);B!=null?(B.zoomed&&(r.zoom=B.zoom),B.panned&&(r.pan=B.pan)):r.zoom=null}return new pf(l[0],r)}},animate:function(){return function(r,a){var o=this,s=o.length!==void 0,l=s?o:[o],u=this._private.cy||this;if(!u.styleEnabled())return this;a&&(r=Ue({},r,a));for(var d=0;d<l.length;d++){var f=l[d],v=f.animated()&&(r.queue===void 0||r.queue),h=f.animation(r,v?{queue:!0}:void 0);h.play()}return this}},stop:function(){return function(r,a){var o=this,s=o.length!==void 0,l=s?o:[o],u=this._private.cy||this;if(!u.styleEnabled())return this;for(var d=0;d<l.length;d++){for(var f=l[d],v=f._private,h=v.animation.current,g=0;g<h.length;g++){var y=h[g],m=y._private;a&&(m.duration=0)}r&&(v.animation.queue=[]),a||(v.animation.current=[])}return u.notify("draw"),this}}},Ix=Array.isArray,Xl=Ix,Mx=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ox=/^\w*$/;function Ax(t,e){if(Xl(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Wo(t)?!0:Ox.test(t)||!Mx.test(t)||e!=null&&t in Object(e)}var zx=Ax,Fx="[object AsyncFunction]",jx="[object Function]",Vx="[object GeneratorFunction]",_x="[object Proxy]";function $x(t){if(!Ba(t))return!1;var e=lg(t);return e==jx||e==Vx||e==Fx||e==_x}var Ux=$x,Hx=Wl["__core-js_shared__"],Jc=Hx,np=function(){var t=/[^.]+$/.exec(Jc&&Jc.keys&&Jc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function qx(t){return!!np&&np in t}var Wx=qx,Kx=Function.prototype,Gx=Kx.toString;function Yx(t){if(t!=null){try{return Gx.call(t)}catch{}try{return t+""}catch{}}return""}var Qx=Yx,Xx=/[\\^$.*+?()[\]{}|]/g,Zx=/^\[object .+?Constructor\]$/,Jx=Function.prototype,eE=Object.prototype,tE=Jx.toString,rE=eE.hasOwnProperty,nE=RegExp("^"+tE.call(rE).replace(Xx,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function aE(t){if(!Ba(t)||Wx(t))return!1;var e=Ux(t)?nE:Zx;return e.test(Qx(t))}var iE=aE;function oE(t,e){return t==null?void 0:t[e]}var sE=oE;function lE(t,e){var r=sE(t,e);return iE(r)?r:void 0}var _f=lE,uE=_f(Object,"create"),jo=uE;function cE(){this.__data__=jo?jo(null):{},this.size=0}var fE=cE;function dE(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var vE=dE,hE="__lodash_hash_undefined__",pE=Object.prototype,gE=pE.hasOwnProperty;function mE(t){var e=this.__data__;if(jo){var r=e[t];return r===hE?void 0:r}return gE.call(e,t)?e[t]:void 0}var yE=mE,wE=Object.prototype,xE=wE.hasOwnProperty;function EE(t){var e=this.__data__;return jo?e[t]!==void 0:xE.call(e,t)}var SE=EE,CE="__lodash_hash_undefined__";function bE(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=jo&&e===void 0?CE:e,this}var kE=bE;function Li(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var a=t[e];this.set(a[0],a[1])}}Li.prototype.clear=fE;Li.prototype.delete=vE;Li.prototype.get=yE;Li.prototype.has=SE;Li.prototype.set=kE;var ap=Li;function TE(){this.__data__=[],this.size=0}var DE=TE;function PE(t,e){return t===e||t!==t&&e!==e}var Ig=PE;function NE(t,e){for(var r=t.length;r--;)if(Ig(t[r][0],e))return r;return-1}var Zl=NE,LE=Array.prototype,RE=LE.splice;function BE(t){var e=this.__data__,r=Zl(e,t);if(r<0)return!1;var a=e.length-1;return r==a?e.pop():RE.call(e,r,1),--this.size,!0}var IE=BE;function ME(t){var e=this.__data__,r=Zl(e,t);return r<0?void 0:e[r][1]}var OE=ME;function AE(t){return Zl(this.__data__,t)>-1}var zE=AE;function FE(t,e){var r=this.__data__,a=Zl(r,t);return a<0?(++this.size,r.push([t,e])):r[a][1]=e,this}var jE=FE;function Ri(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var a=t[e];this.set(a[0],a[1])}}Ri.prototype.clear=DE;Ri.prototype.delete=IE;Ri.prototype.get=OE;Ri.prototype.has=zE;Ri.prototype.set=jE;var VE=Ri,_E=_f(Wl,"Map"),$E=_E;function UE(){this.size=0,this.__data__={hash:new ap,map:new($E||VE),string:new ap}}var HE=UE;function qE(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var WE=qE;function KE(t,e){var r=t.__data__;return WE(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Jl=KE;function GE(t){var e=Jl(this,t).delete(t);return this.size-=e?1:0,e}var YE=GE;function QE(t){return Jl(this,t).get(t)}var XE=QE;function ZE(t){return Jl(this,t).has(t)}var JE=ZE;function eS(t,e){var r=Jl(this,t),a=r.size;return r.set(t,e),this.size+=r.size==a?0:1,this}var tS=eS;function Bi(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var a=t[e];this.set(a[0],a[1])}}Bi.prototype.clear=HE;Bi.prototype.delete=YE;Bi.prototype.get=XE;Bi.prototype.has=JE;Bi.prototype.set=tS;var Mg=Bi,rS="Expected a function";function $f(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(rS);var r=function(){var a=arguments,o=e?e.apply(this,a):a[0],s=r.cache;if(s.has(o))return s.get(o);var l=t.apply(this,a);return r.cache=s.set(o,l)||s,l};return r.cache=new($f.Cache||Mg),r}$f.Cache=Mg;var nS=$f,aS=500;function iS(t){var e=nS(t,function(a){return r.size===aS&&r.clear(),a}),r=e.cache;return e}var oS=iS,sS=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lS=/\\(\\)?/g,uS=oS(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(sS,function(r,a,o,s){e.push(o?s.replace(lS,"$1"):a||r)}),e}),Og=uS;function cS(t,e){for(var r=-1,a=t==null?0:t.length,o=Array(a);++r<a;)o[r]=e(t[r],r,t);return o}var Ag=cS,fS=1/0,ip=bi?bi.prototype:void 0,op=ip?ip.toString:void 0;function zg(t){if(typeof t=="string")return t;if(Xl(t))return Ag(t,zg)+"";if(Wo(t))return op?op.call(t):"";var e=t+"";return e=="0"&&1/t==-fS?"-0":e}var dS=zg;function vS(t){return t==null?"":dS(t)}var Fg=vS;function hS(t,e){return Xl(t)?t:zx(t,e)?[t]:Og(Fg(t))}var jg=hS,pS=1/0;function gS(t){if(typeof t=="string"||Wo(t))return t;var e=t+"";return e=="0"&&1/t==-pS?"-0":e}var Uf=gS;function mS(t,e){e=jg(e,t);for(var r=0,a=e.length;t!=null&&r<a;)t=t[Uf(e[r++])];return r&&r==a?t:void 0}var yS=mS;function wS(t,e,r){var a=t==null?void 0:yS(t,e);return a===void 0?r:a}var xS=wS,ES=function(){try{var t=_f(Object,"defineProperty");return t({},"",{}),t}catch{}}(),sp=ES;function SS(t,e,r){e=="__proto__"&&sp?sp(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var CS=SS,bS=Object.prototype,kS=bS.hasOwnProperty;function TS(t,e,r){var a=t[e];(!(kS.call(t,e)&&Ig(a,r))||r===void 0&&!(e in t))&&CS(t,e,r)}var DS=TS,PS=9007199254740991,NS=/^(?:0|[1-9]\d*)$/;function LS(t,e){var r=typeof t;return e=e??PS,!!e&&(r=="number"||r!="symbol"&&NS.test(t))&&t>-1&&t%1==0&&t<e}var RS=LS;function BS(t,e,r,a){if(!Ba(t))return t;e=jg(e,t);for(var o=-1,s=e.length,l=s-1,u=t;u!=null&&++o<s;){var d=Uf(e[o]),f=r;if(d==="__proto__"||d==="constructor"||d==="prototype")return t;if(o!=l){var v=u[d];f=a?a(v,d,u):void 0,f===void 0&&(f=Ba(v)?v:RS(e[o+1])?[]:{})}DS(u,d,f),u=u[d]}return t}var IS=BS;function MS(t,e,r){return t==null?t:IS(t,e,r)}var OS=MS;function AS(t,e){var r=-1,a=t.length;for(e||(e=Array(a));++r<a;)e[r]=t[r];return e}var zS=AS;function FS(t){return Xl(t)?Ag(t,Uf):Wo(t)?[t]:zS(Og(Fg(t)))}var jS=FS,VS={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(o){},beforeSet:function(o,s){},onSet:function(o){},canSet:function(o){return!0}};return e=Ue({},r,e),function(o,s){var l=e,u=this,d=u.length!==void 0,f=d?u:[u],v=d?u[0]:u;if(Fe(o)){var h=o.indexOf(".")!==-1,g=h&&jS(o);if(l.allowGetting&&s===void 0){var y;return v&&(l.beforeGet(v),g&&v._private[l.field][o]===void 0?y=xS(v._private[l.field],g):y=v._private[l.field][o]),y}else if(l.allowSetting&&s!==void 0){var m=!l.immutableKeys[o];if(m){var S=Xp({},o,s);l.beforeSet(u,S);for(var x=0,E=f.length;x<E;x++){var b=f[x];l.canSet(b)&&(g&&v._private[l.field][o]===void 0?OS(b._private[l.field],g,s):b._private[l.field][o]=s)}l.updateStyle&&u.updateStyle(),l.onSet(u),l.settingTriggersEvent&&u[l.triggerFnName](l.settingEvent)}}}else if(l.allowSetting&&nt(o)){var k=o,D,B,N=Object.keys(k);l.beforeSet(u,k);for(var T=0;T<N.length;T++){D=N[T],B=k[D];var O=!l.immutableKeys[D];if(O)for(var I=0;I<f.length;I++){var j=f[I];l.canSet(j)&&(j._private[l.field][D]=B)}}l.updateStyle&&u.updateStyle(),l.onSet(u),l.settingTriggersEvent&&u[l.triggerFnName](l.settingEvent)}else if(l.allowBinding&&Tt(o)){var M=o;u.on(l.bindingEvent,M)}else if(l.allowGetting&&o===void 0){var A;return v&&(l.beforeGet(v),A=v._private[l.field]),A}return u}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=Ue({},r,e),function(o){var s=e,l=this,u=l.length!==void 0,d=u?l:[l];if(Fe(o)){for(var f=o.split(/\s+/),v=f.length,h=0;h<v;h++){var g=f[h];if(!oa(g)){var y=!s.immutableKeys[g];if(y)for(var m=0,S=d.length;m<S;m++)d[m]._private[s.field][g]=void 0}}s.triggerEvent&&l[s.triggerFnName](s.event)}else if(o===void 0){for(var x=0,E=d.length;x<E;x++)for(var b=d[x]._private[s.field],k=Object.keys(b),D=0;D<k.length;D++){var B=k[D],N=!s.immutableKeys[B];N&&(b[B]=void 0)}s.triggerEvent&&l[s.triggerFnName](s.event)}return l}}},_S={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(a,o){var s=this,l=Array.prototype.slice.call(arguments,0);return new Ni(function(u,d){var f=function(y){s.off.apply(s,h),u(y)},v=l.concat([f]),h=v.concat([]);s.on.apply(s,v)})}}},ct={};[Bx,VS,_S].forEach(function(t){Ue(ct,t)});var $S={animate:ct.animate(),animation:ct.animation(),animated:ct.animated(),clearQueue:ct.clearQueue(),delay:ct.delay(),delayAnimation:ct.delayAnimation(),stop:ct.stop()},Tl={classes:function(e){var r=this;if(e===void 0){var a=[];return r[0]._private.classes.forEach(function(m){return a.push(m)}),a}else ht(e)||(e=(e||"").match(/\S+/g)||[]);for(var o=[],s=new Pi(e),l=0;l<r.length;l++){for(var u=r[l],d=u._private,f=d.classes,v=!1,h=0;h<e.length;h++){var g=e[h],y=f.has(g);if(!y){v=!0;break}}v||(v=f.size!==e.length),v&&(d.classes=s,o.push(u))}return o.length>0&&this.spawn(o).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){ht(e)||(e=e.match(/\S+/g)||[]);for(var a=this,o=r===void 0,s=[],l=0,u=a.length;l<u;l++)for(var d=a[l],f=d._private.classes,v=!1,h=0;h<e.length;h++){var g=e[h],y=f.has(g),m=!1;r||o&&!y?(f.add(g),m=!0):(!r||o&&y)&&(f.delete(g),m=!0),!v&&m&&(s.push(d),v=!0)}return s.length>0&&this.spawn(s).updateStyle().emit("class"),a},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var a=this;if(r==null)r=250;else if(r===0)return a;return a.addClass(e),setTimeout(function(){a.removeClass(e)},r),a}};Tl.className=Tl.classNames=Tl.classes;var rt={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Vt,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};rt.variable="(?:[\\w-.]|(?:\\\\"+rt.metaChar+"))+";rt.className="(?:[\\w-]|(?:\\\\"+rt.metaChar+"))+";rt.value=rt.string+"|"+rt.number;rt.id=rt.variable;(function(){var t,e,r;for(t=rt.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],rt.comparatorOp+="|@"+e;for(t=rt.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(rt.comparatorOp+="|\\!"+e)})();var vt=function(){return{checks:[]}},Le={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},gf=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return e1(t.selector,e.selector)}),US=function(){for(var t={},e,r=0;r<gf.length;r++)e=gf[r],t[e.selector]=e.matches;return t}(),HS=function(e,r){return US[e](r)},qS="("+gf.map(function(t){return t.selector}).join("|")+")",fi=function(e){return e.replace(new RegExp("\\\\("+rt.metaChar+")","g"),function(r,a){return a})},ta=function(e,r,a){e[e.length-1]=a},mf=[{name:"group",query:!0,regex:"("+rt.group+")",populate:function(e,r,a){var o=tn(a,1),s=o[0];r.checks.push({type:Le.GROUP,value:s==="*"?s:s+"s"})}},{name:"state",query:!0,regex:qS,populate:function(e,r,a){var o=tn(a,1),s=o[0];r.checks.push({type:Le.STATE,value:s})}},{name:"id",query:!0,regex:"\\#("+rt.id+")",populate:function(e,r,a){var o=tn(a,1),s=o[0];r.checks.push({type:Le.ID,value:fi(s)})}},{name:"className",query:!0,regex:"\\.("+rt.className+")",populate:function(e,r,a){var o=tn(a,1),s=o[0];r.checks.push({type:Le.CLASS,value:fi(s)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+rt.variable+")\\s*\\]",populate:function(e,r,a){var o=tn(a,1),s=o[0];r.checks.push({type:Le.DATA_EXIST,field:fi(s)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+rt.variable+")\\s*("+rt.comparatorOp+")\\s*("+rt.value+")\\s*\\]",populate:function(e,r,a){var o=tn(a,3),s=o[0],l=o[1],u=o[2],d=new RegExp("^"+rt.string+"$").exec(u)!=null;d?u=u.substring(1,u.length-1):u=parseFloat(u),r.checks.push({type:Le.DATA_COMPARE,field:fi(s),operator:l,value:u})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+rt.boolOp+")\\s*("+rt.variable+")\\s*\\]",populate:function(e,r,a){var o=tn(a,2),s=o[0],l=o[1];r.checks.push({type:Le.DATA_BOOL,field:fi(l),operator:s})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+rt.meta+")\\s*("+rt.comparatorOp+")\\s*("+rt.number+")\\s*\\]\\]",populate:function(e,r,a){var o=tn(a,3),s=o[0],l=o[1],u=o[2];r.checks.push({type:Le.META_COMPARE,field:fi(s),operator:l,value:parseFloat(u)})}},{name:"nextQuery",separator:!0,regex:rt.separator,populate:function(e,r){var a=e.currentSubject,o=e.edgeCount,s=e.compoundCount,l=e[e.length-1];a!=null&&(l.subject=a,e.currentSubject=null),l.edgeCount=o,l.compoundCount=s,e.edgeCount=0,e.compoundCount=0;var u=e[e.length++]=vt();return u}},{name:"directedEdge",separator:!0,regex:rt.directedEdge,populate:function(e,r){if(e.currentSubject==null){var a=vt(),o=r,s=vt();return a.checks.push({type:Le.DIRECTED_EDGE,source:o,target:s}),ta(e,r,a),e.edgeCount++,s}else{var l=vt(),u=r,d=vt();return l.checks.push({type:Le.NODE_SOURCE,source:u,target:d}),ta(e,r,l),e.edgeCount++,d}}},{name:"undirectedEdge",separator:!0,regex:rt.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var a=vt(),o=r,s=vt();return a.checks.push({type:Le.UNDIRECTED_EDGE,nodes:[o,s]}),ta(e,r,a),e.edgeCount++,s}else{var l=vt(),u=r,d=vt();return l.checks.push({type:Le.NODE_NEIGHBOR,node:u,neighbor:d}),ta(e,r,l),d}}},{name:"child",separator:!0,regex:rt.child,populate:function(e,r){if(e.currentSubject==null){var a=vt(),o=vt(),s=e[e.length-1];return a.checks.push({type:Le.CHILD,parent:s,child:o}),ta(e,r,a),e.compoundCount++,o}else if(e.currentSubject===r){var l=vt(),u=e[e.length-1],d=vt(),f=vt(),v=vt(),h=vt();return l.checks.push({type:Le.COMPOUND_SPLIT,left:u,right:d,subject:f}),f.checks=r.checks,r.checks=[{type:Le.TRUE}],h.checks.push({type:Le.TRUE}),d.checks.push({type:Le.PARENT,parent:h,child:v}),ta(e,u,l),e.currentSubject=f,e.compoundCount++,v}else{var g=vt(),y=vt(),m=[{type:Le.PARENT,parent:g,child:y}];return g.checks=r.checks,r.checks=m,e.compoundCount++,y}}},{name:"descendant",separator:!0,regex:rt.descendant,populate:function(e,r){if(e.currentSubject==null){var a=vt(),o=vt(),s=e[e.length-1];return a.checks.push({type:Le.DESCENDANT,ancestor:s,descendant:o}),ta(e,r,a),e.compoundCount++,o}else if(e.currentSubject===r){var l=vt(),u=e[e.length-1],d=vt(),f=vt(),v=vt(),h=vt();return l.checks.push({type:Le.COMPOUND_SPLIT,left:u,right:d,subject:f}),f.checks=r.checks,r.checks=[{type:Le.TRUE}],h.checks.push({type:Le.TRUE}),d.checks.push({type:Le.ANCESTOR,ancestor:h,descendant:v}),ta(e,u,l),e.currentSubject=f,e.compoundCount++,v}else{var g=vt(),y=vt(),m=[{type:Le.ANCESTOR,ancestor:g,descendant:y}];return g.checks=r.checks,r.checks=m,e.compoundCount++,y}}},{name:"subject",modifier:!0,regex:rt.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return ft("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var a=e[e.length-1],o=a.checks[0],s=o==null?null:o.type;s===Le.DIRECTED_EDGE?o.type=Le.NODE_TARGET:s===Le.UNDIRECTED_EDGE&&(o.type=Le.NODE_NEIGHBOR,o.node=o.nodes[1],o.neighbor=o.nodes[0],o.nodes=null)}}];mf.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var WS=function(e){for(var r,a,o,s=0;s<mf.length;s++){var l=mf[s],u=l.name,d=e.match(l.regexObj);if(d!=null){a=d,r=l,o=u;var f=d[0];e=e.substring(f.length);break}}return{expr:r,match:a,name:o,remaining:e}},KS=function(e){var r=e.match(/^\s+/);if(r){var a=r[0];e=e.substring(a.length)}return e},GS=function(e){var r=this,a=r.inputText=e,o=r[0]=vt();for(r.length=1,a=KS(a);;){var s=WS(a);if(s.expr==null)return ft("The selector `"+e+"`is invalid"),!1;var l=s.match.slice(1),u=s.expr.populate(r,o,l);if(u===!1)return!1;if(u!=null&&(o=u),a=s.remaining,a.match(/^\s*$/))break}var d=r[r.length-1];r.currentSubject!=null&&(d.subject=r.currentSubject),d.edgeCount=r.edgeCount,d.compoundCount=r.compoundCount;for(var f=0;f<r.length;f++){var v=r[f];if(v.compoundCount>0&&v.edgeCount>0)return ft("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(v.edgeCount>1)return ft("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;v.edgeCount===1&&ft("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},YS=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(v){return v??""},r=function(v){return Fe(v)?'"'+v+'"':e(v)},a=function(v){return" "+v+" "},o=function(v,h){var g=v.type,y=v.value;switch(g){case Le.GROUP:{var m=e(y);return m.substring(0,m.length-1)}case Le.DATA_COMPARE:{var S=v.field,x=v.operator;return"["+S+a(e(x))+r(y)+"]"}case Le.DATA_BOOL:{var E=v.operator,b=v.field;return"["+e(E)+b+"]"}case Le.DATA_EXIST:{var k=v.field;return"["+k+"]"}case Le.META_COMPARE:{var D=v.operator,B=v.field;return"[["+B+a(e(D))+r(y)+"]]"}case Le.STATE:return y;case Le.ID:return"#"+y;case Le.CLASS:return"."+y;case Le.PARENT:case Le.CHILD:return s(v.parent,h)+a(">")+s(v.child,h);case Le.ANCESTOR:case Le.DESCENDANT:return s(v.ancestor,h)+" "+s(v.descendant,h);case Le.COMPOUND_SPLIT:{var N=s(v.left,h),T=s(v.subject,h),O=s(v.right,h);return N+(N.length>0?" ":"")+T+O}case Le.TRUE:return""}},s=function(v,h){return v.checks.reduce(function(g,y,m){return g+(h===v&&m===0?"$":"")+o(y,h)},"")},l="",u=0;u<this.length;u++){var d=this[u];l+=s(d,d.subject),this.length>1&&u<this.length-1&&(l+=", ")}return this.toStringCache=l,l},QS={parse:GS,toString:YS},Vg=function(e,r,a){var o,s=Fe(e),l=be(e),u=Fe(a),d,f,v=!1,h=!1,g=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),h=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),v=!0),(s||u||v)&&(d=!s&&!l?"":""+e,f=""+a),v&&(e=d=d.toLowerCase(),a=f=f.toLowerCase()),r){case"*=":o=d.indexOf(f)>=0;break;case"$=":o=d.indexOf(f,d.length-f.length)>=0;break;case"^=":o=d.indexOf(f)===0;break;case"=":o=e===a;break;case">":g=!0,o=e>a;break;case">=":g=!0,o=e>=a;break;case"<":g=!0,o=e<a;break;case"<=":g=!0,o=e<=a;break;default:o=!1;break}return h&&(e!=null||!g)&&(o=!o),o},XS=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},ZS=function(e){return e!==void 0},Hf=function(e,r){return e.data(r)},JS=function(e,r){return e[r]()},Lt=[],xt=function(e,r){return e.checks.every(function(a){return Lt[a.type](a,r)})};Lt[Le.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};Lt[Le.STATE]=function(t,e){var r=t.value;return HS(r,e)};Lt[Le.ID]=function(t,e){var r=t.value;return e.id()===r};Lt[Le.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};Lt[Le.META_COMPARE]=function(t,e){var r=t.field,a=t.operator,o=t.value;return Vg(JS(e,r),a,o)};Lt[Le.DATA_COMPARE]=function(t,e){var r=t.field,a=t.operator,o=t.value;return Vg(Hf(e,r),a,o)};Lt[Le.DATA_BOOL]=function(t,e){var r=t.field,a=t.operator;return XS(Hf(e,r),a)};Lt[Le.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,ZS(Hf(e,r))};Lt[Le.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],a=t.nodes[1],o=e.source(),s=e.target();return xt(r,o)&&xt(a,s)||xt(a,o)&&xt(r,s)};Lt[Le.NODE_NEIGHBOR]=function(t,e){return xt(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&xt(t.neighbor,r)})};Lt[Le.DIRECTED_EDGE]=function(t,e){return xt(t.source,e.source())&&xt(t.target,e.target())};Lt[Le.NODE_SOURCE]=function(t,e){return xt(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&xt(t.target,r)})};Lt[Le.NODE_TARGET]=function(t,e){return xt(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&xt(t.source,r)})};Lt[Le.CHILD]=function(t,e){return xt(t.child,e)&&xt(t.parent,e.parent())};Lt[Le.PARENT]=function(t,e){return xt(t.parent,e)&&e.children().some(function(r){return xt(t.child,r)})};Lt[Le.DESCENDANT]=function(t,e){return xt(t.descendant,e)&&e.ancestors().some(function(r){return xt(t.ancestor,r)})};Lt[Le.ANCESTOR]=function(t,e){return xt(t.ancestor,e)&&e.descendants().some(function(r){return xt(t.descendant,r)})};Lt[Le.COMPOUND_SPLIT]=function(t,e){return xt(t.subject,e)&&xt(t.left,e)&&xt(t.right,e)};Lt[Le.TRUE]=function(){return!0};Lt[Le.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};Lt[Le.FILTER]=function(t,e){var r=t.value;return r(e)};var eC=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===Le.ID)return e.getElementById(r[0].checks[0].value).collection();var a=function(s){for(var l=0;l<r.length;l++){var u=r[l];if(xt(u,s))return!0}return!1};return r.text()==null&&(a=function(){return!0}),e.filter(a)},tC=function(e){for(var r=this,a=0;a<r.length;a++){var o=r[a];if(xt(o,e))return!0}return!1},rC={matches:tC,filter:eC},la=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||Fe(e)&&e.match(/^\s*$/)||(Mr(e)?this.addQuery({checks:[{type:Le.COLLECTION,value:e.collection()}]}):Tt(e)?this.addQuery({checks:[{type:Le.FILTER,value:e}]}):Fe(e)?this.parse(e)||(this.invalid=!0):Nt("A selector must be created from a string; found "))},ua=la.prototype;[QS,rC].forEach(function(t){return Ue(ua,t)});ua.text=function(){return this.inputText};ua.size=function(){return this.length};ua.eq=function(t){return this[t]};ua.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};ua.addQuery=function(t){this[this.length++]=t};ua.selector=ua.toString;var aa={allAre:function(e){var r=new la(e);return this.every(function(a){return r.matches(a)})},is:function(e){var r=new la(e);return this.some(function(a){return r.matches(a)})},some:function(e,r){for(var a=0;a<this.length;a++){var o=r?e.apply(r,[this[a],a,this]):e(this[a],a,this);if(o)return!0}return!1},every:function(e,r){for(var a=0;a<this.length;a++){var o=r?e.apply(r,[this[a],a,this]):e(this[a],a,this);if(!o)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,a=e.length;return r!==a?!1:r===1?this[0]===e[0]:this.every(function(o){return e.hasElementWithId(o.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(a){return r.hasElementWithId(a.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(a){return r.hasElementWithId(a.id())})}};aa.allAreNeighbours=aa.allAreNeighbors;aa.has=aa.contains;aa.equal=aa.equals=aa.same;var Wr=function(e,r){return function(o,s,l,u){var d=o,f=this,v;if(d==null?v="":Mr(d)&&d.length===1&&(v=d.id()),f.length===1&&v){var h=f[0]._private,g=h.traversalCache=h.traversalCache||{},y=g[r]=g[r]||[],m=Ia(v),S=y[m];return S||(y[m]=e.call(f,o,s,l,u))}else return e.call(f,o,s,l,u)}},Di={parent:function(e){var r=[];if(this.length===1){var a=this[0]._private.parent;if(a)return a}for(var o=0;o<this.length;o++){var s=this[o],l=s._private.parent;l&&r.push(l)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],a=this.parent();a.nonempty();){for(var o=0;o<a.length;o++){var s=a[o];r.push(s)}a=a.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,a=0;a<this.length;a++){var o=this[a],s=o.parents();r=r||s,r=r.intersect(s)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:Wr(function(t){for(var e=[],r=0;r<this.length;r++)for(var a=this[r],o=a._private.children,s=0;s<o.length;s++)e.push(o[s]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function a(o){for(var s=0;s<o.length;s++){var l=o[s];r.push(l),l.children().nonempty()&&a(l.children())}}return a(this.children()),this.spawn(r,!0).filter(e)}};function qf(t,e,r,a){for(var o=[],s=new Pi,l=t.cy(),u=l.hasCompoundNodes(),d=0;d<t.length;d++){var f=t[d];r?o.push(f):u&&a(o,s,f)}for(;o.length>0;){var v=o.shift();e(v),s.add(v.id()),u&&a(o,s,v)}return t}function _g(t,e,r){if(r.isParent())for(var a=r._private.children,o=0;o<a.length;o++){var s=a[o];e.has(s.id())||t.push(s)}}Di.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return qf(this,t,e,_g)};function $g(t,e,r){if(r.isChild()){var a=r._private.parent;e.has(a.id())||t.push(a)}}Di.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return qf(this,t,e,$g)};function nC(t,e,r){$g(t,e,r),_g(t,e,r)}Di.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return qf(this,t,e,nC)};Di.ancestors=Di.parents;var Vo,Ug;Vo=Ug={data:ct.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:ct.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:ct.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ct.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:ct.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:ct.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};Vo.attr=Vo.data;Vo.removeAttr=Vo.removeData;var aC=Ug,eu={};function ef(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var a=0,o=r[0],s=o._private.edges,l=0;l<s.length;l++){var u=s[l];!e&&u.isLoop()||(a+=t(o,u))}return a}else return}}Ue(eu,{degree:ef(function(t,e){return e.source().same(e.target())?2:1}),indegree:ef(function(t,e){return e.target().same(t)?1:0}),outdegree:ef(function(t,e){return e.source().same(t)?1:0})});function di(t,e){return function(r){for(var a,o=this.nodes(),s=0;s<o.length;s++){var l=o[s],u=l[t](r);u!==void 0&&(a===void 0||e(u,a))&&(a=u)}return a}}Ue(eu,{minDegree:di("degree",function(t,e){return t<e}),maxDegree:di("degree",function(t,e){return t>e}),minIndegree:di("indegree",function(t,e){return t<e}),maxIndegree:di("indegree",function(t,e){return t>e}),minOutdegree:di("outdegree",function(t,e){return t<e}),maxOutdegree:di("outdegree",function(t,e){return t>e})});Ue(eu,{totalDegree:function(e){for(var r=0,a=this.nodes(),o=0;o<a.length;o++)r+=a[o].degree(e);return r}});var an,Hg,qg=function(e,r,a){for(var o=0;o<e.length;o++){var s=e[o];if(!s.locked()){var l=s._private.position,u={x:r.x!=null?r.x-l.x:0,y:r.y!=null?r.y-l.y:0};s.isParent()&&!(u.x===0&&u.y===0)&&s.children().shift(u,a),s.dirtyBoundingBoxCache()}}},lp={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){qg(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};an=Hg={position:ct.data(lp),silentPosition:ct.data(Ue({},lp,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){qg(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(nt(e))r?this.silentPosition(e):this.position(e);else if(Tt(e)){var a=e,o=this.cy();o.startBatch();for(var s=0;s<this.length;s++){var l=this[s],u=void 0;(u=a(l,s))&&(r?l.silentPosition(u):l.position(u))}o.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,a){var o;if(nt(e)?(o={x:be(e.x)?e.x:0,y:be(e.y)?e.y:0},a=r):Fe(e)&&be(r)&&(o={x:0,y:0},o[e]=r),o!=null){var s=this.cy();s.startBatch();for(var l=0;l<this.length;l++){var u=this[l];if(!(s.hasCompoundNodes()&&u.isChild()&&u.ancestors().anySame(this))){var d=u.position(),f={x:d.x+o.x,y:d.y+o.y};a?u.silentPosition(f):u.position(f)}}s.endBatch()}return this},silentShift:function(e,r){return nt(e)?this.shift(e,!0):Fe(e)&&be(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var a=this[0],o=this.cy(),s=o.zoom(),l=o.pan(),u=nt(e)?e:void 0,d=u!==void 0||r!==void 0&&Fe(e);if(a&&a.isNode())if(d)for(var f=0;f<this.length;f++){var v=this[f];r!==void 0?v.position(e,(r-l[e])/s):u!==void 0&&v.position(mg(u,s,l))}else{var h=a.position();return u=Yl(h,s,l),e===void 0?u:u[e]}else if(!d)return;return this},relativePosition:function(e,r){var a=this[0],o=this.cy(),s=nt(e)?e:void 0,l=s!==void 0||r!==void 0&&Fe(e),u=o.hasCompoundNodes();if(a&&a.isNode())if(l)for(var d=0;d<this.length;d++){var f=this[d],v=u?f.parent():null,h=v&&v.length>0,g=h;h&&(v=v[0]);var y=g?v.position():{x:0,y:0};r!==void 0?f.position(e,r+y[e]):s!==void 0&&f.position({x:s.x+y.x,y:s.y+y.y})}else{var m=a.position(),S=u?a.parent():null,x=S&&S.length>0,E=x;x&&(S=S[0]);var b=E?S.position():{x:0,y:0};return s={x:m.x-b.x,y:m.y-b.y},e===void 0?s:s[e]}else if(!l)return;return this}};an.modelPosition=an.point=an.position;an.modelPositions=an.points=an.positions;an.renderedPoint=an.renderedPosition;an.relativePoint=an.relativePosition;var iC=Hg,Ci,da;Ci=da={};da.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),a=r.zoom(),o=r.pan(),s=e.x1*a+o.x,l=e.x2*a+o.x,u=e.y1*a+o.y,d=e.y2*a+o.y;return{x1:s,x2:l,y1:u,y2:d,w:l-s,h:d-u}};da.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var a=r._private;a.compoundBoundsClean=!1,a.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};da.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(l){if(!l.isParent())return;var u=l._private,d=l.children(),f=l.pstyle("compound-sizing-wrt-labels").value==="include",v={width:{val:l.pstyle("min-width").pfValue,left:l.pstyle("min-width-bias-left"),right:l.pstyle("min-width-bias-right")},height:{val:l.pstyle("min-height").pfValue,top:l.pstyle("min-height-bias-top"),bottom:l.pstyle("min-height-bias-bottom")}},h=d.boundingBox({includeLabels:f,includeOverlays:!1,useCache:!1}),g=u.position;(h.w===0||h.h===0)&&(h={w:l.pstyle("width").pfValue,h:l.pstyle("height").pfValue},h.x1=g.x-h.w/2,h.x2=g.x+h.w/2,h.y1=g.y-h.h/2,h.y2=g.y+h.h/2);function y(I,j,M){var A=0,F=0,z=j+M;return I>0&&z>0&&(A=j/z*I,F=M/z*I),{biasDiff:A,biasComplementDiff:F}}function m(I,j,M,A){if(M.units==="%")switch(A){case"width":return I>0?M.pfValue*I:0;case"height":return j>0?M.pfValue*j:0;case"average":return I>0&&j>0?M.pfValue*(I+j)/2:0;case"min":return I>0&&j>0?I>j?M.pfValue*j:M.pfValue*I:0;case"max":return I>0&&j>0?I>j?M.pfValue*I:M.pfValue*j:0;default:return 0}else return M.units==="px"?M.pfValue:0}var S=v.width.left.value;v.width.left.units==="px"&&v.width.val>0&&(S=S*100/v.width.val);var x=v.width.right.value;v.width.right.units==="px"&&v.width.val>0&&(x=x*100/v.width.val);var E=v.height.top.value;v.height.top.units==="px"&&v.height.val>0&&(E=E*100/v.height.val);var b=v.height.bottom.value;v.height.bottom.units==="px"&&v.height.val>0&&(b=b*100/v.height.val);var k=y(v.width.val-h.w,S,x),D=k.biasDiff,B=k.biasComplementDiff,N=y(v.height.val-h.h,E,b),T=N.biasDiff,O=N.biasComplementDiff;u.autoPadding=m(h.w,h.h,l.pstyle("padding"),l.pstyle("padding-relative-to").value),u.autoWidth=Math.max(h.w,v.width.val),g.x=(-D+h.x1+h.x2+B)/2,u.autoHeight=Math.max(h.h,v.height.val),g.y=(-T+h.y1+h.y2+O)/2}for(var a=0;a<this.length;a++){var o=this[a],s=o._private;(!s.compoundBoundsClean||t)&&(r(o),e.batching()||(s.compoundBoundsClean=!0))}return this};var qr=function(e){return e===1/0||e===-1/0?0:e},rn=function(e,r,a,o,s){o-r===0||s-a===0||r==null||a==null||o==null||s==null||(e.x1=r<e.x1?r:e.x1,e.x2=o>e.x2?o:e.x2,e.y1=a<e.y1?a:e.y1,e.y2=s>e.y2?s:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Pa=function(e,r){return r==null?e:rn(e,r.x1,r.y1,r.x2,r.y2)},Co=function(e,r,a){return nn(e,r,a)},yl=function(e,r,a){if(!r.cy().headless()){var o=r._private,s=o.rstyle,l=s.arrowWidth/2,u=r.pstyle(a+"-arrow-shape").value,d,f;if(u!=="none"){a==="source"?(d=s.srcX,f=s.srcY):a==="target"?(d=s.tgtX,f=s.tgtY):(d=s.midX,f=s.midY);var v=o.arrowBounds=o.arrowBounds||{},h=v[a]=v[a]||{};h.x1=d-l,h.y1=f-l,h.x2=d+l,h.y2=f+l,h.w=h.x2-h.x1,h.h=h.y2-h.y1,bl(h,1),rn(e,h.x1,h.y1,h.x2,h.y2)}}},tf=function(e,r,a){if(!r.cy().headless()){var o;a?o=a+"-":o="";var s=r._private,l=s.rstyle,u=r.pstyle(o+"label").strValue;if(u){var d=r.pstyle("text-halign"),f=r.pstyle("text-valign"),v=Co(l,"labelWidth",a),h=Co(l,"labelHeight",a),g=Co(l,"labelX",a),y=Co(l,"labelY",a),m=r.pstyle(o+"text-margin-x").pfValue,S=r.pstyle(o+"text-margin-y").pfValue,x=r.isEdge(),E=r.pstyle(o+"text-rotation"),b=r.pstyle("text-outline-width").pfValue,k=r.pstyle("text-border-width").pfValue,D=k/2,B=r.pstyle("text-background-padding").pfValue,N=2,T=h,O=v,I=O/2,j=T/2,M,A,F,z;if(x)M=g-I,A=g+I,F=y-j,z=y+j;else{switch(d.value){case"left":M=g-O,A=g;break;case"center":M=g-I,A=g+I;break;case"right":M=g,A=g+O;break}switch(f.value){case"top":F=y-T,z=y;break;case"center":F=y-j,z=y+j;break;case"bottom":F=y,z=y+T;break}}var $=m-Math.max(b,D)-B-N,H=m+Math.max(b,D)+B+N,W=S-Math.max(b,D)-B-N,U=S+Math.max(b,D)+B+N;M+=$,A+=H,F+=W,z+=U;var G=a||"main",K=s.labelBounds,L=K[G]=K[G]||{};L.x1=M,L.y1=F,L.x2=A,L.y2=z,L.w=A-M,L.h=z-F,L.leftPad=$,L.rightPad=H,L.topPad=W,L.botPad=U;var _=x&&E.strValue==="autorotate",Z=E.pfValue!=null&&E.pfValue!==0;if(_||Z){var te=_?Co(s.rstyle,"labelAngle",a):E.pfValue,oe=Math.cos(te),le=Math.sin(te),ce=(M+A)/2,ie=(F+z)/2;if(!x){switch(d.value){case"left":ce=A;break;case"right":ce=M;break}switch(f.value){case"top":ie=z;break;case"bottom":ie=F;break}}var Q=function(Pe,Te){return Pe=Pe-ce,Te=Te-ie,{x:Pe*oe-Te*le+ce,y:Pe*le+Te*oe+ie}},ue=Q(M,F),de=Q(M,z),Se=Q(A,F),Ae=Q(A,z);M=Math.min(ue.x,de.x,Se.x,Ae.x),A=Math.max(ue.x,de.x,Se.x,Ae.x),F=Math.min(ue.y,de.y,Se.y,Ae.y),z=Math.max(ue.y,de.y,Se.y,Ae.y)}var Ee=G+"Rot",xe=K[Ee]=K[Ee]||{};xe.x1=M,xe.y1=F,xe.x2=A,xe.y2=z,xe.w=A-M,xe.h=z-F,rn(e,M,F,A,z),rn(s.labelBounds.all,M,F,A,z)}return e}},oC=function(e,r){if(!r.cy().headless()){var a=r.pstyle("outline-opacity").value,o=r.pstyle("outline-width").value;if(a>0&&o>0){var s=r.pstyle("outline-offset").value,l=r.pstyle("shape").value,u=o+s,d=(e.w+u*2)/e.w,f=(e.h+u*2)/e.h,v=0,h=0;["diamond","pentagon","round-triangle"].includes(l)?(d=(e.w+u*2.4)/e.w,h=-u/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(l)?d=(e.w+u*2.4)/e.w:l==="star"?(d=(e.w+u*2.8)/e.w,f=(e.h+u*2.6)/e.h,h=-u/3.8):l==="triangle"?(d=(e.w+u*2.8)/e.w,f=(e.h+u*2.4)/e.h,h=-u/1.4):l==="vee"&&(d=(e.w+u*4.4)/e.w,f=(e.h+u*3.8)/e.h,h=-u*.5);var g=e.h*f-e.h,y=e.w*d-e.w;if(kl(e,[Math.ceil(g/2),Math.ceil(y/2)]),v!=0||h!==0){var m=Dw(e,v,h);wg(e,m)}}}},sC=function(e,r){var a=e._private.cy,o=a.styleEnabled(),s=a.headless(),l=Nr(),u=e._private,d=e.isNode(),f=e.isEdge(),v,h,g,y,m,S,x=u.rstyle,E=d&&o?e.pstyle("bounds-expansion").pfValue:[0],b=function(Re){return Re.pstyle("display").value!=="none"},k=!o||b(e)&&(!f||b(e.source())&&b(e.target()));if(k){var D=0,B=0;o&&r.includeOverlays&&(D=e.pstyle("overlay-opacity").value,D!==0&&(B=e.pstyle("overlay-padding").value));var N=0,T=0;o&&r.includeUnderlays&&(N=e.pstyle("underlay-opacity").value,N!==0&&(T=e.pstyle("underlay-padding").value));var O=Math.max(B,T),I=0,j=0;if(o&&(I=e.pstyle("width").pfValue,j=I/2),d&&r.includeNodes){var M=e.position();m=M.x,S=M.y;var A=e.outerWidth(),F=A/2,z=e.outerHeight(),$=z/2;v=m-F,h=m+F,g=S-$,y=S+$,rn(l,v,g,h,y),o&&r.includeOutlines&&oC(l,e)}else if(f&&r.includeEdges)if(o&&!s){var H=e.pstyle("curve-style").strValue;if(v=Math.min(x.srcX,x.midX,x.tgtX),h=Math.max(x.srcX,x.midX,x.tgtX),g=Math.min(x.srcY,x.midY,x.tgtY),y=Math.max(x.srcY,x.midY,x.tgtY),v-=j,h+=j,g-=j,y+=j,rn(l,v,g,h,y),H==="haystack"){var W=x.haystackPts;if(W&&W.length===2){if(v=W[0].x,g=W[0].y,h=W[1].x,y=W[1].y,v>h){var U=v;v=h,h=U}if(g>y){var G=g;g=y,y=G}rn(l,v-j,g-j,h+j,y+j)}}else if(H==="bezier"||H==="unbundled-bezier"||H.endsWith("segments")||H.endsWith("taxi")){var K;switch(H){case"bezier":case"unbundled-bezier":K=x.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":K=x.linePts;break}if(K!=null)for(var L=0;L<K.length;L++){var _=K[L];v=_.x-j,h=_.x+j,g=_.y-j,y=_.y+j,rn(l,v,g,h,y)}}}else{var Z=e.source(),te=Z.position(),oe=e.target(),le=oe.position();if(v=te.x,h=le.x,g=te.y,y=le.y,v>h){var ce=v;v=h,h=ce}if(g>y){var ie=g;g=y,y=ie}v-=j,h+=j,g-=j,y+=j,rn(l,v,g,h,y)}if(o&&r.includeEdges&&f&&(yl(l,e,"mid-source"),yl(l,e,"mid-target"),yl(l,e,"source"),yl(l,e,"target")),o){var Q=e.pstyle("ghost").value==="yes";if(Q){var ue=e.pstyle("ghost-offset-x").pfValue,de=e.pstyle("ghost-offset-y").pfValue;rn(l,l.x1+ue,l.y1+de,l.x2+ue,l.y2+de)}}var Se=u.bodyBounds=u.bodyBounds||{};_h(Se,l),kl(Se,E),bl(Se,1),o&&(v=l.x1,h=l.x2,g=l.y1,y=l.y2,rn(l,v-O,g-O,h+O,y+O));var Ae=u.overlayBounds=u.overlayBounds||{};_h(Ae,l),kl(Ae,E),bl(Ae,1);var Ee=u.labelBounds=u.labelBounds||{};Ee.all!=null?Tw(Ee.all):Ee.all=Nr(),o&&r.includeLabels&&(r.includeMainLabels&&tf(l,e,null),f&&(r.includeSourceLabels&&tf(l,e,"source"),r.includeTargetLabels&&tf(l,e,"target")))}return l.x1=qr(l.x1),l.y1=qr(l.y1),l.x2=qr(l.x2),l.y2=qr(l.y2),l.w=qr(l.x2-l.x1),l.h=qr(l.y2-l.y1),l.w>0&&l.h>0&&k&&(kl(l,E),bl(l,1)),l},Wg=function(e){var r=0,a=function(l){return(l?1:0)<<r++},o=0;return o+=a(e.incudeNodes),o+=a(e.includeEdges),o+=a(e.includeLabels),o+=a(e.includeMainLabels),o+=a(e.includeSourceLabels),o+=a(e.includeTargetLabels),o+=a(e.includeOverlays),o+=a(e.includeOutlines),o},Kg=function(e){if(e.isEdge()){var r=e.source().position(),a=e.target().position(),o=function(l){return Math.round(l)};return K1([o(r.x),o(r.y),o(a.x),o(a.y)])}else return 0},up=function(e,r){var a=e._private,o,s=e.isEdge(),l=r==null?cp:Wg(r),u=l===cp,d=Kg(e),f=a.bbCachePosKey===d,v=r.useCache&&f,h=function(S){return S._private.bbCache==null||S._private.styleDirty},g=!v||h(e)||s&&(h(e.source())||h(e.target()));if(g?(f||e.recalculateRenderedStyle(v),o=sC(e,_o),a.bbCache=o,a.bbCachePosKey=d):o=a.bbCache,!u){var y=e.isNode();o=Nr(),(r.includeNodes&&y||r.includeEdges&&!y)&&(r.includeOverlays?Pa(o,a.overlayBounds):Pa(o,a.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!s||r.includeSourceLabels&&r.includeTargetLabels)?Pa(o,a.labelBounds.all):(r.includeMainLabels&&Pa(o,a.labelBounds.mainRot),r.includeSourceLabels&&Pa(o,a.labelBounds.sourceRot),r.includeTargetLabels&&Pa(o,a.labelBounds.targetRot))),o.w=o.x2-o.x1,o.h=o.y2-o.y1}return o},_o={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},cp=Wg(_o),fp=er(_o);da.boundingBox=function(t){var e;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(t===void 0||t.useCache===void 0||t.useCache===!0))t===void 0?t=_o:t=fp(t),e=up(this[0],t);else{e=Nr(),t=t||_o;var r=fp(t),a=this,o=a.cy(),s=o.styleEnabled();if(s)for(var l=0;l<a.length;l++){var u=a[l],d=u._private,f=Kg(u),v=d.bbCachePosKey===f,h=r.useCache&&v&&!d.styleDirty;u.recalculateRenderedStyle(h)}this.updateCompoundBounds(!t.useCache);for(var g=0;g<a.length;g++){var y=a[g];Pa(e,up(y,r))}}return e.x1=qr(e.x1),e.y1=qr(e.y1),e.x2=qr(e.x2),e.y2=qr(e.y2),e.w=qr(e.x2-e.x1),e.h=qr(e.y2-e.y1),e};da.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};da.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),a=r.hasCompoundNodes(),o=r.collection();if(a&&(o=e.filter(function(f){return f.isParent()}),e=e.not(o)),nt(t)){var s=t;t=function(){return s}}var l=function(v,h){return v._private.bbAtOldPos=t(v,h)},u=function(v){return v._private.bbAtOldPos};r.startBatch(),e.forEach(l).silentPositions(t),a&&(o.dirtyCompoundBoundsCache(),o.dirtyBoundingBoxCache(),o.updateCompoundBounds(!0));var d=kw(this.boundingBox({useCache:!1}));return e.silentPositions(u),a&&(o.dirtyCompoundBoundsCache(),o.dirtyBoundingBoxCache(),o.updateCompoundBounds(!0)),r.endBatch(),d};Ci.boundingbox=Ci.bb=Ci.boundingBox;Ci.renderedBoundingbox=Ci.renderedBoundingBox;var lC=da,No,Go;No=Go={};var Gg=function(e){e.uppercaseName=Mh(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=Mh(e.outerName),No[e.name]=function(){var a=this[0],o=a._private,s=o.cy,l=s._private.styleEnabled;if(a)if(l){if(a.isParent())return a.updateCompoundBounds(),o[e.autoName]||0;var u=a.pstyle(e.name);switch(u.strValue){case"label":return a.recalculateRenderedStyle(),o.rstyle[e.labelName]||0;default:return u.pfValue}}else return 1},No["outer"+e.uppercaseName]=function(){var a=this[0],o=a._private,s=o.cy,l=s._private.styleEnabled;if(a)if(l){var u=a[e.name](),d=a.pstyle("border-width").pfValue,f=2*a.padding();return u+d+f}else return 1},No["rendered"+e.uppercaseName]=function(){var a=this[0];if(a){var o=a[e.name]();return o*this.cy().zoom()}},No["rendered"+e.uppercaseOuterName]=function(){var a=this[0];if(a){var o=a[e.outerName]();return o*this.cy().zoom()}}};Gg({name:"width"});Gg({name:"height"});Go.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};Go.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};Go.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var uC=Go,cC=function(e,r){if(e.isEdge())return r(e)},fC=function(e,r){if(e.isEdge()){var a=e.cy();return Yl(r(e),a.zoom(),a.pan())}},dC=function(e,r){if(e.isEdge()){var a=e.cy(),o=a.pan(),s=a.zoom();return r(e).map(function(l){return Yl(l,s,o)})}},vC=function(e){return e.renderer().getControlPoints(e)},hC=function(e){return e.renderer().getSegmentPoints(e)},pC=function(e){return e.renderer().getSourceEndpoint(e)},gC=function(e){return e.renderer().getTargetEndpoint(e)},mC=function(e){return e.renderer().getEdgeMidpoint(e)},dp={controlPoints:{get:vC,mult:!0},segmentPoints:{get:hC,mult:!0},sourceEndpoint:{get:pC},targetEndpoint:{get:gC},midpoint:{get:mC}},yC=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},wC=Object.keys(dp).reduce(function(t,e){var r=dp[e],a=yC(e);return t[e]=function(){return cC(this,r.get)},r.mult?t[a]=function(){return dC(this,r.get)}:t[a]=function(){return fC(this,r.get)},t},{}),xC=Ue({},iC,lC,uC,wC);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var Yg=function(e,r){this.recycle(e,r)};function bo(){return!1}function wl(){return!0}Yg.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=bo,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?wl:bo):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var a=this.position,o=this.cy.zoom(),s=this.cy.pan();this.renderedPosition={x:a.x*o+s.x,y:a.y*o+s.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=wl;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=wl;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=wl,this.stopPropagation()},isDefaultPrevented:bo,isPropagationStopped:bo,isImmediatePropagationStopped:bo};var Qg=/^([^.]+)(\.(?:[^.]+))?$/,EC=".*",Xg={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},vp=Object.keys(Xg),SC={};function tu(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:SC,e=arguments.length>1?arguments[1]:void 0,r=0;r<vp.length;r++){var a=vp[r];this[a]=t[a]||Xg[a]}this.context=e||this.context,this.listeners=[],this.emitting=0}var ca=tu.prototype,Zg=function(e,r,a,o,s,l,u){Tt(o)&&(s=o,o=null),u&&(l==null?l=u:l=Ue({},l,u));for(var d=ht(a)?a:a.split(/\s+/),f=0;f<d.length;f++){var v=d[f];if(!oa(v)){var h=v.match(Qg);if(h){var g=h[1],y=h[2]?h[2]:null,m=r(e,v,g,y,o,s,l);if(m===!1)break}}}},hp=function(e,r){return e.addEventFields(e.context,r),new Yg(r.type,r)},CC=function(e,r,a){if(U0(a)){r(e,a);return}else if(nt(a)){r(e,hp(e,a));return}for(var o=ht(a)?a:a.split(/\s+/),s=0;s<o.length;s++){var l=o[s];if(!oa(l)){var u=l.match(Qg);if(u){var d=u[1],f=u[2]?u[2]:null,v=hp(e,{type:d,namespace:f,target:e.context});r(e,v)}}}};ca.on=ca.addListener=function(t,e,r,a,o){return Zg(this,function(s,l,u,d,f,v,h){Tt(v)&&s.listeners.push({event:l,callback:v,type:u,namespace:d,qualifier:f,conf:h})},t,e,r,a,o),this};ca.one=function(t,e,r,a){return this.on(t,e,r,a,{one:!0})};ca.removeListener=ca.off=function(t,e,r,a){var o=this;this.emitting!==0&&(this.listeners=Z1(this.listeners));for(var s=this.listeners,l=function(f){var v=s[f];Zg(o,function(h,g,y,m,S,x){if((v.type===y||t==="*")&&(!m&&v.namespace!==".*"||v.namespace===m)&&(!S||h.qualifierCompare(v.qualifier,S))&&(!x||v.callback===x))return s.splice(f,1),!1},t,e,r,a)},u=s.length-1;u>=0;u--)l(u);return this};ca.removeAllListeners=function(){return this.removeListener("*")};ca.emit=ca.trigger=function(t,e,r){var a=this.listeners,o=a.length;return this.emitting++,ht(e)||(e=[e]),CC(this,function(s,l){r!=null&&(a=[{event:l.event,type:l.type,namespace:l.namespace,callback:r}],o=a.length);for(var u=function(v){var h=a[v];if(h.type===l.type&&(!h.namespace||h.namespace===l.namespace||h.namespace===EC)&&s.eventMatches(s.context,h,l)){var g=[l];e!=null&&ew(g,e),s.beforeEmit(s.context,h,l),h.conf&&h.conf.one&&(s.listeners=s.listeners.filter(function(S){return S!==h}));var y=s.callbackContext(s.context,h,l),m=h.callback.apply(y,g);s.afterEmit(s.context,h,l),m===!1&&(l.stopPropagation(),l.preventDefault())}},d=0;d<o;d++)u(d);s.bubble(s.context)&&!l.isPropagationStopped()&&s.parent(s.context).emit(l,e)},t),this.emitting--,this};var bC={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,a){var o=r.qualifier;return o!=null?e!==a.target&&qo(a.target)&&o.matches(a.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,a){return r.qualifier!=null?a.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},xl=function(e){return Fe(e)?new la(e):e},Jg={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],a=r._private;a.emitter||(a.emitter=new tu(bC,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,a){for(var o=xl(r),s=0;s<this.length;s++){var l=this[s];l.emitter().on(e,o,a)}return this},removeListener:function(e,r,a){for(var o=xl(r),s=0;s<this.length;s++){var l=this[s];l.emitter().removeListener(e,o,a)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,a){for(var o=xl(r),s=0;s<this.length;s++){var l=this[s];l.emitter().one(e,o,a)}return this},once:function(e,r,a){for(var o=xl(r),s=0;s<this.length;s++){var l=this[s];l.emitter().on(e,o,a,{once:!0,onceCollection:this})}},emit:function(e,r){for(var a=0;a<this.length;a++){var o=this[a];o.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};ct.eventAliasesOn(Jg);var em={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),a=0;a<this.length;a++){var o=this[a];o.isNode()?e.push(o):r.push(o)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(Fe(e)||Mr(e))return new la(e).filter(this);if(Tt(e)){for(var a=this.spawn(),o=this,s=0;s<o.length;s++){var l=o[s],u=r?e.apply(r,[l,s,o]):e(l,s,o);u&&a.push(l)}return a}return this.spawn()},not:function(e){if(e){Fe(e)&&(e=this.filter(e));for(var r=this.spawn(),a=0;a<this.length;a++){var o=this[a],s=e.has(o);s||r.push(o)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(Fe(e)){var r=e;return this.filter(r)}for(var a=this.spawn(),o=this,s=e,l=this.length<e.length,u=l?o:s,d=l?s:o,f=0;f<u.length;f++){var v=u[f];d.has(v)&&a.push(v)}return a},xor:function(e){var r=this._private.cy;Fe(e)&&(e=r.$(e));var a=this.spawn(),o=this,s=e,l=function(d,f){for(var v=0;v<d.length;v++){var h=d[v],g=h._private.data.id,y=f.hasElementWithId(g);y||a.push(h)}};return l(o,s),l(s,o),a},diff:function(e){var r=this._private.cy;Fe(e)&&(e=r.$(e));var a=this.spawn(),o=this.spawn(),s=this.spawn(),l=this,u=e,d=function(v,h,g){for(var y=0;y<v.length;y++){var m=v[y],S=m._private.data.id,x=h.hasElementWithId(S);x?s.merge(m):g.push(m)}};return d(l,u,a),d(u,l,o),{left:a,right:o,both:s}},add:function(e){var r=this._private.cy;if(!e)return this;if(Fe(e)){var a=e;e=r.mutableElements().filter(a)}for(var o=this.spawnSelf(),s=0;s<e.length;s++){var l=e[s],u=!this.has(l);u&&o.push(l)}return o},merge:function(e){var r=this._private,a=r.cy;if(!e)return this;if(e&&Fe(e)){var o=e;e=a.mutableElements().filter(o)}for(var s=r.map,l=0;l<e.length;l++){var u=e[l],d=u._private.data.id,f=!s.has(d);if(f){var v=this.length++;this[v]=u,s.set(d,{ele:u,index:v})}}return this},unmergeAt:function(e){var r=this[e],a=r.id(),o=this._private,s=o.map;this[e]=void 0,s.delete(a);var l=e===this.length-1;if(this.length>1&&!l){var u=this.length-1,d=this[u],f=d._private.data.id;this[u]=void 0,this[e]=d,s.set(f,{ele:d,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,a=e._private.data.id,o=r.map,s=o.get(a);if(!s)return this;var l=s.index;return this.unmergeAt(l),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&Fe(e)){var a=e;e=r.mutableElements().filter(a)}for(var o=0;o<e.length;o++)this.unmergeOne(e[o]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var a=this[r];e(a)&&this.unmergeAt(r)}return this},map:function(e,r){for(var a=[],o=this,s=0;s<o.length;s++){var l=o[s],u=r?e.apply(r,[l,s,o]):e(l,s,o);a.push(u)}return a},reduce:function(e,r){for(var a=r,o=this,s=0;s<o.length;s++)a=e(a,o[s],s,o);return a},max:function(e,r){for(var a=-1/0,o,s=this,l=0;l<s.length;l++){var u=s[l],d=r?e.apply(r,[u,l,s]):e(u,l,s);d>a&&(a=d,o=u)}return{value:a,ele:o}},min:function(e,r){for(var a=1/0,o,s=this,l=0;l<s.length;l++){var u=s[l],d=r?e.apply(r,[u,l,s]):e(u,l,s);d<a&&(a=d,o=u)}return{value:a,ele:o}}},st=em;st.u=st["|"]=st["+"]=st.union=st.or=st.add;st["\\"]=st["!"]=st["-"]=st.difference=st.relativeComplement=st.subtract=st.not;st.n=st["&"]=st["."]=st.and=st.intersection=st.intersect;st["^"]=st["(+)"]=st["(-)"]=st.symmetricDifference=st.symdiff=st.xor;st.fnFilter=st.filterFn=st.stdFilter=st.filter;st.complement=st.abscomp=st.absoluteComplement;var kC={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},tm=function(e,r){var a=e.cy(),o=a.hasCompoundNodes();function s(v){var h=v.pstyle("z-compound-depth");return h.value==="auto"?o?v.zDepth():0:h.value==="bottom"?-1:h.value==="top"?Mf:0}var l=s(e)-s(r);if(l!==0)return l;function u(v){var h=v.pstyle("z-index-compare");return h.value==="auto"&&v.isNode()?1:0}var d=u(e)-u(r);if(d!==0)return d;var f=e.pstyle("z-index").value-r.pstyle("z-index").value;return f!==0?f:e.poolIndex()-r.poolIndex()},Vl={forEach:function(e,r){if(Tt(e))for(var a=this.length,o=0;o<a;o++){var s=this[o],l=r?e.apply(r,[s,o,this]):e(s,o,this);if(l===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var a=[],o=this.length;r==null&&(r=o),e==null&&(e=0),e<0&&(e=o+e),r<0&&(r=o+r);for(var s=e;s>=0&&s<r&&s<o;s++)a.push(this[s]);return this.spawn(a)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!Tt(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(tm)},zDepth:function(){var e=this[0];if(e){var r=e._private,a=r.group;if(a==="nodes"){var o=r.data.parent?e.parents().size():0;return e.isParent()?o:Mf-1}else{var s=r.source,l=r.target,u=s.zDepth(),d=l.zDepth();return Math.max(u,d,0)}}}};Vl.each=Vl.forEach;var TC=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":_t(Symbol))!=e&&_t(Symbol.iterator)!=e;r&&(Vl[Symbol.iterator]=function(){var a=this,o={value:void 0,done:!1},s=0,l=this.length;return Xp({next:function(){return s<l?o.value=a[s++]:(o.value=void 0,o.done=!0),o}},Symbol.iterator,function(){return this})})};TC();var DC=er({nodeDimensionsIncludeLabels:!1}),Dl={layoutDimensions:function(e){e=DC(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var a=this.boundingBox();r={w:a.w,h:a.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,a){var o=this.nodes().filter(function(B){return!B.isParent()}),s=this.cy(),l=r.eles,u=function(N){return N.id()},d=Io(a,u);e.emit({type:"layoutstart",layout:e}),e.animations=[];var f=function(N,T,O){var I={x:T.x1+T.w/2,y:T.y1+T.h/2},j={x:(O.x-I.x)*N,y:(O.y-I.y)*N};return{x:I.x+j.x,y:I.y+j.y}},v=r.spacingFactor&&r.spacingFactor!==1,h=function(){if(!v)return null;for(var N=Nr(),T=0;T<o.length;T++){var O=o[T],I=d(O,T);Pw(N,I.x,I.y)}return N},g=h(),y=Io(function(B,N){var T=d(B,N);if(v){var O=Math.abs(r.spacingFactor);T=f(O,g,T)}return r.transform!=null&&(T=r.transform(B,T)),T},u);if(r.animate){for(var m=0;m<o.length;m++){var S=o[m],x=y(S,m),E=r.animateFilter==null||r.animateFilter(S,m);if(E){var b=S.animation({position:x,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(b)}else S.position(x)}if(r.fit){var k=s.animation({fit:{boundingBox:l.boundingBoxAt(y),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(k)}else if(r.zoom!==void 0&&r.pan!==void 0){var D=s.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(D)}e.animations.forEach(function(B){return B.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),Ni.all(e.animations.map(function(B){return B.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else o.positions(y),r.fit&&s.fit(r.eles,r.padding),r.zoom!=null&&s.zoom(r.zoom),r.pan&&s.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout(Ue({},e,{eles:this}))}};Dl.createLayout=Dl.makeLayout=Dl.layout;function rm(t,e,r){var a=r._private,o=a.styleCache=a.styleCache||[],s;return(s=o[t])!=null||(s=o[t]=e(r)),s}function ru(t,e){return t=Ia(t),function(a){return rm(t,e,a)}}function nu(t,e){t=Ia(t);var r=function(o){return e.call(o)};return function(){var o=this[0];if(o)return rm(t,r,o)}}var Zt={recalculateRenderedStyle:function(e){var r=this.cy(),a=r.renderer(),o=r.styleEnabled();return a&&o&&a.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(s){return s._private.styleCache=null};if(e.hasCompoundNodes()){var a;a=this.spawnSelf().merge(this.descendants()).merge(this.parents()),a.merge(a.connectedEdges()),a.forEach(r)}else this.forEach(function(o){r(o),o.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var a=r._private.batchStyleEles;return a.merge(this),this}var o=r.hasCompoundNodes(),s=this;e=!!(e||e===void 0),o&&(s=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var l=s;return e?l.emitAndNotify("style"):l.emit("style"),s.forEach(function(u){return u._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var a=this[r];a._private.styleDirty&&(a._private.styleDirty=!1,e.style().apply(a))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=this[0],o=a.cy();if(o.styleEnabled()&&a){this.cleanStyle();var s=a._private.style[e];return s??(r?o.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var a=r.pstyle(e);return a.pfValue!==void 0?a.pfValue:a.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var a=this[0];if(a)return r.style().getRenderedStyle(a,e)},style:function(e,r){var a=this.cy();if(!a.styleEnabled())return this;var o=!1,s=a.style();if(nt(e)){var l=e;s.applyBypass(this,l,o),this.emitAndNotify("style")}else if(Fe(e))if(r===void 0){var u=this[0];return u?s.getStylePropertyValue(u,e):void 0}else s.applyBypass(this,e,r,o),this.emitAndNotify("style");else if(e===void 0){var d=this[0];return d?s.getRawStyle(d):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var a=!1,o=r.style(),s=this;if(e===void 0)for(var l=0;l<s.length;l++){var u=s[l];o.removeAllBypasses(u,a)}else{e=e.split(/\s+/);for(var d=0;d<s.length;d++){var f=s[d];o.removeBypasses(f,e,a)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),a=this[0];if(a){var o=a._private,s=a.pstyle("opacity").value;if(!r)return s;var l=o.data.parent?a.parents():null;if(l)for(var u=0;u<l.length;u++){var d=l[u],f=d.pstyle("opacity").value;s=f*s}return s}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],a=r.cy().hasCompoundNodes();if(r)return a?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function rf(t,e){var r=t._private,a=r.data.parent?t.parents():null;if(a)for(var o=0;o<a.length;o++){var s=a[o];if(!e(s))return!1}return!0}function Wf(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,a=t.parentOk||t.ok;return function(){var o=this.cy();if(!o.styleEnabled())return!0;var s=this[0],l=o.hasCompoundNodes();if(s){var u=s._private;if(!e(s))return!1;if(s.isNode())return!l||rf(s,a);var d=u.source,f=u.target;return r(d)&&(!l||rf(d,r))&&(d===f||r(f)&&(!l||rf(f,r)))}}}var Ii=ru("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});Zt.takesUpSpace=nu("takesUpSpace",Wf({ok:Ii}));var PC=ru("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&Ii(t)}),NC=ru("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&Ii(t)});Zt.interactive=nu("interactive",Wf({ok:PC,parentOk:NC,edgeOkViaNode:Ii}));Zt.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var LC=ru("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&Ii(t)}),RC=Ii;Zt.visible=nu("visible",Wf({ok:LC,edgeOkViaNode:RC}));Zt.hidden=function(){var t=this[0];if(t)return!t.visible()};Zt.isBundledBezier=nu("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Zt.bypass=Zt.css=Zt.style;Zt.renderedCss=Zt.renderedStyle;Zt.removeBypass=Zt.removeCss=Zt.removeStyle;Zt.pstyle=Zt.parsedStyle;var ia={};function pp(t){return function(){var e=arguments,r=[];if(e.length===2){var a=e[0],o=e[1];this.on(t.event,a,o)}else if(e.length===1&&Tt(e[0])){var s=e[0];this.on(t.event,s)}else if(e.length===0||e.length===1&&ht(e[0])){for(var l=e.length===1?e[0]:null,u=0;u<this.length;u++){var d=this[u],f=!t.ableField||d._private[t.ableField],v=d._private[t.field]!=t.value;if(t.overrideAble){var h=t.overrideAble(d);if(h!==void 0&&(f=h,!h))return this}f&&(d._private[t.field]=t.value,v&&r.push(d))}var g=this.spawn(r);g.updateStyle(),g.emit(t.event),l&&g.emit(l)}return this}}function Mi(t){ia[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},ia[t.on]=pp({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),ia[t.off]=pp({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}Mi({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});Mi({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});Mi({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});Mi({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});ia.deselect=ia.unselect;ia.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};Mi({field:"active",on:"activate",off:"unactivate"});Mi({field:"pannable",on:"panify",off:"unpanify"});ia.inactive=function(){var t=this[0];if(t)return!t._private.active};var vr={},gp=function(e){return function(a){for(var o=this,s=[],l=0;l<o.length;l++){var u=o[l];if(u.isNode()){for(var d=!1,f=u.connectedEdges(),v=0;v<f.length;v++){var h=f[v],g=h.source(),y=h.target();if(e.noIncomingEdges&&y===u&&g!==u||e.noOutgoingEdges&&g===u&&y!==u){d=!0;break}}d||s.push(u)}}return this.spawn(s,!0).filter(a)}},mp=function(e){return function(r){for(var a=this,o=[],s=0;s<a.length;s++){var l=a[s];if(l.isNode())for(var u=l.connectedEdges(),d=0;d<u.length;d++){var f=u[d],v=f.source(),h=f.target();e.outgoing&&v===l?(o.push(f),o.push(h)):e.incoming&&h===l&&(o.push(f),o.push(v))}}return this.spawn(o,!0).filter(r)}},yp=function(e){return function(r){for(var a=this,o=[],s={};;){var l=e.outgoing?a.outgoers():a.incomers();if(l.length===0)break;for(var u=!1,d=0;d<l.length;d++){var f=l[d],v=f.id();s[v]||(s[v]=!0,o.push(f),u=!0)}if(!u)break;a=l}return this.spawn(o,!0).filter(r)}};vr.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};Ue(vr,{roots:gp({noIncomingEdges:!0}),leaves:gp({noOutgoingEdges:!0}),outgoers:Wr(mp({outgoing:!0}),"outgoers"),successors:yp({outgoing:!0}),incomers:Wr(mp({incoming:!0}),"incomers"),predecessors:yp({incoming:!0})});Ue(vr,{neighborhood:Wr(function(t){for(var e=[],r=this.nodes(),a=0;a<r.length;a++)for(var o=r[a],s=o.connectedEdges(),l=0;l<s.length;l++){var u=s[l],d=u.source(),f=u.target(),v=o===d?f:d;v.length>0&&e.push(v[0]),e.push(u[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});vr.neighbourhood=vr.neighborhood;vr.closedNeighbourhood=vr.closedNeighborhood;vr.openNeighbourhood=vr.openNeighborhood;Ue(vr,{source:Wr(function(e){var r=this[0],a;return r&&(a=r._private.source||r.cy().collection()),a&&e?a.filter(e):a},"source"),target:Wr(function(e){var r=this[0],a;return r&&(a=r._private.target||r.cy().collection()),a&&e?a.filter(e):a},"target"),sources:wp({attr:"source"}),targets:wp({attr:"target"})});function wp(t){return function(r){for(var a=[],o=0;o<this.length;o++){var s=this[o],l=s._private[t.attr];l&&a.push(l)}return this.spawn(a,!0).filter(r)}}Ue(vr,{edgesWith:Wr(xp(),"edgesWith"),edgesTo:Wr(xp({thisIsSrc:!0}),"edgesTo")});function xp(t){return function(r){var a=[],o=this._private.cy,s=t||{};Fe(r)&&(r=o.$(r));for(var l=0;l<r.length;l++)for(var u=r[l]._private.edges,d=0;d<u.length;d++){var f=u[d],v=f._private.data,h=this.hasElementWithId(v.source)&&r.hasElementWithId(v.target),g=r.hasElementWithId(v.source)&&this.hasElementWithId(v.target),y=h||g;y&&((s.thisIsSrc||s.thisIsTgt)&&(s.thisIsSrc&&!h||s.thisIsTgt&&!g)||a.push(f))}return this.spawn(a,!0)}}Ue(vr,{connectedEdges:Wr(function(t){for(var e=[],r=this,a=0;a<r.length;a++){var o=r[a];if(o.isNode())for(var s=o._private.edges,l=0;l<s.length;l++){var u=s[l];e.push(u)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:Wr(function(t){for(var e=[],r=this,a=0;a<r.length;a++){var o=r[a];o.isEdge()&&(e.push(o.source()[0]),e.push(o.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:Wr(Ep(),"parallelEdges"),codirectedEdges:Wr(Ep({codirected:!0}),"codirectedEdges")});function Ep(t){var e={codirected:!1};return t=Ue({},e,t),function(a){for(var o=[],s=this.edges(),l=t,u=0;u<s.length;u++)for(var d=s[u],f=d._private,v=f.source,h=v._private.data.id,g=f.data.target,y=v._private.edges,m=0;m<y.length;m++){var S=y[m],x=S._private.data,E=x.target,b=x.source,k=E===g&&b===h,D=h===E&&g===b;(l.codirected&&k||!l.codirected&&(k||D))&&o.push(S)}return this.spawn(o,!0).filter(a)}}Ue(vr,{components:function(e){var r=this,a=r.cy(),o=a.collection(),s=e==null?r.nodes():e.nodes(),l=[];e!=null&&s.empty()&&(s=e.sources());var u=function(v,h){o.merge(v),s.unmerge(v),h.merge(v)};if(s.empty())return r.spawn();var d=function(){var v=a.collection();l.push(v);var h=s[0];u(h,v),r.bfs({directed:!1,roots:h,visit:function(y){return u(y,v)}}),v.forEach(function(g){g.connectedEdges().forEach(function(y){r.has(y)&&v.has(y.source())&&v.has(y.target())&&v.merge(y)})})};do d();while(s.length>0);return l},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});vr.componentsOf=vr.components;var Jt=function(e,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){Nt("A collection must have a reference to the core");return}var s=new vn,l=!1;if(!r)r=[];else if(r.length>0&&nt(r[0])&&!qo(r[0])){l=!0;for(var u=[],d=new Pi,f=0,v=r.length;f<v;f++){var h=r[f];h.data==null&&(h.data={});var g=h.data;if(g.id==null)g.id=pg();else if(e.hasElementWithId(g.id)||d.has(g.id))continue;var y=new Gl(e,h,!1);u.push(y),d.add(g.id)}r=u}this.length=0;for(var m=0,S=r.length;m<S;m++){var x=r[m][0];if(x!=null){var E=x._private.data.id;(!a||!s.has(E))&&(a&&s.set(E,{index:this.length,ele:x}),this[this.length]=x,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(b){this.lazyMap=b},rebuildMap:function(){for(var k=this.lazyMap=new vn,D=this.eles,B=0;B<D.length;B++){var N=D[B];k.set(N.id(),{index:B,ele:N})}}},a&&(this._private.map=s),l&&!o&&this.restore()},mt=Gl.prototype=Jt.prototype=Object.create(Array.prototype);mt.instanceString=function(){return"collection"};mt.spawn=function(t,e){return new Jt(this.cy(),t,e)};mt.spawnSelf=function(){return this.spawn(this)};mt.cy=function(){return this._private.cy};mt.renderer=function(){return this._private.cy.renderer()};mt.element=function(){return this[0]};mt.collection=function(){return tg(this)?this:new Jt(this._private.cy,[this])};mt.unique=function(){return new Jt(this._private.cy,this,!0)};mt.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};mt.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new Jt(e)};mt.$id=mt.getElementById;mt.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};mt.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};mt.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};mt.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var a=e._private;if(nt(t)){if(r.startBatch(),t.data){e.data(t.data);var o=a.data;if(e.isEdge()){var s=!1,l={},u=t.data.source,d=t.data.target;u!=null&&u!=o.source&&(l.source=""+u,s=!0),d!=null&&d!=o.target&&(l.target=""+d,s=!0),s&&(e=e.move(l))}else{var f="parent"in t.data,v=t.data.parent;f&&(v!=null||o.parent!=null)&&v!=o.parent&&(v===void 0&&(v=null),v!=null&&(v=""+v),e=e.move({parent:v}))}}t.position&&e.position(t.position);var h=function(S,x,E){var b=t[S];b!=null&&b!==a[S]&&(b?e[x]():e[E]())};return h("removed","remove","restore"),h("selected","select","unselect"),h("selectable","selectify","unselectify"),h("locked","lock","unlock"),h("grabbable","grabify","ungrabify"),h("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var g={data:dn(a.data),position:dn(a.position),group:a.group,removed:a.removed,selected:a.selected,selectable:a.selectable,locked:a.locked,grabbable:a.grabbable,pannable:a.pannable,classes:null};g.classes="";var y=0;return a.classes.forEach(function(m){return g.classes+=y++===0?m:" "+m}),g}}};mt.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],a=r.json();t.push(a)}return t};mt.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var a=this[r],o=a.json(),s=new Gl(t,o,!1);e.push(s)}return new Jt(t,e)};mt.copy=mt.clone;mt.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,a=r.cy(),o=a._private,s=[],l=[],u,d=0,f=r.length;d<f;d++){var v=r[d];e&&!v.removed()||(v.isNode()?s.push(v):l.push(v))}u=s.concat(l);var h,g=function(){u.splice(h,1),h--};for(h=0;h<u.length;h++){var y=u[h],m=y._private,S=m.data;if(y.clearTraversalCache(),!(!e&&!m.removed)){if(S.id===void 0)S.id=pg();else if(be(S.id))S.id=""+S.id;else if(oa(S.id)||!Fe(S.id)){Nt("Can not create element with invalid string ID `"+S.id+"`"),g();continue}else if(a.hasElementWithId(S.id)){Nt("Can not create second element with ID `"+S.id+"`"),g();continue}}var x=S.id;if(y.isNode()){var E=m.position;E.x==null&&(E.x=0),E.y==null&&(E.y=0)}if(y.isEdge()){for(var b=y,k=["source","target"],D=k.length,B=!1,N=0;N<D;N++){var T=k[N],O=S[T];be(O)&&(O=S[T]=""+S[T]),O==null||O===""?(Nt("Can not create edge `"+x+"` with unspecified "+T),B=!0):a.hasElementWithId(O)||(Nt("Can not create edge `"+x+"` with nonexistant "+T+" `"+O+"`"),B=!0)}if(B){g();continue}var I=a.getElementById(S.source),j=a.getElementById(S.target);I.same(j)?I._private.edges.push(b):(I._private.edges.push(b),j._private.edges.push(b)),b._private.source=I,b._private.target=j}m.map=new vn,m.map.set(x,{ele:y,index:0}),m.removed=!1,e&&a.addToPool(y)}for(var M=0;M<s.length;M++){var A=s[M],F=A._private.data;be(F.parent)&&(F.parent=""+F.parent);var z=F.parent,$=z!=null;if($||A._private.parent){var H=A._private.parent?a.collection().merge(A._private.parent):a.getElementById(z);if(H.empty())F.parent=void 0;else if(H[0].removed())ft("Node added with missing parent, reference to parent removed"),F.parent=void 0,A._private.parent=null;else{for(var W=!1,U=H;!U.empty();){if(A.same(U)){W=!0,F.parent=void 0;break}U=U.parent()}W||(H[0]._private.children.push(A),A._private.parent=H[0],o.hasCompoundNodes=!0)}}}if(u.length>0){for(var G=u.length===r.length?r:new Jt(a,u),K=0;K<G.length;K++){var L=G[K];L.isNode()||(L.parallelEdges().clearTraversalCache(),L.source().clearTraversalCache(),L.target().clearTraversalCache())}var _;o.hasCompoundNodes?_=a.collection().merge(G).merge(G.connectedNodes()).merge(G.parent()):_=G,_.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?G.emitAndNotify("add"):e&&G.emit("add")}return r};mt.removed=function(){var t=this[0];return t&&t._private.removed};mt.inside=function(){var t=this[0];return t&&!t._private.removed};mt.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,a=[],o={},s=r._private.cy;function l(z){for(var $=z._private.edges,H=0;H<$.length;H++)d($[H])}function u(z){for(var $=z._private.children,H=0;H<$.length;H++)d($[H])}function d(z){var $=o[z.id()];e&&z.removed()||$||(o[z.id()]=!0,z.isNode()?(a.push(z),l(z),u(z)):a.unshift(z))}for(var f=0,v=r.length;f<v;f++){var h=r[f];d(h)}function g(z,$){var H=z._private.edges;sa(H,$),z.clearTraversalCache()}function y(z){z.clearTraversalCache()}var m=[];m.ids={};function S(z,$){$=$[0],z=z[0];var H=z._private.children,W=z.id();sa(H,$),$._private.parent=null,m.ids[W]||(m.ids[W]=!0,m.push(z))}r.dirtyCompoundBoundsCache(),e&&s.removeFromPool(a);for(var x=0;x<a.length;x++){var E=a[x];if(E.isEdge()){var b=E.source()[0],k=E.target()[0];g(b,E),g(k,E);for(var D=E.parallelEdges(),B=0;B<D.length;B++){var N=D[B];y(N),N.isBundledBezier()&&N.dirtyBoundingBoxCache()}}else{var T=E.parent();T.length!==0&&S(T,E)}e&&(E._private.removed=!0)}var O=s._private.elements;s._private.hasCompoundNodes=!1;for(var I=0;I<O.length;I++){var j=O[I];if(j.isParent()){s._private.hasCompoundNodes=!0;break}}var M=new Jt(this.cy(),a);M.size()>0&&(t?M.emitAndNotify("remove"):e&&M.emit("remove"));for(var A=0;A<m.length;A++){var F=m[A];(!e||!F.removed())&&F.updateStyle()}return M};mt.move=function(t){var e=this._private.cy,r=this,a=!1,o=!1,s=function(m){return m==null?m:""+m};if(t.source!==void 0||t.target!==void 0){var l=s(t.source),u=s(t.target),d=l!=null&&e.hasElementWithId(l),f=u!=null&&e.hasElementWithId(u);(d||f)&&(e.batch(function(){r.remove(a,o),r.emitAndNotify("moveout");for(var y=0;y<r.length;y++){var m=r[y],S=m._private.data;m.isEdge()&&(d&&(S.source=l),f&&(S.target=u))}r.restore(a,o)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var v=s(t.parent),h=v===null||e.hasElementWithId(v);if(h){var g=v===null?void 0:v;e.batch(function(){var y=r.remove(a,o);y.emitAndNotify("moveout");for(var m=0;m<r.length;m++){var S=r[m],x=S._private.data;S.isNode()&&(x.parent=g)}y.restore(a,o)}),r.emitAndNotify("move")}}return this};[Pg,$S,Tl,aa,Di,aC,eu,xC,Jg,em,kC,Vl,Dl,Zt,ia,vr].forEach(function(t){Ue(mt,t)});var BC={add:function(e){var r,a=this;if(Mr(e)){var o=e;if(o._private.cy===a)r=o.restore();else{for(var s=[],l=0;l<o.length;l++){var u=o[l];s.push(u.json())}r=new Jt(a,s)}}else if(ht(e)){var d=e;r=new Jt(a,d)}else if(nt(e)&&(ht(e.nodes)||ht(e.edges))){for(var f=e,v=[],h=["nodes","edges"],g=0,y=h.length;g<y;g++){var m=h[g],S=f[m];if(ht(S))for(var x=0,E=S.length;x<E;x++){var b=Ue({group:m},S[x]);v.push(b)}}r=new Jt(a,v)}else{var k=e;r=new Gl(a,k).collection()}return r},remove:function(e){if(!Mr(e)){if(Fe(e)){var r=e;e=this.$(r)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function IC(t,e,r,a){var o=4,s=.001,l=1e-7,u=10,d=11,f=1/(d-1),v=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var h=0;h<4;++h)if(typeof arguments[h]!="number"||isNaN(arguments[h])||!isFinite(arguments[h]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var g=v?new Float32Array(d):new Array(d);function y(j,M){return 1-3*M+3*j}function m(j,M){return 3*M-6*j}function S(j){return 3*j}function x(j,M,A){return((y(M,A)*j+m(M,A))*j+S(M))*j}function E(j,M,A){return 3*y(M,A)*j*j+2*m(M,A)*j+S(M)}function b(j,M){for(var A=0;A<o;++A){var F=E(M,t,r);if(F===0)return M;var z=x(M,t,r)-j;M-=z/F}return M}function k(){for(var j=0;j<d;++j)g[j]=x(j*f,t,r)}function D(j,M,A){var F,z,$=0;do z=M+(A-M)/2,F=x(z,t,r)-j,F>0?A=z:M=z;while(Math.abs(F)>l&&++$<u);return z}function B(j){for(var M=0,A=1,F=d-1;A!==F&&g[A]<=j;++A)M+=f;--A;var z=(j-g[A])/(g[A+1]-g[A]),$=M+z*f,H=E($,t,r);return H>=s?b(j,$):H===0?$:D(j,M,M+f)}var N=!1;function T(){N=!0,(t!==e||r!==a)&&k()}var O=function(M){return N||T(),t===e&&r===a?M:M===0?0:M===1?1:x(B(M),e,a)};O.getControlPoints=function(){return[{x:t,y:e},{x:r,y:a}]};var I="generateBezier("+[t,e,r,a]+")";return O.toString=function(){return I},O}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var MC=function(){function t(a){return-a.tension*a.x-a.friction*a.v}function e(a,o,s){var l={x:a.x+s.dx*o,v:a.v+s.dv*o,tension:a.tension,friction:a.friction};return{dx:l.v,dv:t(l)}}function r(a,o){var s={dx:a.v,dv:t(a)},l=e(a,o*.5,s),u=e(a,o*.5,l),d=e(a,o,u),f=1/6*(s.dx+2*(l.dx+u.dx)+d.dx),v=1/6*(s.dv+2*(l.dv+u.dv)+d.dv);return a.x=a.x+f*o,a.v=a.v+v*o,a}return function a(o,s,l){var u={x:-1,v:0,tension:null,friction:null},d=[0],f=0,v=1/1e4,h=16/1e3,g,y,m;for(o=parseFloat(o)||500,s=parseFloat(s)||20,l=l||null,u.tension=o,u.friction=s,g=l!==null,g?(f=a(o,s),y=f/l*h):y=h;m=r(m||u,y),d.push(1+m.x),f+=16,Math.abs(m.x)>v&&Math.abs(m.v)>v;);return g?function(S){return d[S*(d.length-1)|0]}:f}}(),gt=function(e,r,a,o){var s=IC(e,r,a,o);return function(l,u,d){return l+(u-l)*s(d)}},Pl={linear:function(e,r,a){return e+(r-e)*a},ease:gt(.25,.1,.25,1),"ease-in":gt(.42,0,1,1),"ease-out":gt(0,0,.58,1),"ease-in-out":gt(.42,0,.58,1),"ease-in-sine":gt(.47,0,.745,.715),"ease-out-sine":gt(.39,.575,.565,1),"ease-in-out-sine":gt(.445,.05,.55,.95),"ease-in-quad":gt(.55,.085,.68,.53),"ease-out-quad":gt(.25,.46,.45,.94),"ease-in-out-quad":gt(.455,.03,.515,.955),"ease-in-cubic":gt(.55,.055,.675,.19),"ease-out-cubic":gt(.215,.61,.355,1),"ease-in-out-cubic":gt(.645,.045,.355,1),"ease-in-quart":gt(.895,.03,.685,.22),"ease-out-quart":gt(.165,.84,.44,1),"ease-in-out-quart":gt(.77,0,.175,1),"ease-in-quint":gt(.755,.05,.855,.06),"ease-out-quint":gt(.23,1,.32,1),"ease-in-out-quint":gt(.86,0,.07,1),"ease-in-expo":gt(.95,.05,.795,.035),"ease-out-expo":gt(.19,1,.22,1),"ease-in-out-expo":gt(1,0,0,1),"ease-in-circ":gt(.6,.04,.98,.335),"ease-out-circ":gt(.075,.82,.165,1),"ease-in-out-circ":gt(.785,.135,.15,.86),spring:function(e,r,a){if(a===0)return Pl.linear;var o=MC(e,r,a);return function(s,l,u){return s+(l-s)*o(u)}},"cubic-bezier":gt};function Sp(t,e,r,a,o){if(a===1||e===r)return r;var s=o(e,r,a);return t==null||((t.roundValue||t.color)&&(s=Math.round(s)),t.min!==void 0&&(s=Math.max(s,t.min)),t.max!==void 0&&(s=Math.min(s,t.max))),s}function Cp(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function vi(t,e,r,a,o){var s=o!=null?o.type:null;r<0?r=0:r>1&&(r=1);var l=Cp(t,o),u=Cp(e,o);if(be(l)&&be(u))return Sp(s,l,u,r,a);if(ht(l)&&ht(u)){for(var d=[],f=0;f<u.length;f++){var v=l[f],h=u[f];if(v!=null&&h!=null){var g=Sp(s,v,h,r,a);d.push(g)}else d.push(h)}return d}}function OC(t,e,r,a){var o=!a,s=t._private,l=e._private,u=l.easing,d=l.startTime,f=a?t:t.cy(),v=f.style();if(!l.easingImpl)if(u==null)l.easingImpl=Pl.linear;else{var h;if(Fe(u)){var g=v.parse("transition-timing-function",u);h=g.value}else h=u;var y,m;Fe(h)?(y=h,m=[]):(y=h[1],m=h.slice(2).map(function(G){return+G})),m.length>0?(y==="spring"&&m.push(l.duration),l.easingImpl=Pl[y].apply(null,m)):l.easingImpl=Pl[y]}var S=l.easingImpl,x;if(l.duration===0?x=1:x=(r-d)/l.duration,l.applying&&(x=l.progress),x<0?x=0:x>1&&(x=1),l.delay==null){var E=l.startPosition,b=l.position;if(b&&o&&!t.locked()){var k={};ko(E.x,b.x)&&(k.x=vi(E.x,b.x,x,S)),ko(E.y,b.y)&&(k.y=vi(E.y,b.y,x,S)),t.position(k)}var D=l.startPan,B=l.pan,N=s.pan,T=B!=null&&a;T&&(ko(D.x,B.x)&&(N.x=vi(D.x,B.x,x,S)),ko(D.y,B.y)&&(N.y=vi(D.y,B.y,x,S)),t.emit("pan"));var O=l.startZoom,I=l.zoom,j=I!=null&&a;j&&(ko(O,I)&&(s.zoom=zo(s.minZoom,vi(O,I,x,S),s.maxZoom)),t.emit("zoom")),(T||j)&&t.emit("viewport");var M=l.style;if(M&&M.length>0&&o){for(var A=0;A<M.length;A++){var F=M[A],z=F.name,$=F,H=l.startStyle[z],W=v.properties[H.name],U=vi(H,$,x,S,W);v.overrideBypass(t,z,U)}t.emit("style")}}return l.progress=x,x}function ko(t,e){return t==null||e==null?!1:be(t)&&be(e)?!0:!!(t&&e)}function AC(t,e,r,a){var o=e._private;o.started=!0,o.startTime=r-o.progress*o.duration}function bp(t,e){var r=e._private.aniEles,a=[];function o(v,h){var g=v._private,y=g.animation.current,m=g.animation.queue,S=!1;if(y.length===0){var x=m.shift();x&&y.push(x)}for(var E=function(N){for(var T=N.length-1;T>=0;T--){var O=N[T];O()}N.splice(0,N.length)},b=y.length-1;b>=0;b--){var k=y[b],D=k._private;if(D.stopped){y.splice(b,1),D.hooked=!1,D.playing=!1,D.started=!1,E(D.frames);continue}!D.playing&&!D.applying||(D.playing&&D.applying&&(D.applying=!1),D.started||AC(v,k,t),OC(v,k,t,h),D.applying&&(D.applying=!1),E(D.frames),D.step!=null&&D.step(t),k.completed()&&(y.splice(b,1),D.hooked=!1,D.playing=!1,D.started=!1,E(D.completes)),S=!0)}return!h&&y.length===0&&m.length===0&&a.push(v),S}for(var s=!1,l=0;l<r.length;l++){var u=r[l],d=o(u);s=s||d}var f=o(e,!0);(s||f)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(a),e.emit("step")}var zC={animate:ct.animate(),animation:ct.animation(),animated:ct.animated(),clearQueue:ct.clearQueue(),delay:ct.delay(),delayAnimation:ct.delayAnimation(),stop:ct.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&Ol(function(s){bp(s,e),r()})}var a=e.renderer();a&&a.beforeRender?a.beforeRender(function(s,l){bp(l,e)},a.beforeRenderPriorities.animations):r()}},FC={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,a){var o=r.qualifier;return o!=null?e!==a.target&&qo(a.target)&&o.matches(a.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,a){return r.qualifier!=null?a.target:e}},El=function(e){return Fe(e)?new la(e):e},nm={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new tu(FC,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,a){return this.emitter().on(e,El(r),a),this},removeListener:function(e,r,a){return this.emitter().removeListener(e,El(r),a),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,a){return this.emitter().one(e,El(r),a),this},once:function(e,r,a){return this.emitter().one(e,El(r),a),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};ct.eventAliasesOn(nm);var yf={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};yf.jpeg=yf.jpg;var Nl={layout:function(e){var r=this;if(e==null){Nt("Layout options must be specified to make a layout");return}if(e.name==null){Nt("A `name` must be specified to make a layout");return}var a=e.name,o=r.extension("layout",a);if(o==null){Nt("No such layout `"+a+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var s;Fe(e.eles)?s=r.$(e.eles):s=e.eles!=null?e.eles:r.$();var l=new o(Ue({},e,{cy:r,eles:s}));return l}};Nl.createLayout=Nl.makeLayout=Nl.layout;var jC={notify:function(e,r){var a=this._private;if(this.batching()){a.batchNotifications=a.batchNotifications||{};var o=a.batchNotifications[e]=a.batchNotifications[e]||this.collection();r!=null&&o.merge(r);return}if(a.notificationsEnabled){var s=this.renderer();this.destroyed()||!s||s.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(a){var o=e.batchNotifications[a];o.empty()?r.notify(a):r.notify(a,o)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var a=Object.keys(e),o=0;o<a.length;o++){var s=a[o],l=e[s],u=r.getElementById(s);u.data(l)}})}},VC=er({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),wf={renderTo:function(e,r,a,o){var s=this._private.renderer;return s.renderTo(e,r,a,o),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,a=r.extension("renderer",e.name);if(a==null){Nt("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&ft("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var o=VC(e);o.cy=r,r._private.renderer=new a(o),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(a){var o=a._private;o.rscratch={},o.rstyle={},o.animation.current=[],o.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};wf.invalidateDimensions=wf.resize;var Ll={collection:function(e,r){return Fe(e)?this.$(e):Mr(e)?e.collection():ht(e)?(r||(r={}),new Jt(this,e,r.unique,r.removed)):new Jt(this)},nodes:function(e){var r=this.$(function(a){return a.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(a){return a.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};Ll.elements=Ll.filter=Ll.$;var pr={},Ro="t",_C="f";pr.apply=function(t){for(var e=this,r=e._private,a=r.cy,o=a.collection(),s=0;s<t.length;s++){var l=t[s],u=e.getContextMeta(l);if(!u.empty){var d=e.getContextStyle(u),f=e.applyContextStyle(u,d,l);l._private.appliedInitStyle?e.updateTransitions(l,f.diffProps):l._private.appliedInitStyle=!0;var v=e.updateStyleHints(l);v&&o.push(l)}}return o};pr.getPropertiesDiff=function(t,e){var r=this,a=r._private.propDiffs=r._private.propDiffs||{},o=t+"-"+e,s=a[o];if(s)return s;for(var l=[],u={},d=0;d<r.length;d++){var f=r[d],v=t[d]===Ro,h=e[d]===Ro,g=v!==h,y=f.mappedProperties.length>0;if(g||h&&y){var m=void 0;g&&y||g?m=f.properties:y&&(m=f.mappedProperties);for(var S=0;S<m.length;S++){for(var x=m[S],E=x.name,b=!1,k=d+1;k<r.length;k++){var D=r[k],B=e[k]===Ro;if(B&&(b=D.properties[x.name]!=null,b))break}!u[E]&&!b&&(u[E]=!0,l.push(E))}}}return a[o]=l,l};pr.getContextMeta=function(t){for(var e=this,r="",a,o=t._private.styleCxtKey||"",s=0;s<e.length;s++){var l=e[s],u=l.selector&&l.selector.matches(t);u?r+=Ro:r+=_C}return a=e.getPropertiesDiff(o,r),t._private.styleCxtKey=r,{key:r,diffPropNames:a,empty:a.length===0}};pr.getContextStyle=function(t){var e=t.key,r=this,a=this._private.contextStyles=this._private.contextStyles||{};if(a[e])return a[e];for(var o={_private:{key:e}},s=0;s<r.length;s++){var l=r[s],u=e[s]===Ro;if(u)for(var d=0;d<l.properties.length;d++){var f=l.properties[d];o[f.name]=f}}return a[e]=o,o};pr.applyContextStyle=function(t,e,r){for(var a=this,o=t.diffPropNames,s={},l=a.types,u=0;u<o.length;u++){var d=o[u],f=e[d],v=r.pstyle(d);if(!f)if(v)v.bypass?f={name:d,deleteBypassed:!0}:f={name:d,delete:!0};else continue;if(v!==f){if(f.mapped===l.fn&&v!=null&&v.mapping!=null&&v.mapping.value===f.value){var h=v.mapping,g=h.fnValue=f.value(r);if(g===h.prevFnValue)continue}var y=s[d]={prev:v};a.applyParsedProperty(r,f),y.next=r.pstyle(d),y.next&&y.next.bypass&&(y.next=y.next.bypassed)}}return{diffProps:s}};pr.updateStyleHints=function(t){var e=t._private,r=this,a=r.propertyGroupNames,o=r.propertyGroupKeys,s=function(de,Se,Ae){return r.getPropertiesHash(de,Se,Ae)},l=e.styleKey;if(t.removed())return!1;var u=e.group==="nodes",d=t._private.style;a=Object.keys(d);for(var f=0;f<o.length;f++){var v=o[f];e.styleKeys[v]=[mi,Do]}for(var h=function(de,Se){return e.styleKeys[Se][0]=Mo(de,e.styleKeys[Se][0])},g=function(de,Se){return e.styleKeys[Se][1]=Oo(de,e.styleKeys[Se][1])},y=function(de,Se){h(de,Se),g(de,Se)},m=function(de,Se){for(var Ae=0;Ae<de.length;Ae++){var Ee=de.charCodeAt(Ae);h(Ee,Se),g(Ee,Se)}},S=2e9,x=function(de){return-128<de&&de<128&&Math.floor(de)!==de?S-(de*1024|0):de},E=0;E<a.length;E++){var b=a[E],k=d[b];if(k!=null){var D=this.properties[b],B=D.type,N=D.groupKey,T=void 0;D.hashOverride!=null?T=D.hashOverride(t,k):k.pfValue!=null&&(T=k.pfValue);var O=D.enums==null?k.value:null,I=T!=null,j=O!=null,M=I||j,A=k.units;if(B.number&&M&&!B.multiple){var F=I?T:O;y(x(F),N),!I&&A!=null&&m(A,N)}else m(k.strValue,N)}}for(var z=[mi,Do],$=0;$<o.length;$++){var H=o[$],W=e.styleKeys[H];z[0]=Mo(W[0],z[0]),z[1]=Oo(W[1],z[1])}e.styleKey=W1(z[0],z[1]);var U=e.styleKeys;e.labelDimsKey=ea(U.labelDimensions);var G=s(t,["label"],U.labelDimensions);if(e.labelKey=ea(G),e.labelStyleKey=ea(dl(U.commonLabel,G)),!u){var K=s(t,["source-label"],U.labelDimensions);e.sourceLabelKey=ea(K),e.sourceLabelStyleKey=ea(dl(U.commonLabel,K));var L=s(t,["target-label"],U.labelDimensions);e.targetLabelKey=ea(L),e.targetLabelStyleKey=ea(dl(U.commonLabel,L))}if(u){var _=e.styleKeys,Z=_.nodeBody,te=_.nodeBorder,oe=_.nodeOutline,le=_.backgroundImage,ce=_.compound,ie=_.pie,Q=[Z,te,oe,le,ce,ie].filter(function(ue){return ue!=null}).reduce(dl,[mi,Do]);e.nodeKey=ea(Q),e.hasPie=ie!=null&&ie[0]!==mi&&ie[1]!==Do}return l!==e.styleKey};pr.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null};pr.applyParsedProperty=function(t,e){var r=this,a=e,o=t._private.style,s,l=r.types,u=r.properties[a.name].type,d=a.bypass,f=o[a.name],v=f&&f.bypass,h=t._private,g="mapping",y=function(Z){return Z==null?null:Z.pfValue!=null?Z.pfValue:Z.value},m=function(){var Z=y(f),te=y(a);r.checkTriggers(t,a.name,Z,te)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(a=e=this.parse(e.name,"bezier",d)),a.delete)return o[a.name]=void 0,m(),!0;if(a.deleteBypassed)return f?f.bypass?(f.bypassed=void 0,m(),!0):!1:(m(),!0);if(a.deleteBypass)return f?f.bypass?(o[a.name]=f.bypassed,m(),!0):!1:(m(),!0);var S=function(){ft("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+a.name+"` with data field `"+a.field+"`); try a `["+a.field+"]` selector to limit scope to elements with `"+a.field+"` defined")};switch(a.mapped){case l.mapData:{for(var x=a.field.split("."),E=h.data,b=0;b<x.length&&E;b++){var k=x[b];E=E[k]}if(E==null)return S(),!1;var D;if(be(E)){var B=a.fieldMax-a.fieldMin;B===0?D=0:D=(E-a.fieldMin)/B}else return ft("Do not use continuous mappers without specifying numeric data (i.e. `"+a.field+": "+E+"` for `"+t.id()+"` is non-numeric)"),!1;if(D<0?D=0:D>1&&(D=1),u.color){var N=a.valueMin[0],T=a.valueMax[0],O=a.valueMin[1],I=a.valueMax[1],j=a.valueMin[2],M=a.valueMax[2],A=a.valueMin[3]==null?1:a.valueMin[3],F=a.valueMax[3]==null?1:a.valueMax[3],z=[Math.round(N+(T-N)*D),Math.round(O+(I-O)*D),Math.round(j+(M-j)*D),Math.round(A+(F-A)*D)];s={bypass:a.bypass,name:a.name,value:z,strValue:"rgb("+z[0]+", "+z[1]+", "+z[2]+")"}}else if(u.number){var $=a.valueMin+(a.valueMax-a.valueMin)*D;s=this.parse(a.name,$,a.bypass,g)}else return!1;if(!s)return S(),!1;s.mapping=a,a=s;break}case l.data:{for(var H=a.field.split("."),W=h.data,U=0;U<H.length&&W;U++){var G=H[U];W=W[G]}if(W!=null&&(s=this.parse(a.name,W,a.bypass,g)),!s)return S(),!1;s.mapping=a,a=s;break}case l.fn:{var K=a.value,L=a.fnValue!=null?a.fnValue:K(t);if(a.prevFnValue=L,L==null)return ft("Custom function mappers may not return null (i.e. `"+a.name+"` for ele `"+t.id()+"` is null)"),!1;if(s=this.parse(a.name,L,a.bypass,g),!s)return ft("Custom function mappers may not return invalid values for the property type (i.e. `"+a.name+"` for ele `"+t.id()+"` is invalid)"),!1;s.mapping=dn(a),a=s;break}case void 0:break;default:return!1}return d?(v?a.bypassed=f.bypassed:a.bypassed=f,o[a.name]=a):v?f.bypassed=a:o[a.name]=a,m(),!0};pr.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var a=t[r];if(this.clearStyleHints(a),a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),!e)a._private.style={};else for(var o=a._private.style,s=Object.keys(o),l=0;l<s.length;l++){var u=s[l],d=o[u];d!=null&&(d.bypass?d.bypassed=null:o[u]=null)}}};pr.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};pr.updateTransitions=function(t,e){var r=this,a=t._private,o=t.pstyle("transition-property").value,s=t.pstyle("transition-duration").pfValue,l=t.pstyle("transition-delay").pfValue;if(o.length>0&&s>0){for(var u={},d=!1,f=0;f<o.length;f++){var v=o[f],h=t.pstyle(v),g=e[v];if(g){var y=g.prev,m=y,S=g.next!=null?g.next:h,x=!1,E=void 0,b=1e-6;m&&(be(m.pfValue)&&be(S.pfValue)?(x=S.pfValue-m.pfValue,E=m.pfValue+b*x):be(m.value)&&be(S.value)?(x=S.value-m.value,E=m.value+b*x):ht(m.value)&&ht(S.value)&&(x=m.value[0]!==S.value[0]||m.value[1]!==S.value[1]||m.value[2]!==S.value[2],E=m.strValue),x&&(u[v]=S.strValue,this.applyBypass(t,v,E),d=!0))}}if(!d)return;a.transitioning=!0,new Ni(function(k){l>0?t.delayAnimation(l).play().promise().then(k):k()}).then(function(){return t.animation({style:u,duration:s,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,o),t.emitAndNotify("style"),a.transitioning=!1})}else a.transitioning&&(this.removeBypasses(t,o),t.emitAndNotify("style"),a.transitioning=!1)};pr.checkTrigger=function(t,e,r,a,o,s){var l=this.properties[e],u=o(l);u!=null&&u(r,a)&&s(l)};pr.checkZOrderTrigger=function(t,e,r,a){var o=this;this.checkTrigger(t,e,r,a,function(s){return s.triggersZOrder},function(){o._private.cy.notify("zorder",t)})};pr.checkBoundsTrigger=function(t,e,r,a){this.checkTrigger(t,e,r,a,function(o){return o.triggersBounds},function(o){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),o.triggersBoundsOfParallelBeziers&&e==="curve-style"&&(r==="bezier"||a==="bezier")&&t.parallelEdges().forEach(function(s){s.dirtyBoundingBoxCache()}),o.triggersBoundsOfConnectedEdges&&e==="display"&&(r==="none"||a==="none")&&t.connectedEdges().forEach(function(s){s.dirtyBoundingBoxCache()})})};pr.checkTriggers=function(t,e,r,a){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,a),this.checkBoundsTrigger(t,e,r,a)};var Yo={};Yo.applyBypass=function(t,e,r,a){var o=this,s=[],l=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var u=0;u<o.properties.length;u++){var d=o.properties[u],f=d.name,v=this.parse(f,r,!0);v&&s.push(v)}}else if(Fe(e)){var h=this.parse(e,r,!0);h&&s.push(h)}else if(nt(e)){var g=e;a=r;for(var y=Object.keys(g),m=0;m<y.length;m++){var S=y[m],x=g[S];if(x===void 0&&(x=g[ql(S)]),x!==void 0){var E=this.parse(S,x,!0);E&&s.push(E)}}}else return!1;if(s.length===0)return!1;for(var b=!1,k=0;k<t.length;k++){for(var D=t[k],B={},N=void 0,T=0;T<s.length;T++){var O=s[T];if(a){var I=D.pstyle(O.name);N=B[O.name]={prev:I}}b=this.applyParsedProperty(D,dn(O))||b,a&&(N.next=D.pstyle(O.name))}b&&this.updateStyleHints(D),a&&this.updateTransitions(D,B,l)}return b};Yo.overrideBypass=function(t,e,r){e=If(e);for(var a=0;a<t.length;a++){var o=t[a],s=o._private.style[e],l=this.properties[e].type,u=l.color,d=l.mutiple,f=s?s.pfValue!=null?s.pfValue:s.value:null;!s||!s.bypass?this.applyBypass(o,e,r):(s.value=r,s.pfValue!=null&&(s.pfValue=r),u?s.strValue="rgb("+r.join(",")+")":d?s.strValue=r.join(" "):s.strValue=""+r,this.updateStyleHints(o)),this.checkTriggers(o,e,f,r)}};Yo.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};Yo.removeBypasses=function(t,e,r){for(var a=!0,o=0;o<t.length;o++){for(var s=t[o],l={},u=0;u<e.length;u++){var d=e[u],f=this.properties[d],v=s.pstyle(f.name);if(!(!v||!v.bypass)){var h="",g=this.parse(d,h,!0),y=l[f.name]={prev:v};this.applyParsedProperty(s,g),y.next=s.pstyle(f.name)}}this.updateStyleHints(s),r&&this.updateTransitions(s,l,a)}};var Kf={};Kf.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};Kf.containerCss=function(t){var e=this._private.cy,r=e.container(),a=e.window();if(a&&r&&a.getComputedStyle)return a.getComputedStyle(r).getPropertyValue(t)};var hn={};hn.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};hn.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var a={},o=0;o<r.properties.length;o++){var s=r.properties[o],l=r.getStylePropertyValue(t,s.name,e);l!=null&&(a[s.name]=l,a[ql(s.name)]=l)}return a}};hn.getIndexedStyle=function(t,e,r,a){var o=t.pstyle(e)[r][a];return o??t.cy().style().getDefaultProperty(e)[r][0]};hn.getStylePropertyValue=function(t,e,r){var a=this;if(t=t[0],t){var o=a.properties[e];o.alias&&(o=o.pointsTo);var s=o.type,l=t.pstyle(o.name);if(l){var u=l.value,d=l.units,f=l.strValue;if(r&&s.number&&u!=null&&be(u)){var v=t.cy().zoom(),h=function(x){return x*v},g=function(x,E){return h(x)+E},y=ht(u),m=y?d.every(function(S){return S!=null}):d!=null;return m?y?u.map(function(S,x){return g(S,d[x])}).join(" "):g(u,d):y?u.map(function(S){return Fe(S)?S:""+h(S)}).join(" "):""+h(u)}else if(f!=null)return f}return null}};hn.getAnimationStartStyle=function(t,e){for(var r={},a=0;a<e.length;a++){var o=e[a],s=o.name,l=t.pstyle(s);l!==void 0&&(nt(l)?l=this.parse(s,l.strValue):l=this.parse(s,l)),l&&(r[s]=l)}return r};hn.getPropsList=function(t){var e=this,r=[],a=t,o=e.properties;if(a)for(var s=Object.keys(a),l=0;l<s.length;l++){var u=s[l],d=a[u],f=o[u]||o[If(u)],v=this.parse(f.name,d);v&&r.push(v)}return r};hn.getNonDefaultPropertiesHash=function(t,e,r){var a=r.slice(),o,s,l,u,d,f;for(d=0;d<e.length;d++)if(o=e[d],s=t.pstyle(o,!1),s!=null)if(s.pfValue!=null)a[0]=Mo(u,a[0]),a[1]=Oo(u,a[1]);else for(l=s.strValue,f=0;f<l.length;f++)u=l.charCodeAt(f),a[0]=Mo(u,a[0]),a[1]=Oo(u,a[1]);return a};hn.getPropertiesHash=hn.getNonDefaultPropertiesHash;var au={};au.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var a=t[r],o=a.selector,s=a.style||a.css,l=Object.keys(s);e.selector(o);for(var u=0;u<l.length;u++){var d=l[u],f=s[d];e.css(d,f)}}return e};au.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};au.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],a=r.selector,o=r.properties,s={},l=0;l<o.length;l++){var u=o[l];s[u.name]=u.strValue}t.push({selector:a?a.toString():"core",style:s})}return t};var Gf={};Gf.appendFromString=function(t){var e=this,r=this,a=""+t,o,s,l;a=a.replace(/[/][*](\s|.)+?[*][/]/g,"");function u(){a.length>o.length?a=a.substr(o.length):a=""}function d(){s.length>l.length?s=s.substr(l.length):s=""}for(;;){var f=a.match(/^\s*$/);if(f)break;var v=a.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!v){ft("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+a);break}o=v[0];var h=v[1];if(h!=="core"){var g=new la(h);if(g.invalid){ft("Skipping parsing of block: Invalid selector found in string stylesheet: "+h),u();continue}}var y=v[2],m=!1;s=y;for(var S=[];;){var x=s.match(/^\s*$/);if(x)break;var E=s.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!E){ft("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+y),m=!0;break}l=E[0];var b=E[1],k=E[2],D=e.properties[b];if(!D){ft("Skipping property: Invalid property name in: "+l),d();continue}var B=r.parse(b,k);if(!B){ft("Skipping property: Invalid property definition in: "+l),d();continue}S.push({name:b,val:k}),d()}if(m){u();break}r.selector(h);for(var N=0;N<S.length;N++){var T=S[N];r.css(T.name,T.val)}u()}return r};Gf.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var Xt={};(function(){var t=Vt,e=Y0,r=X0,a=Z0,o=J0,s=function(Q){return"^"+Q+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},l=function(Q){var ue=t+"|\\w+|"+e+"|"+r+"|"+a+"|"+o;return"^"+Q+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+ue+")\\s*\\,\\s*("+ue+")\\)$"},u=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Xt.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:s("data")},layoutData:{mapping:!0,regex:s("layoutData")},scratch:{mapping:!0,regex:s("scratch")},mapData:{mapping:!0,regex:l("mapData")},mapLayoutData:{mapping:!0,regex:l("mapLayoutData")},mapScratch:{mapping:!0,regex:l("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:u,singleRegexMatchValue:!0},urls:{regexes:u,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Q,ue){switch(Q.length){case 2:return ue[0]!=="deg"&&ue[0]!=="rad"&&ue[1]!=="deg"&&ue[1]!=="rad";case 1:return Fe(Q[0])||ue[0]==="deg"||ue[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Q){var ue=Q.length;return ue===1||ue===2||ue===4}}};var d={zeroNonZero:function(Q,ue){return(Q==null||ue==null)&&Q!==ue||Q==0&&ue!=0?!0:Q!=0&&ue==0},any:function(Q,ue){return Q!=ue},emptyNonEmpty:function(Q,ue){var de=oa(Q),Se=oa(ue);return de&&!Se||!de&&Se}},f=Xt.types,v=[{name:"label",type:f.text,triggersBounds:d.any,triggersZOrder:d.emptyNonEmpty},{name:"text-rotation",type:f.textRotation,triggersBounds:d.any},{name:"text-margin-x",type:f.bidirectionalSize,triggersBounds:d.any},{name:"text-margin-y",type:f.bidirectionalSize,triggersBounds:d.any}],h=[{name:"source-label",type:f.text,triggersBounds:d.any},{name:"source-text-rotation",type:f.textRotation,triggersBounds:d.any},{name:"source-text-margin-x",type:f.bidirectionalSize,triggersBounds:d.any},{name:"source-text-margin-y",type:f.bidirectionalSize,triggersBounds:d.any},{name:"source-text-offset",type:f.size,triggersBounds:d.any}],g=[{name:"target-label",type:f.text,triggersBounds:d.any},{name:"target-text-rotation",type:f.textRotation,triggersBounds:d.any},{name:"target-text-margin-x",type:f.bidirectionalSize,triggersBounds:d.any},{name:"target-text-margin-y",type:f.bidirectionalSize,triggersBounds:d.any},{name:"target-text-offset",type:f.size,triggersBounds:d.any}],y=[{name:"font-family",type:f.fontFamily,triggersBounds:d.any},{name:"font-style",type:f.fontStyle,triggersBounds:d.any},{name:"font-weight",type:f.fontWeight,triggersBounds:d.any},{name:"font-size",type:f.size,triggersBounds:d.any},{name:"text-transform",type:f.textTransform,triggersBounds:d.any},{name:"text-wrap",type:f.textWrap,triggersBounds:d.any},{name:"text-overflow-wrap",type:f.textOverflowWrap,triggersBounds:d.any},{name:"text-max-width",type:f.size,triggersBounds:d.any},{name:"text-outline-width",type:f.size,triggersBounds:d.any},{name:"line-height",type:f.positiveNumber,triggersBounds:d.any}],m=[{name:"text-valign",type:f.valign,triggersBounds:d.any},{name:"text-halign",type:f.halign,triggersBounds:d.any},{name:"color",type:f.color},{name:"text-outline-color",type:f.color},{name:"text-outline-opacity",type:f.zeroOneNumber},{name:"text-background-color",type:f.color},{name:"text-background-opacity",type:f.zeroOneNumber},{name:"text-background-padding",type:f.size,triggersBounds:d.any},{name:"text-border-opacity",type:f.zeroOneNumber},{name:"text-border-color",type:f.color},{name:"text-border-width",type:f.size,triggersBounds:d.any},{name:"text-border-style",type:f.borderStyle,triggersBounds:d.any},{name:"text-background-shape",type:f.textBackgroundShape,triggersBounds:d.any},{name:"text-justification",type:f.justification}],S=[{name:"events",type:f.bool,triggersZOrder:d.any},{name:"text-events",type:f.bool,triggersZOrder:d.any}],x=[{name:"display",type:f.display,triggersZOrder:d.any,triggersBounds:d.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:f.visibility,triggersZOrder:d.any},{name:"opacity",type:f.zeroOneNumber,triggersZOrder:d.zeroNonZero},{name:"text-opacity",type:f.zeroOneNumber},{name:"min-zoomed-font-size",type:f.size},{name:"z-compound-depth",type:f.zCompoundDepth,triggersZOrder:d.any},{name:"z-index-compare",type:f.zIndexCompare,triggersZOrder:d.any},{name:"z-index",type:f.number,triggersZOrder:d.any}],E=[{name:"overlay-padding",type:f.size,triggersBounds:d.any},{name:"overlay-color",type:f.color},{name:"overlay-opacity",type:f.zeroOneNumber,triggersBounds:d.zeroNonZero},{name:"overlay-shape",type:f.overlayShape,triggersBounds:d.any},{name:"overlay-corner-radius",type:f.cornerRadius}],b=[{name:"underlay-padding",type:f.size,triggersBounds:d.any},{name:"underlay-color",type:f.color},{name:"underlay-opacity",type:f.zeroOneNumber,triggersBounds:d.zeroNonZero},{name:"underlay-shape",type:f.overlayShape,triggersBounds:d.any},{name:"underlay-corner-radius",type:f.cornerRadius}],k=[{name:"transition-property",type:f.propList},{name:"transition-duration",type:f.time},{name:"transition-delay",type:f.time},{name:"transition-timing-function",type:f.easing}],D=function(Q,ue){return ue.value==="label"?-Q.poolIndex():ue.pfValue},B=[{name:"height",type:f.nodeSize,triggersBounds:d.any,hashOverride:D},{name:"width",type:f.nodeSize,triggersBounds:d.any,hashOverride:D},{name:"shape",type:f.nodeShape,triggersBounds:d.any},{name:"shape-polygon-points",type:f.polygonPointList,triggersBounds:d.any},{name:"corner-radius",type:f.cornerRadius},{name:"background-color",type:f.color},{name:"background-fill",type:f.fill},{name:"background-opacity",type:f.zeroOneNumber},{name:"background-blacken",type:f.nOneOneNumber},{name:"background-gradient-stop-colors",type:f.colors},{name:"background-gradient-stop-positions",type:f.percentages},{name:"background-gradient-direction",type:f.gradientDirection},{name:"padding",type:f.sizeMaybePercent,triggersBounds:d.any},{name:"padding-relative-to",type:f.paddingRelativeTo,triggersBounds:d.any},{name:"bounds-expansion",type:f.boundsExpansion,triggersBounds:d.any}],N=[{name:"border-color",type:f.color},{name:"border-opacity",type:f.zeroOneNumber},{name:"border-width",type:f.size,triggersBounds:d.any},{name:"border-style",type:f.borderStyle},{name:"border-cap",type:f.lineCap},{name:"border-join",type:f.lineJoin},{name:"border-dash-pattern",type:f.numbers},{name:"border-dash-offset",type:f.number},{name:"border-position",type:f.linePosition}],T=[{name:"outline-color",type:f.color},{name:"outline-opacity",type:f.zeroOneNumber},{name:"outline-width",type:f.size,triggersBounds:d.any},{name:"outline-style",type:f.borderStyle},{name:"outline-offset",type:f.size,triggersBounds:d.any}],O=[{name:"background-image",type:f.urls},{name:"background-image-crossorigin",type:f.bgCrossOrigin},{name:"background-image-opacity",type:f.zeroOneNumbers},{name:"background-image-containment",type:f.bgContainment},{name:"background-image-smoothing",type:f.bools},{name:"background-position-x",type:f.bgPos},{name:"background-position-y",type:f.bgPos},{name:"background-width-relative-to",type:f.bgRelativeTo},{name:"background-height-relative-to",type:f.bgRelativeTo},{name:"background-repeat",type:f.bgRepeat},{name:"background-fit",type:f.bgFit},{name:"background-clip",type:f.bgClip},{name:"background-width",type:f.bgWH},{name:"background-height",type:f.bgWH},{name:"background-offset-x",type:f.bgPos},{name:"background-offset-y",type:f.bgPos}],I=[{name:"position",type:f.position,triggersBounds:d.any},{name:"compound-sizing-wrt-labels",type:f.compoundIncludeLabels,triggersBounds:d.any},{name:"min-width",type:f.size,triggersBounds:d.any},{name:"min-width-bias-left",type:f.sizeMaybePercent,triggersBounds:d.any},{name:"min-width-bias-right",type:f.sizeMaybePercent,triggersBounds:d.any},{name:"min-height",type:f.size,triggersBounds:d.any},{name:"min-height-bias-top",type:f.sizeMaybePercent,triggersBounds:d.any},{name:"min-height-bias-bottom",type:f.sizeMaybePercent,triggersBounds:d.any}],j=[{name:"line-style",type:f.lineStyle},{name:"line-color",type:f.color},{name:"line-fill",type:f.fill},{name:"line-cap",type:f.lineCap},{name:"line-opacity",type:f.zeroOneNumber},{name:"line-dash-pattern",type:f.numbers},{name:"line-dash-offset",type:f.number},{name:"line-outline-width",type:f.size},{name:"line-outline-color",type:f.color},{name:"line-gradient-stop-colors",type:f.colors},{name:"line-gradient-stop-positions",type:f.percentages},{name:"curve-style",type:f.curveStyle,triggersBounds:d.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:f.zeroOneNumber,triggersBounds:d.any},{name:"source-endpoint",type:f.edgeEndpoint,triggersBounds:d.any},{name:"target-endpoint",type:f.edgeEndpoint,triggersBounds:d.any},{name:"control-point-step-size",type:f.size,triggersBounds:d.any},{name:"control-point-distances",type:f.bidirectionalSizes,triggersBounds:d.any},{name:"control-point-weights",type:f.numbers,triggersBounds:d.any},{name:"segment-distances",type:f.bidirectionalSizes,triggersBounds:d.any},{name:"segment-weights",type:f.numbers,triggersBounds:d.any},{name:"segment-radii",type:f.numbers,triggersBounds:d.any},{name:"radius-type",type:f.radiusType,triggersBounds:d.any},{name:"taxi-turn",type:f.bidirectionalSizeMaybePercent,triggersBounds:d.any},{name:"taxi-turn-min-distance",type:f.size,triggersBounds:d.any},{name:"taxi-direction",type:f.axisDirection,triggersBounds:d.any},{name:"taxi-radius",type:f.number,triggersBounds:d.any},{name:"edge-distances",type:f.edgeDistances,triggersBounds:d.any},{name:"arrow-scale",type:f.positiveNumber,triggersBounds:d.any},{name:"loop-direction",type:f.angle,triggersBounds:d.any},{name:"loop-sweep",type:f.angle,triggersBounds:d.any},{name:"source-distance-from-node",type:f.size,triggersBounds:d.any},{name:"target-distance-from-node",type:f.size,triggersBounds:d.any}],M=[{name:"ghost",type:f.bool,triggersBounds:d.any},{name:"ghost-offset-x",type:f.bidirectionalSize,triggersBounds:d.any},{name:"ghost-offset-y",type:f.bidirectionalSize,triggersBounds:d.any},{name:"ghost-opacity",type:f.zeroOneNumber}],A=[{name:"selection-box-color",type:f.color},{name:"selection-box-opacity",type:f.zeroOneNumber},{name:"selection-box-border-color",type:f.color},{name:"selection-box-border-width",type:f.size},{name:"active-bg-color",type:f.color},{name:"active-bg-opacity",type:f.zeroOneNumber},{name:"active-bg-size",type:f.size},{name:"outside-texture-bg-color",type:f.color},{name:"outside-texture-bg-opacity",type:f.zeroOneNumber}],F=[];Xt.pieBackgroundN=16,F.push({name:"pie-size",type:f.sizeMaybePercent});for(var z=1;z<=Xt.pieBackgroundN;z++)F.push({name:"pie-"+z+"-background-color",type:f.color}),F.push({name:"pie-"+z+"-background-size",type:f.percent}),F.push({name:"pie-"+z+"-background-opacity",type:f.zeroOneNumber});var $=[],H=Xt.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:f.arrowShape,triggersBounds:d.any},{name:"arrow-color",type:f.color},{name:"arrow-fill",type:f.arrowFill},{name:"arrow-width",type:f.arrowWidth}].forEach(function(ie){H.forEach(function(Q){var ue=Q+"-"+ie.name,de=ie.type,Se=ie.triggersBounds;$.push({name:ue,type:de,triggersBounds:Se})})},{});var W=Xt.properties=[].concat(S,k,x,E,b,M,m,y,v,h,g,B,N,T,O,F,I,j,$,A),U=Xt.propertyGroups={behavior:S,transition:k,visibility:x,overlay:E,underlay:b,ghost:M,commonLabel:m,labelDimensions:y,mainLabel:v,sourceLabel:h,targetLabel:g,nodeBody:B,nodeBorder:N,nodeOutline:T,backgroundImage:O,pie:F,compound:I,edgeLine:j,edgeArrow:$,core:A},G=Xt.propertyGroupNames={},K=Xt.propertyGroupKeys=Object.keys(U);K.forEach(function(ie){G[ie]=U[ie].map(function(Q){return Q.name}),U[ie].forEach(function(Q){return Q.groupKey=ie})});var L=Xt.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Xt.propertyNames=W.map(function(ie){return ie.name});for(var _=0;_<W.length;_++){var Z=W[_];W[Z.name]=Z}for(var te=0;te<L.length;te++){var oe=L[te],le=W[oe.pointsTo],ce={name:oe.name,alias:!0,pointsTo:le};W.push(ce),W[oe.name]=ce}})();Xt.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};Xt.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=Ue({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(d,f){for(var v=1;v<=Xt.pieBackgroundN;v++){var h=f.name.replace("{{i}}",v),g=f.value;d[h]=g}return d},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(d,f){return Xt.arrowPrefixes.forEach(function(v){var h=v+"-"+f.name,g=f.value;d[h]=g}),d},{})),r={},a=0;a<this.properties.length;a++){var o=this.properties[a];if(!o.pointsTo){var s=o.name,l=e[s],u=this.parse(s,l);r[s]=u}}return t.defaultProperties=r,t.defaultProperties};Xt.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var iu={};iu.parse=function(t,e,r,a){var o=this;if(Tt(e))return o.parseImplWarn(t,e,r,a);var s=a==="mapping"||a===!0||a===!1||a==null?"dontcare":a,l=r?"t":"f",u=""+e,d=dg(t,u,l,s),f=o.propCache=o.propCache||[],v;return(v=f[d])||(v=f[d]=o.parseImplWarn(t,e,r,a)),(r||a==="mapping")&&(v=dn(v),v&&(v.value=dn(v.value))),v};iu.parseImplWarn=function(t,e,r,a){var o=this.parseImpl(t,e,r,a);return!o&&e!=null&&ft("The style property `".concat(t,": ").concat(e,"` is invalid")),o&&(o.name==="width"||o.name==="height")&&e==="label"&&ft("The style value of `label` is deprecated for `"+o.name+"`"),o};iu.parseImpl=function(t,e,r,a){var o=this;t=If(t);var s=o.properties[t],l=e,u=o.types;if(!s||e===void 0)return null;s.alias&&(s=s.pointsTo,t=s.name);var d=Fe(e);d&&(e=e.trim());var f=s.type;if(!f)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(Tt(e))return{name:t,value:e,strValue:"fn",mapped:u.fn,bypass:r};var v,h;if(!(!d||a||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(v=new RegExp(u.data.regex).exec(e))){if(r)return!1;var g=u.data;return{name:t,value:v,strValue:""+e,mapped:g,field:v[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(h=new RegExp(u.mapData.regex).exec(e))){if(r||f.multiple)return!1;var y=u.mapData;if(!(f.color||f.number))return!1;var m=this.parse(t,h[4]);if(!m||m.mapped)return!1;var S=this.parse(t,h[5]);if(!S||S.mapped)return!1;if(m.pfValue===S.pfValue||m.strValue===S.strValue)return ft("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+m.strValue+"`"),this.parse(t,m.strValue);if(f.color){var x=m.value,E=S.value,b=x[0]===E[0]&&x[1]===E[1]&&x[2]===E[2]&&(x[3]===E[3]||(x[3]==null||x[3]===1)&&(E[3]==null||E[3]===1));if(b)return!1}return{name:t,value:h,strValue:""+e,mapped:y,field:h[1],fieldMin:parseFloat(h[2]),fieldMax:parseFloat(h[3]),valueMin:m.value,valueMax:S.value,bypass:r}}}if(f.multiple&&a!=="multiple"){var k;if(d?k=e.split(/\s+/):ht(e)?k=e:k=[e],f.evenMultiple&&k.length%2!==0)return null;for(var D=[],B=[],N=[],T="",O=!1,I=0;I<k.length;I++){var j=o.parse(t,k[I],r,"multiple");O=O||Fe(j.value),D.push(j.value),N.push(j.pfValue!=null?j.pfValue:j.value),B.push(j.units),T+=(I>0?" ":"")+j.strValue}return f.validate&&!f.validate(D,B)?null:f.singleEnum&&O?D.length===1&&Fe(D[0])?{name:t,value:D[0],strValue:D[0],bypass:r}:null:{name:t,value:D,pfValue:N,strValue:T,bypass:r,units:B}}var M=function(){for(var Q=0;Q<f.enums.length;Q++){var ue=f.enums[Q];if(ue===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(f.number){var A,F="px";if(f.units&&(A=f.units),f.implicitUnits&&(F=f.implicitUnits),!f.unitless)if(d){var z="px|em"+(f.allowPercent?"|\\%":"");A&&(z=A);var $=e.match("^("+Vt+")("+z+")?$");$&&(e=$[1],A=$[2]||F)}else(!A||f.implicitUnits)&&(A=F);if(e=parseFloat(e),isNaN(e)&&f.enums===void 0)return null;if(isNaN(e)&&f.enums!==void 0)return e=l,M();if(f.integer&&!$0(e)||f.min!==void 0&&(e<f.min||f.strictMin&&e===f.min)||f.max!==void 0&&(e>f.max||f.strictMax&&e===f.max))return null;var H={name:t,value:e,strValue:""+e+(A||""),units:A,bypass:r};return f.unitless||A!=="px"&&A!=="em"?H.pfValue=e:H.pfValue=A==="px"||!A?e:this.getEmSizeInPixels()*e,(A==="ms"||A==="s")&&(H.pfValue=A==="ms"?e:1e3*e),(A==="deg"||A==="rad")&&(H.pfValue=A==="rad"?e:Sw(e)),A==="%"&&(H.pfValue=e/100),H}else if(f.propList){var W=[],U=""+e;if(U!=="none"){for(var G=U.split(/\s*,\s*|\s+/),K=0;K<G.length;K++){var L=G[K].trim();o.properties[L]?W.push(L):ft("`"+L+"` is not a valid property name")}if(W.length===0)return null}return{name:t,value:W,strValue:W.length===0?"none":W.join(" "),bypass:r}}else if(f.color){var _=i1(e);return _?{name:t,value:_,pfValue:_,strValue:"rgb("+_[0]+","+_[1]+","+_[2]+")",bypass:r}:null}else if(f.regex||f.regexes){if(f.enums){var Z=M();if(Z)return Z}for(var te=f.regexes?f.regexes:[f.regex],oe=0;oe<te.length;oe++){var le=new RegExp(te[oe]),ce=le.exec(e);if(ce)return{name:t,value:f.singleRegexMatchValue?ce[1]:ce,strValue:""+e,bypass:r}}return null}else return f.string?{name:t,value:""+e,strValue:""+e,bypass:r}:f.enums?M():null};var dr=function t(e){if(!(this instanceof t))return new t(e);if(!Bf(e)){Nt("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},hr=dr.prototype;hr.instanceString=function(){return"style"};hr.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),a=0;a<this.length;a++)this[a]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(o){var s=o[0]._private;s.styleDirty=!0,s.appliedInitStyle=!1}),this};hr.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};hr.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};hr.selector=function(t){var e=t==="core"?null:new la(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};hr.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],a=0;a<t.properties.length;a++){var o=t.properties[a],s=r[o.name];s===void 0&&(s=r[ql(o.name)]),s!==void 0&&this.cssRule(o.name,s)}else e.length===2&&this.cssRule(e[0],e[1]);return this};hr.style=hr.css;hr.cssRule=function(t,e){var r=this.parse(t,e);if(r){var a=this.length-1;this[a].properties.push(r),this[a].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[a].mappedProperties.push(r);var o=!this[a].selector;o&&(this._private.coreStyle[r.name]=r)}return this};hr.append=function(t){return rg(t)?t.appendToStyle(this):ht(t)?this.appendFromJson(t):Fe(t)&&this.appendFromString(t),this};dr.fromJson=function(t,e){var r=new dr(t);return r.fromJson(e),r};dr.fromString=function(t,e){return new dr(t).fromString(e)};[pr,Yo,Kf,hn,au,Gf,Xt,iu].forEach(function(t){Ue(hr,t)});dr.types=hr.types;dr.properties=hr.properties;dr.propertyGroups=hr.propertyGroups;dr.propertyGroupNames=hr.propertyGroupNames;dr.propertyGroupKeys=hr.propertyGroupKeys;var $C={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return rg(e)?r.style=e.generateStyle(this):ht(e)?r.style=dr.fromJson(this,e):Fe(e)?r.style=dr.fromString(this,e):r.style=dr(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},UC="single",za={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=UC),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,a,o,s,l,u;switch(e.length){case 0:return r;case 1:if(Fe(e[0]))return a=e[0],r[a];if(nt(e[0])){if(!this._private.panningEnabled)return this;s=e[0],l=s.x,u=s.y,be(l)&&(r.x=l),be(u)&&(r.y=u),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;a=e[0],o=e[1],(a==="x"||a==="y")&&be(o)&&(r[a]=o),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var a=arguments,o=this._private.pan,s,l,u,d,f;if(!this._private.panningEnabled)return this;switch(a.length){case 1:nt(e)&&(u=a[0],d=u.x,f=u.y,be(d)&&(o.x+=d),be(f)&&(o.y+=f),this.emit("pan viewport"));break;case 2:s=e,l=r,(s==="x"||s==="y")&&be(l)&&(o[s]+=l),this.emit("pan viewport");break}return this.notify("viewport"),this},fit:function(e,r){var a=this.getFitViewport(e,r);if(a){var o=this._private;o.zoom=a.zoom,o.pan=a.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if(be(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var a;if(Fe(e)){var o=e;e=this.$(o)}else if(q0(e)){var s=e;a={x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2},a.w=a.x2-a.x1,a.h=a.y2-a.y1}else Mr(e)||(e=this.mutableElements());if(!(Mr(e)&&e.empty())){a=a||e.boundingBox();var l=this.width(),u=this.height(),d;if(r=be(r)?r:0,!isNaN(l)&&!isNaN(u)&&l>0&&u>0&&!isNaN(a.w)&&!isNaN(a.h)&&a.w>0&&a.h>0){d=Math.min((l-2*r)/a.w,(u-2*r)/a.h),d=d>this._private.maxZoom?this._private.maxZoom:d,d=d<this._private.minZoom?this._private.minZoom:d;var f={x:(l-d*(a.x1+a.x2))/2,y:(u-d*(a.y1+a.y2))/2};return{zoom:d,pan:f}}}}},zoomRange:function(e,r){var a=this._private;if(r==null){var o=e;e=o.min,r=o.max}return be(e)&&be(r)&&e<=r?(a.minZoom=e,a.maxZoom=r):be(e)&&r===void 0&&e<=a.maxZoom?a.minZoom=e:be(r)&&e===void 0&&r>=a.minZoom&&(a.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,a=r.pan,o=r.zoom,s,l,u=!1;if(r.zoomingEnabled||(u=!0),be(e)?l=e:nt(e)&&(l=e.level,e.position!=null?s=Yl(e.position,o,a):e.renderedPosition!=null&&(s=e.renderedPosition),s!=null&&!r.panningEnabled&&(u=!0)),l=l>r.maxZoom?r.maxZoom:l,l=l<r.minZoom?r.minZoom:l,u||!be(l)||l===o||s!=null&&(!be(s.x)||!be(s.y)))return null;if(s!=null){var d=a,f=o,v=l,h={x:-v/f*(s.x-d.x)+s.x,y:-v/f*(s.y-d.y)+s.y};return{zoomed:!0,panned:!0,zoom:v,pan:h}}else return{zoomed:!0,panned:!1,zoom:l,pan:a}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),a=this._private;return r==null||!r.zoomed?this:(a.zoom=r.zoom,r.panned&&(a.pan.x=r.pan.x,a.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,a=!0,o=!0,s=[],l=!1,u=!1;if(!e)return this;if(be(e.zoom)||(a=!1),nt(e.pan)||(o=!1),!a&&!o)return this;if(a){var d=e.zoom;d<r.minZoom||d>r.maxZoom||!r.zoomingEnabled?l=!0:(r.zoom=d,s.push("zoom"))}if(o&&(!l||!e.cancelOnFailedZoom)&&r.panningEnabled){var f=e.pan;be(f.x)&&(r.pan.x=f.x,u=!1),be(f.y)&&(r.pan.y=f.y,u=!1),u||s.push("pan")}return s.length>0&&(s.push("viewport"),this.emit(s.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(Fe(e)){var a=e;e=this.mutableElements().filter(a)}else Mr(e)||(e=this.mutableElements());if(e.length!==0){var o=e.boundingBox(),s=this.width(),l=this.height();r=r===void 0?this._private.zoom:r;var u={x:(s-r*(o.x1+o.x2))/2,y:(l-r*(o.y1+o.y2))/2};return u}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container,a=this;return e.sizeCache=e.sizeCache||(r?function(){var o=a.window().getComputedStyle(r),s=function(u){return parseFloat(o.getPropertyValue(u))};return{width:r.clientWidth-s("padding-left")-s("padding-right"),height:r.clientHeight-s("padding-top")-s("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,a=this.renderedExtent(),o={x1:(a.x1-e.x)/r,x2:(a.x2-e.x)/r,y1:(a.y1-e.y)/r,y2:(a.y2-e.y)/r};return o.w=o.x2-o.x1,o.h=o.y2-o.y1,o},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};za.centre=za.center;za.autolockNodes=za.autolock;za.autoungrabifyNodes=za.autoungrabify;var $o={data:ct.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:ct.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:ct.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ct.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};$o.attr=$o.data;$o.removeAttr=$o.removeData;var Uo=function(e){var r=this;e=Ue({},e);var a=e.container;a&&!Ml(a)&&Ml(a[0])&&(a=a[0]);var o=a?a._cyreg:null;o=o||{},o&&o.cy&&(o.cy.destroy(),o={});var s=o.readies=o.readies||[];a&&(a._cyreg=o),o.cy=r;var l=jt!==void 0&&a!==void 0&&!e.headless,u=e;u.layout=Ue({name:l?"grid":"null"},u.layout),u.renderer=Ue({name:l?"canvas":"null"},u.renderer);var d=function(m,S,x){return S!==void 0?S:x!==void 0?x:m},f=this._private={container:a,ready:!1,options:u,elements:new Jt(this),listeners:[],aniEles:new Jt(this),data:u.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:d(!0,u.zoomingEnabled),userZoomingEnabled:d(!0,u.userZoomingEnabled),panningEnabled:d(!0,u.panningEnabled),userPanningEnabled:d(!0,u.userPanningEnabled),boxSelectionEnabled:d(!0,u.boxSelectionEnabled),autolock:d(!1,u.autolock,u.autolockNodes),autoungrabify:d(!1,u.autoungrabify,u.autoungrabifyNodes),autounselectify:d(!1,u.autounselectify),styleEnabled:u.styleEnabled===void 0?l:u.styleEnabled,zoom:be(u.zoom)?u.zoom:1,pan:{x:nt(u.pan)&&be(u.pan.x)?u.pan.x:0,y:nt(u.pan)&&be(u.pan.y)?u.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:d(250,u.multiClickDebounceTime)};this.createEmitter(),this.selectionType(u.selectionType),this.zoomRange({min:u.minZoom,max:u.maxZoom});var v=function(m,S){var x=m.some(W0);if(x)return Ni.all(m).then(S);S(m)};f.styleEnabled&&r.setStyle([]);var h=Ue({},u,u.renderer);r.initRenderer(h);var g=function(m,S,x){r.notifications(!1);var E=r.mutableElements();E.length>0&&E.remove(),m!=null&&(nt(m)||ht(m))&&r.add(m),r.one("layoutready",function(k){r.notifications(!0),r.emit(k),r.one("load",S),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",x),r.emit("done")});var b=Ue({},r._private.options.layout);b.eles=r.elements(),r.layout(b).run()};v([u.style,u.elements],function(y){var m=y[0],S=y[1];f.styleEnabled&&r.style().append(m),g(S,function(){r.startAnimationLoop(),f.ready=!0,Tt(u.ready)&&r.on("ready",u.ready);for(var x=0;x<s.length;x++){var E=s[x];r.on("ready",E)}o&&(o.readies=[]),r.emit("ready")},u.done)})},_l=Uo.prototype;Ue(_l,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return jt;var r=this._private.container.ownerDocument;return r===void 0||r==null?jt:r.defaultView||jt},mount:function(e){if(e!=null){var r=this,a=r._private,o=a.options;return!Ml(e)&&Ml(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),a.container=e,a.styleEnabled=!0,r.invalidateSize(),r.initRenderer(Ue({},o,o.renderer,{name:o.renderer.name==="null"?"canvas":o.renderer.name})),r.startAnimationLoop(),r.style(o.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return dn(this._private.options)},json:function(e){var r=this,a=r._private,o=r.mutableElements(),s=function(D){return r.getElementById(D.id())};if(nt(e)){if(r.startBatch(),e.elements){var l={},u=function(D,B){for(var N=[],T=[],O=0;O<D.length;O++){var I=D[O];if(!I.data.id){ft("cy.json() cannot handle elements without an ID attribute");continue}var j=""+I.data.id,M=r.getElementById(j);l[j]=!0,M.length!==0?T.push({ele:M,json:I}):(B&&(I.group=B),N.push(I))}r.add(N);for(var A=0;A<T.length;A++){var F=T[A],z=F.ele,$=F.json;z.json($)}};if(ht(e.elements))u(e.elements);else for(var d=["nodes","edges"],f=0;f<d.length;f++){var v=d[f],h=e.elements[v];ht(h)&&u(h,v)}var g=r.collection();o.filter(function(k){return!l[k.id()]}).forEach(function(k){k.isParent()?g.merge(k):k.remove()}),g.forEach(function(k){return k.children().move({parent:null})}),g.forEach(function(k){return s(k).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==a.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==a.pan.x||e.pan.y!==a.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var y=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],m=0;m<y.length;m++){var S=y[m];e[S]!=null&&r[S](e[S])}return r.endBatch(),this}else{var x=!!e,E={};x?E.elements=this.elements().map(function(k){return k.json()}):(E.elements={},o.forEach(function(k){var D=k.group();E.elements[D]||(E.elements[D]=[]),E.elements[D].push(k.json())})),this._private.styleEnabled&&(E.style=r.style().json()),E.data=dn(r.data());var b=a.options;return E.zoomingEnabled=a.zoomingEnabled,E.userZoomingEnabled=a.userZoomingEnabled,E.zoom=a.zoom,E.minZoom=a.minZoom,E.maxZoom=a.maxZoom,E.panningEnabled=a.panningEnabled,E.userPanningEnabled=a.userPanningEnabled,E.pan=dn(a.pan),E.boxSelectionEnabled=a.boxSelectionEnabled,E.renderer=dn(b.renderer),E.hideEdgesOnViewport=b.hideEdgesOnViewport,E.textureOnViewport=b.textureOnViewport,E.wheelSensitivity=b.wheelSensitivity,E.motionBlur=b.motionBlur,E.multiClickDebounceTime=b.multiClickDebounceTime,E}}});_l.$id=_l.getElementById;[BC,zC,nm,yf,Nl,jC,wf,Ll,$C,za,$o].forEach(function(t){Ue(_l,t)});var HC={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},qC={maximal:!1,acyclic:!1},hi=function(e){return e.scratch("breadthfirst")},kp=function(e,r){return e.scratch("breadthfirst",r)};function am(t){this.options=Ue({},HC,qC,t)}am.prototype.run=function(){var t=this.options,e=t,r=t.cy,a=e.eles,o=a.nodes().filter(function(Ee){return!Ee.isParent()}),s=a,l=e.directed,u=e.acyclic||e.maximal||e.maximalAdjustments>0,d=Nr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),f;if(Mr(e.roots))f=e.roots;else if(ht(e.roots)){for(var v=[],h=0;h<e.roots.length;h++){var g=e.roots[h],y=r.getElementById(g);v.push(y)}f=r.collection(v)}else if(Fe(e.roots))f=r.$(e.roots);else if(l)f=o.roots();else{var m=a.components();f=r.collection();for(var S=function(xe){var Re=m[xe],Pe=Re.maxDegree(!1),Te=Re.filter(function(ze){return ze.degree(!1)===Pe});f=f.add(Te)},x=0;x<m.length;x++)S(x)}var E=[],b={},k=function(xe,Re){E[Re]==null&&(E[Re]=[]);var Pe=E[Re].length;E[Re].push(xe),kp(xe,{index:Pe,depth:Re})},D=function(xe,Re){var Pe=hi(xe),Te=Pe.depth,ze=Pe.index;E[Te][ze]=null,k(xe,Re)};s.bfs({roots:f,directed:e.directed,visit:function(xe,Re,Pe,Te,ze){var Ze=xe[0],Qe=Ze.id();k(Ze,ze),b[Qe]=!0}});for(var B=[],N=0;N<o.length;N++){var T=o[N];b[T.id()]||B.push(T)}var O=function(xe){for(var Re=E[xe],Pe=0;Pe<Re.length;Pe++){var Te=Re[Pe];if(Te==null){Re.splice(Pe,1),Pe--;continue}kp(Te,{depth:xe,index:Pe})}},I=function(){for(var xe=0;xe<E.length;xe++)O(xe)},j=function(xe,Re){for(var Pe=hi(xe),Te=xe.incomers().filter(function(Je){return Je.isNode()&&a.has(Je)}),ze=-1,Ze=xe.id(),Qe=0;Qe<Te.length;Qe++){var Ge=Te[Qe],at=hi(Ge);ze=Math.max(ze,at.depth)}if(Pe.depth<=ze){if(!e.acyclic&&Re[Ze])return null;var Ye=ze+1;return D(xe,Ye),Re[Ze]=Ye,!0}return!1};if(l&&u){var M=[],A={},F=function(xe){return M.push(xe)},z=function(){return M.shift()};for(o.forEach(function(Ee){return M.push(Ee)});M.length>0;){var $=z(),H=j($,A);if(H)$.outgoers().filter(function(Ee){return Ee.isNode()&&a.has(Ee)}).forEach(F);else if(H===null){ft("Detected double maximal shift for node `"+$.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}I();var W=0;if(e.avoidOverlap)for(var U=0;U<o.length;U++){var G=o[U],K=G.layoutDimensions(e),L=K.w,_=K.h;W=Math.max(W,L,_)}var Z={},te=function(xe){if(Z[xe.id()])return Z[xe.id()];for(var Re=hi(xe).depth,Pe=xe.neighborhood(),Te=0,ze=0,Ze=0;Ze<Pe.length;Ze++){var Qe=Pe[Ze];if(!(Qe.isEdge()||Qe.isParent()||!o.has(Qe))){var Ge=hi(Qe);if(Ge!=null){var at=Ge.index,Ye=Ge.depth;if(!(at==null||Ye==null)){var Je=E[Ye].length;Ye<Re&&(Te+=at/Je,ze++)}}}}return ze=Math.max(1,ze),Te=Te/ze,ze===0&&(Te=0),Z[xe.id()]=Te,Te},oe=function(xe,Re){var Pe=te(xe),Te=te(Re),ze=Pe-Te;return ze===0?ag(xe.id(),Re.id()):ze};e.depthSort!==void 0&&(oe=e.depthSort);for(var le=0;le<E.length;le++)E[le].sort(oe),O(le);for(var ce=[],ie=0;ie<B.length;ie++)ce.push(B[ie]);E.unshift(ce),I();for(var Q=0,ue=0;ue<E.length;ue++)Q=Math.max(E[ue].length,Q);var de={x:d.x1+d.w/2,y:d.x1+d.h/2},Se=E.reduce(function(Ee,xe){return Math.max(Ee,xe.length)},0),Ae=function(xe){var Re=hi(xe),Pe=Re.depth,Te=Re.index,ze=E[Pe].length,Ze=Math.max(d.w/((e.grid?Se:ze)+1),W),Qe=Math.max(d.h/(E.length+1),W),Ge=Math.min(d.w/2/E.length,d.h/2/E.length);if(Ge=Math.max(Ge,W),e.circle){var Ye=Ge*Pe+Ge-(E.length>0&&E[0].length<=3?Ge/2:0),Je=2*Math.PI/E[Pe].length*Te;return Pe===0&&E[0].length===1&&(Ye=1),{x:de.x+Ye*Math.cos(Je),y:de.y+Ye*Math.sin(Je)}}else{var at={x:de.x+(Te+1-(ze+1)/2)*Ze,y:(Pe+1)*Qe};return at}};return a.nodes().layoutPositions(this,e,Ae),this};var WC={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function im(t){this.options=Ue({},WC,t)}im.prototype.run=function(){var t=this.options,e=t,r=t.cy,a=e.eles,o=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,s=a.nodes().not(":parent");e.sort&&(s=s.sort(e.sort));for(var l=Nr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),u={x:l.x1+l.w/2,y:l.y1+l.h/2},d=e.sweep===void 0?2*Math.PI-2*Math.PI/s.length:e.sweep,f=d/Math.max(1,s.length-1),v,h=0,g=0;g<s.length;g++){var y=s[g],m=y.layoutDimensions(e),S=m.w,x=m.h;h=Math.max(h,S,x)}if(be(e.radius)?v=e.radius:s.length<=1?v=0:v=Math.min(l.h,l.w)/2-h,s.length>1&&e.avoidOverlap){h*=1.75;var E=Math.cos(f)-Math.cos(0),b=Math.sin(f)-Math.sin(0),k=Math.sqrt(h*h/(E*E+b*b));v=Math.max(k,v)}var D=function(N,T){var O=e.startAngle+T*f*(o?1:-1),I=v*Math.cos(O),j=v*Math.sin(O),M={x:u.x+I,y:u.y+j};return M};return a.nodes().layoutPositions(this,e,D),this};var KC={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function om(t){this.options=Ue({},KC,t)}om.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,a=t.cy,o=e.eles,s=o.nodes().not(":parent"),l=Nr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:a.width(),h:a.height()}),u={x:l.x1+l.w/2,y:l.y1+l.h/2},d=[],f=0,v=0;v<s.length;v++){var h=s[v],g=void 0;g=e.concentric(h),d.push({value:g,node:h}),h._private.scratch.concentric=g}s.updateStyle();for(var y=0;y<s.length;y++){var m=s[y],S=m.layoutDimensions(e);f=Math.max(f,S.w,S.h)}d.sort(function(Ee,xe){return xe.value-Ee.value});for(var x=e.levelWidth(s),E=[[]],b=E[0],k=0;k<d.length;k++){var D=d[k];if(b.length>0){var B=Math.abs(b[0].value-D.value);B>=x&&(b=[],E.push(b))}b.push(D)}var N=f+e.minNodeSpacing;if(!e.avoidOverlap){var T=E.length>0&&E[0].length>1,O=Math.min(l.w,l.h)/2-N,I=O/(E.length+T?1:0);N=Math.min(N,I)}for(var j=0,M=0;M<E.length;M++){var A=E[M],F=e.sweep===void 0?2*Math.PI-2*Math.PI/A.length:e.sweep,z=A.dTheta=F/Math.max(1,A.length-1);if(A.length>1&&e.avoidOverlap){var $=Math.cos(z)-Math.cos(0),H=Math.sin(z)-Math.sin(0),W=Math.sqrt(N*N/($*$+H*H));j=Math.max(W,j)}A.r=j,j+=N}if(e.equidistant){for(var U=0,G=0,K=0;K<E.length;K++){var L=E[K],_=L.r-G;U=Math.max(U,_)}G=0;for(var Z=0;Z<E.length;Z++){var te=E[Z];Z===0&&(G=te.r),te.r=G,G+=U}}for(var oe={},le=0;le<E.length;le++)for(var ce=E[le],ie=ce.dTheta,Q=ce.r,ue=0;ue<ce.length;ue++){var de=ce[ue],Se=e.startAngle+(r?1:-1)*ie*ue,Ae={x:u.x+Q*Math.cos(Se),y:u.y+Q*Math.sin(Se)};oe[de.node.id()]=Ae}return o.nodes().layoutPositions(this,e,function(Ee){var xe=Ee.id();return oe[xe]}),this};var nf,GC={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function ou(t){this.options=Ue({},GC,t),this.options.layout=this;var e=this.options.eles.nodes(),r=this.options.eles.edges(),a=r.filter(function(o){var s=o.source().data("id"),l=o.target().data("id"),u=e.some(function(f){return f.data("id")===s}),d=e.some(function(f){return f.data("id")===l});return!u||!d});this.options.eles=this.options.eles.not(a)}ou.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?nf=!0:nf=!1;var a=YC(e,r,t);nf&&ZC(a),t.randomize&&JC(a);var o=Dn(),s=function(){eb(a,e,t),t.fit===!0&&e.fit(t.padding)},l=function(g){return!(r.stopped||g>=t.numIter||(tb(a,t),a.temperature=a.temperature*t.coolingFactor,a.temperature<t.minTemp))},u=function(){if(t.animate===!0||t.animate===!1)s(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var g=t.eles.nodes(),y=sm(a,t,g);g.layoutPositions(r,t,y)}},d=0,f=!0;if(t.animate===!0){var v=function h(){for(var g=0;f&&g<t.refresh;)f=l(d),d++,g++;if(!f)Dp(a,t),u();else{var y=Dn();y-o>=t.animationThreshold&&s(),Ol(h)}};v()}else{for(;f;)f=l(d),d++;Dp(a,t),u()}return this};ou.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};ou.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var YC=function(e,r,a){for(var o=a.eles.edges(),s=a.eles.nodes(),l=Nr(a.boundingBox?a.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),u={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:s.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:o.size(),temperature:a.initialTemp,clientWidth:l.w,clientHeight:l.h,boundingBox:l},d=a.eles.components(),f={},v=0;v<d.length;v++)for(var h=d[v],g=0;g<h.length;g++){var y=h[g];f[y.id()]=v}for(var v=0;v<u.nodeSize;v++){var m=s[v],S=m.layoutDimensions(a),x={};x.isLocked=m.locked(),x.id=m.data("id"),x.parentId=m.data("parent"),x.cmptId=f[m.id()],x.children=[],x.positionX=m.position("x"),x.positionY=m.position("y"),x.offsetX=0,x.offsetY=0,x.height=S.w,x.width=S.h,x.maxX=x.positionX+x.width/2,x.minX=x.positionX-x.width/2,x.maxY=x.positionY+x.height/2,x.minY=x.positionY-x.height/2,x.padLeft=parseFloat(m.style("padding")),x.padRight=parseFloat(m.style("padding")),x.padTop=parseFloat(m.style("padding")),x.padBottom=parseFloat(m.style("padding")),x.nodeRepulsion=Tt(a.nodeRepulsion)?a.nodeRepulsion(m):a.nodeRepulsion,u.layoutNodes.push(x),u.idToIndex[x.id]=v}for(var E=[],b=0,k=-1,D=[],v=0;v<u.nodeSize;v++){var m=u.layoutNodes[v],B=m.parentId;B!=null?u.layoutNodes[u.idToIndex[B]].children.push(m.id):(E[++k]=m.id,D.push(m.id))}for(u.graphSet.push(D);b<=k;){var N=E[b++],T=u.idToIndex[N],y=u.layoutNodes[T],O=y.children;if(O.length>0){u.graphSet.push(O);for(var v=0;v<O.length;v++)E[++k]=O[v]}}for(var v=0;v<u.graphSet.length;v++)for(var I=u.graphSet[v],g=0;g<I.length;g++){var j=u.idToIndex[I[g]];u.indexToGraph[j]=v}for(var v=0;v<u.edgeSize;v++){var M=o[v],A={};A.id=M.data("id"),A.sourceId=M.data("source"),A.targetId=M.data("target");var F=Tt(a.idealEdgeLength)?a.idealEdgeLength(M):a.idealEdgeLength,z=Tt(a.edgeElasticity)?a.edgeElasticity(M):a.edgeElasticity,$=u.idToIndex[A.sourceId],H=u.idToIndex[A.targetId],W=u.indexToGraph[$],U=u.indexToGraph[H];if(W!=U){for(var G=QC(A.sourceId,A.targetId,u),K=u.graphSet[G],L=0,x=u.layoutNodes[$];K.indexOf(x.id)===-1;)x=u.layoutNodes[u.idToIndex[x.parentId]],L++;for(x=u.layoutNodes[H];K.indexOf(x.id)===-1;)x=u.layoutNodes[u.idToIndex[x.parentId]],L++;F*=L*a.nestingFactor}A.idealLength=F,A.elasticity=z,u.layoutEdges.push(A)}return u},QC=function(e,r,a){var o=XC(e,r,0,a);return 2>o.count?0:o.graph},XC=function t(e,r,a,o){var s=o.graphSet[a];if(-1<s.indexOf(e)&&-1<s.indexOf(r))return{count:2,graph:a};for(var l=0,u=0;u<s.length;u++){var d=s[u],f=o.idToIndex[d],v=o.layoutNodes[f].children;if(v.length!==0){var h=o.indexToGraph[o.idToIndex[v[0]]],g=t(e,r,h,o);if(g.count!==0)if(g.count===1){if(l++,l===2)break}else return g}}return{count:l,graph:a}},ZC,JC=function(e,r){for(var a=e.clientWidth,o=e.clientHeight,s=0;s<e.nodeSize;s++){var l=e.layoutNodes[s];l.children.length===0&&!l.isLocked&&(l.positionX=Math.random()*a,l.positionY=Math.random()*o)}},sm=function(e,r,a){var o=e.boundingBox,s={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(a.forEach(function(l){var u=e.layoutNodes[e.idToIndex[l.data("id")]];s.x1=Math.min(s.x1,u.positionX),s.x2=Math.max(s.x2,u.positionX),s.y1=Math.min(s.y1,u.positionY),s.y2=Math.max(s.y2,u.positionY)}),s.w=s.x2-s.x1,s.h=s.y2-s.y1),function(l,u){var d=e.layoutNodes[e.idToIndex[l.data("id")]];if(r.boundingBox){var f=(d.positionX-s.x1)/s.w,v=(d.positionY-s.y1)/s.h;return{x:o.x1+f*o.w,y:o.y1+v*o.h}}else return{x:d.positionX,y:d.positionY}}},eb=function(e,r,a){var o=a.layout,s=a.eles.nodes(),l=sm(e,a,s);s.positions(l),e.ready!==!0&&(e.ready=!0,o.one("layoutready",a.ready),o.emit({type:"layoutready",layout:this}))},tb=function(e,r,a){rb(e,r),ib(e),ob(e,r),sb(e),lb(e)},rb=function(e,r){for(var a=0;a<e.graphSet.length;a++)for(var o=e.graphSet[a],s=o.length,l=0;l<s;l++)for(var u=e.layoutNodes[e.idToIndex[o[l]]],d=l+1;d<s;d++){var f=e.layoutNodes[e.idToIndex[o[d]]];nb(u,f,e,r)}},Tp=function(e){return-e+2*e*Math.random()},nb=function(e,r,a,o){var s=e.cmptId,l=r.cmptId;if(!(s!==l&&!a.isCompound)){var u=r.positionX-e.positionX,d=r.positionY-e.positionY,f=1;u===0&&d===0&&(u=Tp(f),d=Tp(f));var v=ab(e,r,u,d);if(v>0)var h=o.nodeOverlap*v,g=Math.sqrt(u*u+d*d),y=h*u/g,m=h*d/g;else var S=$l(e,u,d),x=$l(r,-1*u,-1*d),E=x.x-S.x,b=x.y-S.y,k=E*E+b*b,g=Math.sqrt(k),h=(e.nodeRepulsion+r.nodeRepulsion)/k,y=h*E/g,m=h*b/g;e.isLocked||(e.offsetX-=y,e.offsetY-=m),r.isLocked||(r.offsetX+=y,r.offsetY+=m)}},ab=function(e,r,a,o){if(a>0)var s=e.maxX-r.minX;else var s=r.maxX-e.minX;if(o>0)var l=e.maxY-r.minY;else var l=r.maxY-e.minY;return s>=0&&l>=0?Math.sqrt(s*s+l*l):0},$l=function(e,r,a){var o=e.positionX,s=e.positionY,l=e.height||1,u=e.width||1,d=a/r,f=l/u,v={};return r===0&&0<a||r===0&&0>a?(v.x=o,v.y=s+l/2,v):0<r&&-1*f<=d&&d<=f?(v.x=o+u/2,v.y=s+u*a/2/r,v):0>r&&-1*f<=d&&d<=f?(v.x=o-u/2,v.y=s-u*a/2/r,v):0<a&&(d<=-1*f||d>=f)?(v.x=o+l*r/2/a,v.y=s+l/2,v):(0>a&&(d<=-1*f||d>=f)&&(v.x=o-l*r/2/a,v.y=s-l/2),v)},ib=function(e,r){for(var a=0;a<e.edgeSize;a++){var o=e.layoutEdges[a],s=e.idToIndex[o.sourceId],l=e.layoutNodes[s],u=e.idToIndex[o.targetId],d=e.layoutNodes[u],f=d.positionX-l.positionX,v=d.positionY-l.positionY;if(!(f===0&&v===0)){var h=$l(l,f,v),g=$l(d,-1*f,-1*v),y=g.x-h.x,m=g.y-h.y,S=Math.sqrt(y*y+m*m),x=Math.pow(o.idealLength-S,2)/o.elasticity;if(S!==0)var E=x*y/S,b=x*m/S;else var E=0,b=0;l.isLocked||(l.offsetX+=E,l.offsetY+=b),d.isLocked||(d.offsetX-=E,d.offsetY-=b)}}},ob=function(e,r){if(r.gravity!==0)for(var a=1,o=0;o<e.graphSet.length;o++){var s=e.graphSet[o],l=s.length;if(o===0)var u=e.clientHeight/2,d=e.clientWidth/2;else var f=e.layoutNodes[e.idToIndex[s[0]]],v=e.layoutNodes[e.idToIndex[f.parentId]],u=v.positionX,d=v.positionY;for(var h=0;h<l;h++){var g=e.layoutNodes[e.idToIndex[s[h]]];if(!g.isLocked){var y=u-g.positionX,m=d-g.positionY,S=Math.sqrt(y*y+m*m);if(S>a){var x=r.gravity*y/S,E=r.gravity*m/S;g.offsetX+=x,g.offsetY+=E}}}}},sb=function(e,r){var a=[],o=0,s=-1;for(a.push.apply(a,e.graphSet[0]),s+=e.graphSet[0].length;o<=s;){var l=a[o++],u=e.idToIndex[l],d=e.layoutNodes[u],f=d.children;if(0<f.length&&!d.isLocked){for(var v=d.offsetX,h=d.offsetY,g=0;g<f.length;g++){var y=e.layoutNodes[e.idToIndex[f[g]]];y.offsetX+=v,y.offsetY+=h,a[++s]=f[g]}d.offsetX=0,d.offsetY=0}}},lb=function(e,r){for(var a=0;a<e.nodeSize;a++){var o=e.layoutNodes[a];0<o.children.length&&(o.maxX=void 0,o.minX=void 0,o.maxY=void 0,o.minY=void 0)}for(var a=0;a<e.nodeSize;a++){var o=e.layoutNodes[a];if(!(0<o.children.length||o.isLocked)){var s=ub(o.offsetX,o.offsetY,e.temperature);o.positionX+=s.x,o.positionY+=s.y,o.offsetX=0,o.offsetY=0,o.minX=o.positionX-o.width,o.maxX=o.positionX+o.width,o.minY=o.positionY-o.height,o.maxY=o.positionY+o.height,cb(o,e)}}for(var a=0;a<e.nodeSize;a++){var o=e.layoutNodes[a];0<o.children.length&&!o.isLocked&&(o.positionX=(o.maxX+o.minX)/2,o.positionY=(o.maxY+o.minY)/2,o.width=o.maxX-o.minX,o.height=o.maxY-o.minY)}},ub=function(e,r,a){var o=Math.sqrt(e*e+r*r);if(o>a)var s={x:a*e/o,y:a*r/o};else var s={x:e,y:r};return s},cb=function t(e,r){var a=e.parentId;if(a!=null){var o=r.layoutNodes[r.idToIndex[a]],s=!1;if((o.maxX==null||e.maxX+o.padRight>o.maxX)&&(o.maxX=e.maxX+o.padRight,s=!0),(o.minX==null||e.minX-o.padLeft<o.minX)&&(o.minX=e.minX-o.padLeft,s=!0),(o.maxY==null||e.maxY+o.padBottom>o.maxY)&&(o.maxY=e.maxY+o.padBottom,s=!0),(o.minY==null||e.minY-o.padTop<o.minY)&&(o.minY=e.minY-o.padTop,s=!0),s)return t(o,r)}},Dp=function(e,r){for(var a=e.layoutNodes,o=[],s=0;s<a.length;s++){var l=a[s],u=l.cmptId,d=o[u]=o[u]||[];d.push(l)}for(var f=0,s=0;s<o.length;s++){var v=o[s];if(v){v.x1=1/0,v.x2=-1/0,v.y1=1/0,v.y2=-1/0;for(var h=0;h<v.length;h++){var g=v[h];v.x1=Math.min(v.x1,g.positionX-g.width/2),v.x2=Math.max(v.x2,g.positionX+g.width/2),v.y1=Math.min(v.y1,g.positionY-g.height/2),v.y2=Math.max(v.y2,g.positionY+g.height/2)}v.w=v.x2-v.x1,v.h=v.y2-v.y1,f+=v.w*v.h}}o.sort(function(b,k){return k.w*k.h-b.w*b.h});for(var y=0,m=0,S=0,x=0,E=Math.sqrt(f)*e.clientWidth/e.clientHeight,s=0;s<o.length;s++){var v=o[s];if(v){for(var h=0;h<v.length;h++){var g=v[h];g.isLocked||(g.positionX+=y-v.x1,g.positionY+=m-v.y1)}y+=v.w+r.componentSpacing,S+=v.w+r.componentSpacing,x=Math.max(x,v.h),S>E&&(m+=x+r.componentSpacing,y=0,S=0,x=0)}}},fb={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function lm(t){this.options=Ue({},fb,t)}lm.prototype.run=function(){var t=this.options,e=t,r=t.cy,a=e.eles,o=a.nodes().not(":parent");e.sort&&(o=o.sort(e.sort));var s=Nr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(s.h===0||s.w===0)a.nodes().layoutPositions(this,e,function(Z){return{x:s.x1,y:s.y1}});else{var l=o.size(),u=Math.sqrt(l*s.h/s.w),d=Math.round(u),f=Math.round(s.w/s.h*u),v=function(te){if(te==null)return Math.min(d,f);var oe=Math.min(d,f);oe==d?d=te:f=te},h=function(te){if(te==null)return Math.max(d,f);var oe=Math.max(d,f);oe==d?d=te:f=te},g=e.rows,y=e.cols!=null?e.cols:e.columns;if(g!=null&&y!=null)d=g,f=y;else if(g!=null&&y==null)d=g,f=Math.ceil(l/d);else if(g==null&&y!=null)f=y,d=Math.ceil(l/f);else if(f*d>l){var m=v(),S=h();(m-1)*S>=l?v(m-1):(S-1)*m>=l&&h(S-1)}else for(;f*d<l;){var x=v(),E=h();(E+1)*x>=l?h(E+1):v(x+1)}var b=s.w/f,k=s.h/d;if(e.condense&&(b=0,k=0),e.avoidOverlap)for(var D=0;D<o.length;D++){var B=o[D],N=B._private.position;(N.x==null||N.y==null)&&(N.x=0,N.y=0);var T=B.layoutDimensions(e),O=e.avoidOverlapPadding,I=T.w+O,j=T.h+O;b=Math.max(b,I),k=Math.max(k,j)}for(var M={},A=function(te,oe){return!!M["c-"+te+"-"+oe]},F=function(te,oe){M["c-"+te+"-"+oe]=!0},z=0,$=0,H=function(){$++,$>=f&&($=0,z++)},W={},U=0;U<o.length;U++){var G=o[U],K=e.position(G);if(K&&(K.row!==void 0||K.col!==void 0)){var L={row:K.row,col:K.col};if(L.col===void 0)for(L.col=0;A(L.row,L.col);)L.col++;else if(L.row===void 0)for(L.row=0;A(L.row,L.col);)L.row++;W[G.id()]=L,F(L.row,L.col)}}var _=function(te,oe){var le,ce;if(te.locked()||te.isParent())return!1;var ie=W[te.id()];if(ie)le=ie.col*b+b/2+s.x1,ce=ie.row*k+k/2+s.y1;else{for(;A(z,$);)H();le=$*b+b/2+s.x1,ce=z*k+k/2+s.y1,F(z,$),H()}return{x:le,y:ce}};o.layoutPositions(this,e,_)}return this};var db={ready:function(){},stop:function(){}};function Yf(t){this.options=Ue({},db,t)}Yf.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};Yf.prototype.stop=function(){return this};var vb={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function um(t){this.options=Ue({},vb,t)}um.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),a=Tt(t.positions);function o(s){if(t.positions==null)return mw(s.position());if(a)return t.positions(s);var l=t.positions[s._private.data.id];return l??null}return r.layoutPositions(this,t,function(s,l){var u=o(s);return s.locked()||u==null?!1:u}),this};var hb={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function cm(t){this.options=Ue({},hb,t)}cm.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,a=Nr(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),o=function(l,u){return{x:a.x1+Math.round(Math.random()*a.w),y:a.y1+Math.round(Math.random()*a.h)}};return r.nodes().layoutPositions(this,t,o),this};var pb=[{name:"breadthfirst",impl:am},{name:"circle",impl:im},{name:"concentric",impl:om},{name:"cose",impl:ou},{name:"grid",impl:lm},{name:"null",impl:Yf},{name:"preset",impl:um},{name:"random",impl:cm}];function fm(t){this.options=t,this.notifications=0}var Pp=function(){},Np=function(){throw new Error("A headless instance can not render images")};fm.prototype={recalculateRenderedStyle:Pp,notify:function(){this.notifications++},init:Pp,isHeadless:function(){return!0},png:Np,jpg:Np};var Qf={};Qf.arrowShapeWidth=.3;Qf.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(f,v,h,g,y,m,S){var x=y.x-h/2-S,E=y.x+h/2+S,b=y.y-h/2-S,k=y.y+h/2+S,D=x<=f&&f<=E&&b<=v&&v<=k;return D},a=function(f,v,h,g,y){var m=f*Math.cos(g)-v*Math.sin(g),S=f*Math.sin(g)+v*Math.cos(g),x=m*h,E=S*h,b=x+y.x,k=E+y.y;return{x:b,y:k}},o=function(f,v,h,g){for(var y=[],m=0;m<f.length;m+=2){var S=f[m],x=f[m+1];y.push(a(S,x,v,h,g))}return y},s=function(f){for(var v=[],h=0;h<f.length;h++){var g=f[h];v.push(g.x,g.y)}return v},l=function(f){return f.pstyle("width").pfValue*f.pstyle("arrow-scale").pfValue*2},u=function(f,v){Fe(v)&&(v=t[v]),t[f]=Ue({name:f,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(g,y,m,S,x,E){var b=s(o(this.points,m+2*E,S,x)),k=Pr(g,y,b);return k},roughCollide:r,draw:function(g,y,m,S){var x=o(this.points,y,m,S);e.arrowShapeImpl("polygon")(g,x)},spacing:function(g){return 0},gap:l},v)};u("none",{collide:Al,roughCollide:Al,draw:Of,spacing:jh,gap:jh}),u("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),u("arrow","triangle"),u("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(f,v,h,g,y){var m=o(this.points,v,h,g),S=this.controlPoint,x=a(S[0],S[1],v,h,g);e.arrowShapeImpl(this.name)(f,m,x)},gap:function(f){return l(f)*.8}}),u("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(f,v,h,g,y,m,S){var x=s(o(this.points,h+2*S,g,y)),E=s(o(this.pointsTee,h+2*S,g,y)),b=Pr(f,v,x)||Pr(f,v,E);return b},draw:function(f,v,h,g,y){var m=o(this.points,v,h,g),S=o(this.pointsTee,v,h,g);e.arrowShapeImpl(this.name)(f,m,S)}}),u("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(f,v,h,g,y,m,S){var x=y,E=Math.pow(x.x-f,2)+Math.pow(x.y-v,2)<=Math.pow((h+2*S)*this.radius,2),b=s(o(this.points,h+2*S,g,y));return Pr(f,v,b)||E},draw:function(f,v,h,g,y){var m=o(this.pointsTr,v,h,g);e.arrowShapeImpl(this.name)(f,m,g.x,g.y,this.radius*v)},spacing:function(f){return e.getArrowWidth(f.pstyle("width").pfValue,f.pstyle("arrow-scale").value)*this.radius}}),u("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(f,v){var h=this.baseCrossLinePts.slice(),g=v/f,y=3,m=5;return h[y]=h[y]-g,h[m]=h[m]-g,h},collide:function(f,v,h,g,y,m,S){var x=s(o(this.points,h+2*S,g,y)),E=s(o(this.crossLinePts(h,m),h+2*S,g,y)),b=Pr(f,v,x)||Pr(f,v,E);return b},draw:function(f,v,h,g,y){var m=o(this.points,v,h,g),S=o(this.crossLinePts(v,y),v,h,g);e.arrowShapeImpl(this.name)(f,m,S)}}),u("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(f){return l(f)*.525}}),u("circle",{radius:.15,collide:function(f,v,h,g,y,m,S){var x=y,E=Math.pow(x.x-f,2)+Math.pow(x.y-v,2)<=Math.pow((h+2*S)*this.radius,2);return E},draw:function(f,v,h,g,y){e.arrowShapeImpl(this.name)(f,g.x,g.y,this.radius*v)},spacing:function(f){return e.getArrowWidth(f.pstyle("width").pfValue,f.pstyle("arrow-scale").value)*this.radius}}),u("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(f){return 1},gap:function(f){return 1}}),u("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),u("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(f){return f.pstyle("width").pfValue*f.pstyle("arrow-scale").value}}),u("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(f){return .95*f.pstyle("width").pfValue*f.pstyle("arrow-scale").value}})};var ja={};ja.projectIntoViewport=function(t,e){var r=this.cy,a=this.findContainerClientCoords(),o=a[0],s=a[1],l=a[4],u=r.pan(),d=r.zoom(),f=((t-o)/l-u.x)/d,v=((e-s)/l-u.y)/d;return[f,v]};ja.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=this.cy.window().getComputedStyle(t),a=function(E){return parseFloat(r.getPropertyValue(E))},o={left:a("padding-left"),right:a("padding-right"),top:a("padding-top"),bottom:a("padding-bottom")},s={left:a("border-left-width"),right:a("border-right-width"),top:a("border-top-width"),bottom:a("border-bottom-width")},l=t.clientWidth,u=t.clientHeight,d=o.left+o.right,f=o.top+o.bottom,v=s.left+s.right,h=e.width/(l+v),g=l-d,y=u-f,m=e.left+o.left+s.left,S=e.top+o.top+s.top;return this.containerBB=[m,S,g,y,h]};ja.invalidateContainerClientCoordsCache=function(){this.containerBB=null};ja.findNearestElement=function(t,e,r,a){return this.findNearestElements(t,e,r,a)[0]};ja.findNearestElements=function(t,e,r,a){var o=this,s=this,l=s.getCachedZSortedEles(),u=[],d=s.cy.zoom(),f=s.cy.hasCompoundNodes(),v=(a?24:8)/d,h=(a?8:2)/d,g=(a?8:2)/d,y=1/0,m,S;r&&(l=l.interactive);function x(T,O){if(T.isNode()){if(S)return;S=T,u.push(T)}if(T.isEdge()&&(O==null||O<y))if(m){if(m.pstyle("z-compound-depth").value===T.pstyle("z-compound-depth").value&&m.pstyle("z-compound-depth").value===T.pstyle("z-compound-depth").value){for(var I=0;I<u.length;I++)if(u[I].isEdge()){u[I]=T,m=T,y=O??y;break}}}else u.push(T),m=T,y=O??y}function E(T){var O=T.outerWidth()+2*h,I=T.outerHeight()+2*h,j=O/2,M=I/2,A=T.position(),F=T.pstyle("corner-radius").value==="auto"?"auto":T.pstyle("corner-radius").pfValue,z=T._private.rscratch;if(A.x-j<=t&&t<=A.x+j&&A.y-M<=e&&e<=A.y+M){var $=s.nodeShapes[o.getNodeShape(T)];if($.checkPoint(t,e,0,O,I,A.x,A.y,F,z))return x(T,0),!0}}function b(T){var O=T._private,I=O.rscratch,j=T.pstyle("width").pfValue,M=T.pstyle("arrow-scale").value,A=j/2+v,F=A*A,z=A*2,U=O.source,G=O.target,$;if(I.edgeType==="segments"||I.edgeType==="straight"||I.edgeType==="haystack"){for(var H=I.allpts,W=0;W+3<H.length;W+=2)if(Lw(t,e,H[W],H[W+1],H[W+2],H[W+3],z)&&F>($=Ow(t,e,H[W],H[W+1],H[W+2],H[W+3])))return x(T,$),!0}else if(I.edgeType==="bezier"||I.edgeType==="multibezier"||I.edgeType==="self"||I.edgeType==="compound"){for(var H=I.allpts,W=0;W+5<I.allpts.length;W+=4)if(Rw(t,e,H[W],H[W+1],H[W+2],H[W+3],H[W+4],H[W+5],z)&&F>($=Mw(t,e,H[W],H[W+1],H[W+2],H[W+3],H[W+4],H[W+5])))return x(T,$),!0}for(var U=U||O.source,G=G||O.target,K=o.getArrowWidth(j,M),L=[{name:"source",x:I.arrowStartX,y:I.arrowStartY,angle:I.srcArrowAngle},{name:"target",x:I.arrowEndX,y:I.arrowEndY,angle:I.tgtArrowAngle},{name:"mid-source",x:I.midX,y:I.midY,angle:I.midsrcArrowAngle},{name:"mid-target",x:I.midX,y:I.midY,angle:I.midtgtArrowAngle}],W=0;W<L.length;W++){var _=L[W],Z=s.arrowShapes[T.pstyle(_.name+"-arrow-shape").value],te=T.pstyle("width").pfValue;if(Z.roughCollide(t,e,K,_.angle,{x:_.x,y:_.y},te,v)&&Z.collide(t,e,K,_.angle,{x:_.x,y:_.y},te,v))return x(T),!0}f&&u.length>0&&(E(U),E(G))}function k(T,O,I){return nn(T,O,I)}function D(T,O){var I=T._private,j=g,M;O?M=O+"-":M="",T.boundingBox();var A=I.labelBounds[O||"main"],F=T.pstyle(M+"label").value,z=T.pstyle("text-events").strValue==="yes";if(!(!z||!F)){var $=k(I.rscratch,"labelX",O),H=k(I.rscratch,"labelY",O),W=k(I.rscratch,"labelAngle",O),U=T.pstyle(M+"text-margin-x").pfValue,G=T.pstyle(M+"text-margin-y").pfValue,K=A.x1-j-U,L=A.x2+j-U,_=A.y1-j-G,Z=A.y2+j-G;if(W){var te=Math.cos(W),oe=Math.sin(W),le=function(Ae,Ee){return Ae=Ae-$,Ee=Ee-H,{x:Ae*te-Ee*oe+$,y:Ae*oe+Ee*te+H}},ce=le(K,_),ie=le(K,Z),Q=le(L,_),ue=le(L,Z),de=[ce.x+U,ce.y+G,Q.x+U,Q.y+G,ue.x+U,ue.y+G,ie.x+U,ie.y+G];if(Pr(t,e,de))return x(T),!0}else if(ki(A,t,e))return x(T),!0}}for(var B=l.length-1;B>=0;B--){var N=l[B];N.isNode()?E(N)||D(N):b(N)||D(N)||D(N,"source")||D(N,"target")}return u};ja.getAllInBox=function(t,e,r,a){var o=this.getCachedZSortedEles().interactive,s=[],l=Math.min(t,r),u=Math.max(t,r),d=Math.min(e,a),f=Math.max(e,a);t=l,r=u,e=d,a=f;for(var v=Nr({x1:t,y1:e,x2:r,y2:a}),h=0;h<o.length;h++){var g=o[h];if(g.isNode()){var y=g,m=y.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});Ff(v,m)&&!xg(m,v)&&s.push(y)}else{var S=g,x=S._private,E=x.rscratch;if(E.startX!=null&&E.startY!=null&&!ki(v,E.startX,E.startY)||E.endX!=null&&E.endY!=null&&!ki(v,E.endX,E.endY))continue;if(E.edgeType==="bezier"||E.edgeType==="multibezier"||E.edgeType==="self"||E.edgeType==="compound"||E.edgeType==="segments"||E.edgeType==="haystack"){for(var b=x.rstyle.bezierPts||x.rstyle.linePts||x.rstyle.haystackPts,k=!0,D=0;D<b.length;D++)if(!Nw(v,b[D])){k=!1;break}k&&s.push(S)}else(E.edgeType==="haystack"||E.edgeType==="straight")&&s.push(S)}}return s};var Ul={};Ul.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",a=e.edgeType==="bezier",o=e.edgeType==="multibezier",s=e.edgeType==="segments",l=e.edgeType==="compound",u=e.edgeType==="self",d,f,v,h,g,y,E,b;if(r?(v=e.haystackPts[0],h=e.haystackPts[1],g=e.haystackPts[2],y=e.haystackPts[3]):(v=e.arrowStartX,h=e.arrowStartY,g=e.arrowEndX,y=e.arrowEndY),E=e.midX,b=e.midY,s)d=v-e.segpts[0],f=h-e.segpts[1];else if(o||l||u||a){var m=e.allpts,S=Gt(m[0],m[2],m[4],.1),x=Gt(m[1],m[3],m[5],.1);d=v-S,f=h-x}else d=v-E,f=h-b;e.srcArrowAngle=vl(d,f);var E=e.midX,b=e.midY;if(r&&(E=(v+g)/2,b=(h+y)/2),d=g-v,f=y-h,s){var m=e.allpts;if(m.length/2%2===0){var k=m.length/2,D=k-2;d=m[k]-m[D],f=m[k+1]-m[D+1]}else if(e.isRound)d=e.midVector[1],f=-e.midVector[0];else{var k=m.length/2-1,D=k-2;d=m[k]-m[D],f=m[k+1]-m[D+1]}}else if(o||l||u){var m=e.allpts,B=e.ctrlpts,N,T,O,I;if(B.length/2%2===0){var j=m.length/2-1,M=j+2,A=M+2;N=Gt(m[j],m[M],m[A],0),T=Gt(m[j+1],m[M+1],m[A+1],0),O=Gt(m[j],m[M],m[A],1e-4),I=Gt(m[j+1],m[M+1],m[A+1],1e-4)}else{var M=m.length/2-1,j=M-2,A=M+2;N=Gt(m[j],m[M],m[A],.4999),T=Gt(m[j+1],m[M+1],m[A+1],.4999),O=Gt(m[j],m[M],m[A],.5),I=Gt(m[j+1],m[M+1],m[A+1],.5)}d=O-N,f=I-T}if(e.midtgtArrowAngle=vl(d,f),e.midDispX=d,e.midDispY=f,d*=-1,f*=-1,s){var m=e.allpts;if(m.length/2%2!==0){if(!e.isRound){var k=m.length/2-1,F=k+2;d=-(m[F]-m[k]),f=-(m[F+1]-m[k+1])}}}if(e.midsrcArrowAngle=vl(d,f),s)d=g-e.segpts[e.segpts.length-2],f=y-e.segpts[e.segpts.length-1];else if(o||l||u||a){var m=e.allpts,z=m.length,S=Gt(m[z-6],m[z-4],m[z-2],.9),x=Gt(m[z-5],m[z-3],m[z-1],.9);d=g-S,f=y-x}else d=g-E,f=y-b;e.tgtArrowAngle=vl(d,f)};Ul.getArrowWidth=Ul.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},a=r[t+", "+e];return a||(a=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=a,a)};var xf,Ef,fn={},Hr={},Lp,Rp,La,Rl,Tn,Ta,Na,cn,pi,Sl,dm,vm,Sf,Cf,Bp,Ip=function(e,r,a){a.x=r.x-e.x,a.y=r.y-e.y,a.len=Math.sqrt(a.x*a.x+a.y*a.y),a.nx=a.x/a.len,a.ny=a.y/a.len,a.ang=Math.atan2(a.ny,a.nx)},gb=function(e,r){r.x=e.x*-1,r.y=e.y*-1,r.nx=e.nx*-1,r.ny=e.ny*-1,r.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},mb=function(e,r,a,o,s){if(e!==Bp?Ip(r,e,fn):gb(Hr,fn),Ip(r,a,Hr),Lp=fn.nx*Hr.ny-fn.ny*Hr.nx,Rp=fn.nx*Hr.nx-fn.ny*-Hr.ny,Tn=Math.asin(Math.max(-1,Math.min(1,Lp))),Math.abs(Tn)<1e-6){xf=r.x,Ef=r.y,Na=pi=0;return}La=1,Rl=!1,Rp<0?Tn<0?Tn=Math.PI+Tn:(Tn=Math.PI-Tn,La=-1,Rl=!0):Tn>0&&(La=-1,Rl=!0),r.radius!==void 0?pi=r.radius:pi=o,Ta=Tn/2,Sl=Math.min(fn.len/2,Hr.len/2),s?(cn=Math.abs(Math.cos(Ta)*pi/Math.sin(Ta)),cn>Sl?(cn=Sl,Na=Math.abs(cn*Math.sin(Ta)/Math.cos(Ta))):Na=pi):(cn=Math.min(Sl,pi),Na=Math.abs(cn*Math.sin(Ta)/Math.cos(Ta))),Sf=r.x+Hr.nx*cn,Cf=r.y+Hr.ny*cn,xf=Sf-Hr.ny*Na*La,Ef=Cf+Hr.nx*Na*La,dm=r.x+fn.nx*cn,vm=r.y+fn.ny*cn,Bp=r};function hm(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function Xf(t,e,r,a){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return a===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(mb(t,e,r,a,o),{cx:xf,cy:Ef,radius:Na,startX:dm,startY:vm,stopX:Sf,stopY:Cf,startAngle:fn.ang+Math.PI/2*La,endAngle:Hr.ang-Math.PI/2*La,counterClockwise:Rl})}var gr={};gr.findMidptPtsEtc=function(t,e){var r=e.posPts,a=e.intersectionPts,o=e.vectorNormInverse,s,l=t.pstyle("source-endpoint"),u=t.pstyle("target-endpoint"),d=l.units!=null&&u.units!=null,f=function(B,N,T,O){var I=O-N,j=T-B,M=Math.sqrt(j*j+I*I);return{x:-I/M,y:j/M}},v=t.pstyle("edge-distances").value;switch(v){case"node-position":s=r;break;case"intersection":s=a;break;case"endpoints":{if(d){var h=this.manualEndptToPx(t.source()[0],l),g=tn(h,2),y=g[0],m=g[1],S=this.manualEndptToPx(t.target()[0],u),x=tn(S,2),E=x[0],b=x[1],k={x1:y,y1:m,x2:E,y2:b};o=f(y,m,E,b),s=k}else ft("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),s=a;break}}return{midptPts:s,vectorNormInverse:o}};gr.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],a=r._private,o=a.rscratch;if(!o.haystack){var s=Math.random()*2*Math.PI;o.source={x:Math.cos(s),y:Math.sin(s)},s=Math.random()*2*Math.PI,o.target={x:Math.cos(s),y:Math.sin(s)}}var l=a.source,u=a.target,d=l.position(),f=u.position(),v=l.width(),h=u.width(),g=l.height(),y=u.height(),m=r.pstyle("haystack-radius").value,S=m/2;o.haystackPts=o.allpts=[o.source.x*v*S+d.x,o.source.y*g*S+d.y,o.target.x*h*S+f.x,o.target.y*y*S+f.y],o.midX=(o.allpts[0]+o.allpts[2])/2,o.midY=(o.allpts[1]+o.allpts[3])/2,o.edgeType="haystack",o.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};gr.findSegmentsPoints=function(t,e){var r=t._private.rscratch,a=t.pstyle("segment-weights"),o=t.pstyle("segment-distances"),s=t.pstyle("segment-radii"),l=t.pstyle("radius-type"),u=Math.min(a.pfValue.length,o.pfValue.length),d=s.pfValue[s.pfValue.length-1],f=l.pfValue[l.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var v=0;v<u;v++){var h=a.pfValue[v],g=o.pfValue[v],y=1-h,m=h,S=this.findMidptPtsEtc(t,e),x=S.midptPts,E=S.vectorNormInverse,b={x:x.x1*y+x.x2*m,y:x.y1*y+x.y2*m};r.segpts.push(b.x+E.x*g,b.y+E.y*g),r.radii.push(s.pfValue[v]!==void 0?s.pfValue[v]:d),r.isArcRadius.push((l.pfValue[v]!==void 0?l.pfValue[v]:f)==="arc-radius")}};gr.findLoopPoints=function(t,e,r,a){var o=t._private.rscratch,s=e.dirCounts,l=e.srcPos,u=t.pstyle("control-point-distances"),d=u?u.pfValue[0]:void 0,f=t.pstyle("loop-direction").pfValue,v=t.pstyle("loop-sweep").pfValue,h=t.pstyle("control-point-step-size").pfValue;o.edgeType="self";var g=r,y=h;a&&(g=0,y=d);var m=f-Math.PI/2,S=m-v/2,x=m+v/2,E=f+"_"+v;g=s[E]===void 0?s[E]=0:++s[E],o.ctrlpts=[l.x+Math.cos(S)*1.4*y*(g/3+1),l.y+Math.sin(S)*1.4*y*(g/3+1),l.x+Math.cos(x)*1.4*y*(g/3+1),l.y+Math.sin(x)*1.4*y*(g/3+1)]};gr.findCompoundLoopPoints=function(t,e,r,a){var o=t._private.rscratch;o.edgeType="compound";var s=e.srcPos,l=e.tgtPos,u=e.srcW,d=e.srcH,f=e.tgtW,v=e.tgtH,h=t.pstyle("control-point-step-size").pfValue,g=t.pstyle("control-point-distances"),y=g?g.pfValue[0]:void 0,m=r,S=h;a&&(m=0,S=y);var x=50,E={x:s.x-u/2,y:s.y-d/2},b={x:l.x-f/2,y:l.y-v/2},k={x:Math.min(E.x,b.x),y:Math.min(E.y,b.y)},D=.5,B=Math.max(D,Math.log(u*.01)),N=Math.max(D,Math.log(f*.01));o.ctrlpts=[k.x,k.y-(1+Math.pow(x,1.12)/100)*S*(m/3+1)*B,k.x-(1+Math.pow(x,1.12)/100)*S*(m/3+1)*N,k.y]};gr.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};gr.findBezierPoints=function(t,e,r,a,o){var s=t._private.rscratch,l=t.pstyle("control-point-step-size").pfValue,u=t.pstyle("control-point-distances"),d=t.pstyle("control-point-weights"),f=u&&d?Math.min(u.value.length,d.value.length):1,v=u?u.pfValue[0]:void 0,h=d.value[0],g=a;s.edgeType=g?"multibezier":"bezier",s.ctrlpts=[];for(var y=0;y<f;y++){var m=(.5-e.eles.length/2+r)*l*(o?-1:1),S=void 0,x=yg(m);g&&(v=u?u.pfValue[y]:l,h=d.value[y]),a?S=v:S=v!==void 0?x*v:void 0;var E=S!==void 0?S:m,b=1-h,k=h,D=this.findMidptPtsEtc(t,e),B=D.midptPts,N=D.vectorNormInverse,T={x:B.x1*b+B.x2*k,y:B.y1*b+B.y2*k};s.ctrlpts.push(T.x+N.x*E,T.y+N.y*E)}};gr.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var a="vertical",o="horizontal",s="leftward",l="rightward",u="downward",d="upward",f="auto",v=e.posPts,h=e.srcW,g=e.srcH,y=e.tgtW,m=e.tgtH,S=t.pstyle("edge-distances").value,x=S!=="node-position",E=t.pstyle("taxi-direction").value,b=E,k=t.pstyle("taxi-turn"),D=k.units==="%",B=k.pfValue,N=B<0,T=t.pstyle("taxi-turn-min-distance").pfValue,O=x?(h+y)/2:0,I=x?(g+m)/2:0,j=v.x2-v.x1,M=v.y2-v.y1,A=function(ve,Ce){return ve>0?Math.max(ve-Ce,0):Math.min(ve+Ce,0)},F=A(j,O),z=A(M,I),$=!1;b===f?E=Math.abs(F)>Math.abs(z)?o:a:b===d||b===u?(E=a,$=!0):(b===s||b===l)&&(E=o,$=!0);var H=E===a,W=H?z:F,U=H?M:j,G=yg(U),K=!1;!($&&(D||N))&&(b===u&&U<0||b===d&&U>0||b===s&&U>0||b===l&&U<0)&&(G*=-1,W=G*Math.abs(W),K=!0);var L;if(D){var _=B<0?1+B:B;L=_*W}else{var Z=B<0?W:0;L=Z+B*G}var te=function(ve){return Math.abs(ve)<T||Math.abs(ve)>=Math.abs(W)},oe=te(L),le=te(Math.abs(W)-Math.abs(L)),ce=oe||le;if(ce&&!K)if(H){var ie=Math.abs(U)<=g/2,Q=Math.abs(j)<=y/2;if(ie){var ue=(v.x1+v.x2)/2,de=v.y1,Se=v.y2;r.segpts=[ue,de,ue,Se]}else if(Q){var Ae=(v.y1+v.y2)/2,Ee=v.x1,xe=v.x2;r.segpts=[Ee,Ae,xe,Ae]}else r.segpts=[v.x1,v.y2]}else{var Re=Math.abs(U)<=h/2,Pe=Math.abs(M)<=m/2;if(Re){var Te=(v.y1+v.y2)/2,ze=v.x1,Ze=v.x2;r.segpts=[ze,Te,Ze,Te]}else if(Pe){var Qe=(v.x1+v.x2)/2,Ge=v.y1,at=v.y2;r.segpts=[Qe,Ge,Qe,at]}else r.segpts=[v.x2,v.y1]}else if(H){var Ye=v.y1+L+(x?g/2*G:0),Je=v.x1,me=v.x2;r.segpts=[Je,Ye,me,Ye]}else{var V=v.x1+L+(x?h/2*G:0),re=v.y1,fe=v.y2;r.segpts=[V,re,V,fe]}if(r.isRound){var J=t.pstyle("taxi-radius").value,ae=t.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(J),r.isArcRadius=new Array(r.segpts.length/2).fill(ae)}};gr.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var a=e.srcPos,o=e.tgtPos,s=e.srcW,l=e.srcH,u=e.tgtW,d=e.tgtH,f=e.srcShape,v=e.tgtShape,h=e.srcCornerRadius,g=e.tgtCornerRadius,y=e.srcRs,m=e.tgtRs,S=!be(r.startX)||!be(r.startY),x=!be(r.arrowStartX)||!be(r.arrowStartY),E=!be(r.endX)||!be(r.endY),b=!be(r.arrowEndX)||!be(r.arrowEndY),k=3,D=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,B=k*D,N=Ma({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),T=N<B,O=Ma({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),I=O<B,j=!1;if(S||x||T){j=!0;var M={x:r.ctrlpts[0]-a.x,y:r.ctrlpts[1]-a.y},A=Math.sqrt(M.x*M.x+M.y*M.y),F={x:M.x/A,y:M.y/A},z=Math.max(s,l),$={x:r.ctrlpts[0]+F.x*2*z,y:r.ctrlpts[1]+F.y*2*z},H=f.intersectLine(a.x,a.y,s,l,$.x,$.y,0,h,y);T?(r.ctrlpts[0]=r.ctrlpts[0]+F.x*(B-N),r.ctrlpts[1]=r.ctrlpts[1]+F.y*(B-N)):(r.ctrlpts[0]=H[0]+F.x*B,r.ctrlpts[1]=H[1]+F.y*B)}if(E||b||I){j=!0;var W={x:r.ctrlpts[0]-o.x,y:r.ctrlpts[1]-o.y},U=Math.sqrt(W.x*W.x+W.y*W.y),G={x:W.x/U,y:W.y/U},K=Math.max(s,l),L={x:r.ctrlpts[0]+G.x*2*K,y:r.ctrlpts[1]+G.y*2*K},_=v.intersectLine(o.x,o.y,u,d,L.x,L.y,0,g,m);I?(r.ctrlpts[0]=r.ctrlpts[0]+G.x*(B-O),r.ctrlpts[1]=r.ctrlpts[1]+G.y*(B-O)):(r.ctrlpts[0]=_[0]+G.x*B,r.ctrlpts[1]=_[1]+G.y*B)}j&&this.findEndpoints(t)}};gr.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var a,o;e.ctrlpts.length/2%2===0?(a=e.allpts.length/2-1,e.midX=e.allpts[a],e.midY=e.allpts[a+1]):(a=e.allpts.length/2-3,o=.5,e.midX=Gt(e.allpts[a],e.allpts[a+2],e.allpts[a+4],o),e.midY=Gt(e.allpts[a+1],e.allpts[a+3],e.allpts[a+5],o))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var s=2;s+3<e.allpts.length;s+=2){var l=e.radii[s/2-1],u=e.isArcRadius[s/2-1];e.roundCorners.push(Xf({x:e.allpts[s-2],y:e.allpts[s-1]},{x:e.allpts[s],y:e.allpts[s+1],radius:l},{x:e.allpts[s+2],y:e.allpts[s+3]},l,u))}}if(e.segpts.length%4===0){var d=e.segpts.length/2,f=d-2;e.midX=(e.segpts[f]+e.segpts[d])/2,e.midY=(e.segpts[f+1]+e.segpts[d+1])/2}else{var v=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[v],e.midY=e.segpts[v+1];else{var h={x:e.segpts[v],y:e.segpts[v+1]},g=e.roundCorners[v/2],y=[h.x-g.cx,h.y-g.cy],m=g.radius/Math.sqrt(Math.pow(y[0],2)+Math.pow(y[1],2));y=y.map(function(S){return S*m}),e.midX=g.cx+y[0],e.midY=g.cy+y[1],e.midVector=y}}}};gr.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||be(e.startX)&&be(e.startY)&&be(e.endX)&&be(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,ft("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};gr.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,a=r.cy,o=a.hasCompoundNodes(),s={map:new vn,get:function(T){var O=this.map.get(T[0]);return O!=null?O.get(T[1]):null},set:function(T,O){var I=this.map.get(T[0]);I==null&&(I=new vn,this.map.set(T[0],I)),I.set(T[1],O)}},l=[],u=[],d=0;d<t.length;d++){var f=t[d],v=f._private,h=f.pstyle("curve-style").value;if(!(f.removed()||!f.takesUpSpace())){if(h==="haystack"){u.push(f);continue}var g=h==="unbundled-bezier"||h.endsWith("segments")||h==="straight"||h==="straight-triangle"||h.endsWith("taxi"),y=h==="unbundled-bezier"||h==="bezier",m=v.source,S=v.target,x=m.poolIndex(),E=S.poolIndex(),b=[x,E].sort(),k=s.get(b);k==null&&(k={eles:[]},s.set(b,k),l.push(b)),k.eles.push(f),g&&(k.hasUnbundled=!0),y&&(k.hasBezier=!0)}}for(var D=function(T){var O=l[T],I=s.get(O),j=void 0;if(!I.hasUnbundled){var M=I.eles[0].parallelEdges().filter(function(V){return V.isBundledBezier()});Af(I.eles),M.forEach(function(V){return I.eles.push(V)}),I.eles.sort(function(V,re){return V.poolIndex()-re.poolIndex()})}var A=I.eles[0],F=A.source(),z=A.target();if(F.poolIndex()>z.poolIndex()){var $=F;F=z,z=$}var H=I.srcPos=F.position(),W=I.tgtPos=z.position(),U=I.srcW=F.outerWidth(),G=I.srcH=F.outerHeight(),K=I.tgtW=z.outerWidth(),L=I.tgtH=z.outerHeight(),_=I.srcShape=r.nodeShapes[e.getNodeShape(F)],Z=I.tgtShape=r.nodeShapes[e.getNodeShape(z)],te=I.srcCornerRadius=F.pstyle("corner-radius").value==="auto"?"auto":F.pstyle("corner-radius").pfValue,oe=I.tgtCornerRadius=z.pstyle("corner-radius").value==="auto"?"auto":z.pstyle("corner-radius").pfValue,le=I.tgtRs=z._private.rscratch,ce=I.srcRs=F._private.rscratch;I.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var ie=0;ie<I.eles.length;ie++){var Q=I.eles[ie],ue=Q[0]._private.rscratch,de=Q.pstyle("curve-style").value,Se=de==="unbundled-bezier"||de.endsWith("segments")||de.endsWith("taxi"),Ae=!F.same(Q.source());if(!I.calculatedIntersection&&F!==z&&(I.hasBezier||I.hasUnbundled)){I.calculatedIntersection=!0;var Ee=_.intersectLine(H.x,H.y,U,G,W.x,W.y,0,te,ce),xe=I.srcIntn=Ee,Re=Z.intersectLine(W.x,W.y,K,L,H.x,H.y,0,oe,le),Pe=I.tgtIntn=Re,Te=I.intersectionPts={x1:Ee[0],x2:Re[0],y1:Ee[1],y2:Re[1]},ze=I.posPts={x1:H.x,x2:W.x,y1:H.y,y2:W.y},Ze=Re[1]-Ee[1],Qe=Re[0]-Ee[0],Ge=Math.sqrt(Qe*Qe+Ze*Ze),at=I.vector={x:Qe,y:Ze},Ye=I.vectorNorm={x:at.x/Ge,y:at.y/Ge},Je={x:-Ye.y,y:Ye.x};I.nodesOverlap=!be(Ge)||Z.checkPoint(Ee[0],Ee[1],0,K,L,W.x,W.y,oe,le)||_.checkPoint(Re[0],Re[1],0,U,G,H.x,H.y,te,ce),I.vectorNormInverse=Je,j={nodesOverlap:I.nodesOverlap,dirCounts:I.dirCounts,calculatedIntersection:!0,hasBezier:I.hasBezier,hasUnbundled:I.hasUnbundled,eles:I.eles,srcPos:W,srcRs:le,tgtPos:H,tgtRs:ce,srcW:K,srcH:L,tgtW:U,tgtH:G,srcIntn:Pe,tgtIntn:xe,srcShape:Z,tgtShape:_,posPts:{x1:ze.x2,y1:ze.y2,x2:ze.x1,y2:ze.y1},intersectionPts:{x1:Te.x2,y1:Te.y2,x2:Te.x1,y2:Te.y1},vector:{x:-at.x,y:-at.y},vectorNorm:{x:-Ye.x,y:-Ye.y},vectorNormInverse:{x:-Je.x,y:-Je.y}}}var me=Ae?j:I;ue.nodesOverlap=me.nodesOverlap,ue.srcIntn=me.srcIntn,ue.tgtIntn=me.tgtIntn,ue.isRound=de.startsWith("round"),o&&(F.isParent()||F.isChild()||z.isParent()||z.isChild())&&(F.parents().anySame(z)||z.parents().anySame(F)||F.same(z)&&F.isParent())?e.findCompoundLoopPoints(Q,me,ie,Se):F===z?e.findLoopPoints(Q,me,ie,Se):de.endsWith("segments")?e.findSegmentsPoints(Q,me):de.endsWith("taxi")?e.findTaxiPoints(Q,me):de==="straight"||!Se&&I.eles.length%2===1&&ie===Math.floor(I.eles.length/2)?e.findStraightEdgePoints(Q):e.findBezierPoints(Q,me,ie,Se,Ae),e.findEndpoints(Q),e.tryToCorrectInvalidPoints(Q,me),e.checkForInvalidEdgeWarning(Q),e.storeAllpts(Q),e.storeEdgeProjections(Q),e.calculateArrowAngles(Q),e.recalculateEdgeLabelProjections(Q),e.calculateLabelAngles(Q)}},B=0;B<l.length;B++)D(B);this.findHaystackPoints(u)}};function pm(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var a=t[r],o=t[r+1];e.push({x:a,y:o})}return e}}gr.getSegmentPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="segments")return pm(e.segpts)};gr.getControlPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return pm(e.ctrlpts)};gr.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var Qo={};Qo.manualEndptToPx=function(t,e){var r=this,a=t.position(),o=t.outerWidth(),s=t.outerHeight(),l=t._private.rscratch;if(e.value.length===2){var u=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(u[0]=u[0]*o),e.units[1]==="%"&&(u[1]=u[1]*s),u[0]+=a.x,u[1]+=a.y,u}else{var d=e.pfValue[0];d=-Math.PI/2+d;var f=2*Math.max(o,s),v=[a.x+Math.cos(d)*f,a.y+Math.sin(d)*f];return r.nodeShapes[this.getNodeShape(t)].intersectLine(a.x,a.y,o,s,v[0],v[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,l)}};Qo.findEndpoints=function(t){var e=this,r,a=t.source()[0],o=t.target()[0],s=a.position(),l=o.position(),u=t.pstyle("target-arrow-shape").value,d=t.pstyle("source-arrow-shape").value,f=t.pstyle("target-distance-from-node").pfValue,v=t.pstyle("source-distance-from-node").pfValue,h=a._private.rscratch,g=o._private.rscratch,y=t.pstyle("curve-style").value,m=t._private.rscratch,S=m.edgeType,x=y==="taxi",E=S==="self"||S==="compound",b=S==="bezier"||S==="multibezier"||E,k=S!=="bezier",D=S==="straight"||S==="segments",B=S==="segments",N=b||k||D,T=E||x,O=t.pstyle("source-endpoint"),I=T?"outside-to-node":O.value,j=a.pstyle("corner-radius").value==="auto"?"auto":a.pstyle("corner-radius").pfValue,M=t.pstyle("target-endpoint"),A=T?"outside-to-node":M.value,F=o.pstyle("corner-radius").value==="auto"?"auto":o.pstyle("corner-radius").pfValue;m.srcManEndpt=O,m.tgtManEndpt=M;var z,$,H,W;if(b){var U=[m.ctrlpts[0],m.ctrlpts[1]],G=k?[m.ctrlpts[m.ctrlpts.length-2],m.ctrlpts[m.ctrlpts.length-1]]:U;z=G,$=U}else if(D){var K=B?m.segpts.slice(0,2):[l.x,l.y],L=B?m.segpts.slice(m.segpts.length-2):[s.x,s.y];z=L,$=K}if(A==="inside-to-node")r=[l.x,l.y];else if(M.units)r=this.manualEndptToPx(o,M);else if(A==="outside-to-line")r=m.tgtIntn;else if(A==="outside-to-node"||A==="outside-to-node-or-label"?H=z:(A==="outside-to-line"||A==="outside-to-line-or-label")&&(H=[s.x,s.y]),r=e.nodeShapes[this.getNodeShape(o)].intersectLine(l.x,l.y,o.outerWidth(),o.outerHeight(),H[0],H[1],0,F,g),A==="outside-to-node-or-label"||A==="outside-to-line-or-label"){var _=o._private.rscratch,Z=_.labelWidth,te=_.labelHeight,oe=_.labelX,le=_.labelY,ce=Z/2,ie=te/2,Q=o.pstyle("text-valign").value;Q==="top"?le-=ie:Q==="bottom"&&(le+=ie);var ue=o.pstyle("text-halign").value;ue==="left"?oe-=ce:ue==="right"&&(oe+=ce);var de=Fo(H[0],H[1],[oe-ce,le-ie,oe+ce,le-ie,oe+ce,le+ie,oe-ce,le+ie],l.x,l.y);if(de.length>0){var Se=s,Ae=Da(Se,yi(r)),Ee=Da(Se,yi(de)),xe=Ae;if(Ee<Ae&&(r=de,xe=Ee),de.length>2){var Re=Da(Se,{x:de[2],y:de[3]});Re<xe&&(r=[de[2],de[3]])}}}var Pe=hl(r,z,e.arrowShapes[u].spacing(t)+f),Te=hl(r,z,e.arrowShapes[u].gap(t)+f);if(m.endX=Te[0],m.endY=Te[1],m.arrowEndX=Pe[0],m.arrowEndY=Pe[1],I==="inside-to-node")r=[s.x,s.y];else if(O.units)r=this.manualEndptToPx(a,O);else if(I==="outside-to-line")r=m.srcIntn;else if(I==="outside-to-node"||I==="outside-to-node-or-label"?W=$:(I==="outside-to-line"||I==="outside-to-line-or-label")&&(W=[l.x,l.y]),r=e.nodeShapes[this.getNodeShape(a)].intersectLine(s.x,s.y,a.outerWidth(),a.outerHeight(),W[0],W[1],0,j,h),I==="outside-to-node-or-label"||I==="outside-to-line-or-label"){var ze=a._private.rscratch,Ze=ze.labelWidth,Qe=ze.labelHeight,Ge=ze.labelX,at=ze.labelY,Ye=Ze/2,Je=Qe/2,me=a.pstyle("text-valign").value;me==="top"?at-=Je:me==="bottom"&&(at+=Je);var V=a.pstyle("text-halign").value;V==="left"?Ge-=Ye:V==="right"&&(Ge+=Ye);var re=Fo(W[0],W[1],[Ge-Ye,at-Je,Ge+Ye,at-Je,Ge+Ye,at+Je,Ge-Ye,at+Je],s.x,s.y);if(re.length>0){var fe=l,J=Da(fe,yi(r)),ae=Da(fe,yi(re)),ke=J;if(ae<J&&(r=[re[0],re[1]],ke=ae),re.length>2){var ve=Da(fe,{x:re[2],y:re[3]});ve<ke&&(r=[re[2],re[3]])}}}var Ce=hl(r,$,e.arrowShapes[d].spacing(t)+v),je=hl(r,$,e.arrowShapes[d].gap(t)+v);m.startX=je[0],m.startY=je[1],m.arrowStartX=Ce[0],m.arrowStartY=Ce[1],N&&(!be(m.startX)||!be(m.startY)||!be(m.endX)||!be(m.endY)?m.badLine=!0:m.badLine=!1)};Qo.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};Qo.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var Zf={};function yb(t,e,r){for(var a=function(f,v,h,g){return Gt(f,v,h,g)},o=e._private,s=o.rstyle.bezierPts,l=0;l<t.bezierProjPcts.length;l++){var u=t.bezierProjPcts[l];s.push({x:a(r[0],r[2],r[4],u),y:a(r[1],r[3],r[5],u)})}}Zf.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,a=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,a==="multibezier"||a==="bezier"||a==="self"||a==="compound"){e.rstyle.bezierPts=[];for(var o=0;o+5<r.allpts.length;o+=4)yb(this,t,r.allpts.slice(o,o+6))}else if(a==="segments")for(var s=e.rstyle.linePts=[],o=0;o+1<r.allpts.length;o+=2)s.push({x:r.allpts[o],y:r.allpts[o+1]});else if(a==="haystack"){var l=r.haystackPts;e.rstyle.haystackPts=[{x:l[0],y:l[1]},{x:l[2],y:l[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};Zf.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var pn={};pn.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!oa(e)){var r,a,o=t._private,s=t.width(),l=t.height(),u=t.padding(),d=t.position(),f=t.pstyle("text-halign").strValue,v=t.pstyle("text-valign").strValue,h=o.rscratch,g=o.rstyle;switch(f){case"left":r=d.x-s/2-u;break;case"right":r=d.x+s/2+u;break;default:r=d.x}switch(v){case"top":a=d.y-l/2-u;break;case"bottom":a=d.y+l/2+u;break;default:a=d.y}h.labelX=r,h.labelY=a,g.labelX=r,g.labelY=a,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var gm=function(e,r){var a=Math.atan(r/e);return e===0&&a<0&&(a=a*-1),a},mm=function(e,r){var a=r.x-e.x,o=r.y-e.y;return gm(a,o)},wb=function(e,r,a,o){var s=zo(0,o-.001,1),l=zo(0,o+.001,1),u=xi(e,r,a,s),d=xi(e,r,a,l);return mm(u,d)};pn.recalculateEdgeLabelProjections=function(t){var e,r=t._private,a=r.rscratch,o=this,s={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(s.mid||s.source||s.target){e={x:a.midX,y:a.midY};var l=function(h,g,y){ra(r.rscratch,h,g,y),ra(r.rstyle,h,g,y)};l("labelX",null,e.x),l("labelY",null,e.y);var u=gm(a.midDispX,a.midDispY);l("labelAutoAngle",null,u);var d=function v(){if(v.cache)return v.cache;for(var h=[],g=0;g+5<a.allpts.length;g+=4){var y={x:a.allpts[g],y:a.allpts[g+1]},m={x:a.allpts[g+2],y:a.allpts[g+3]},S={x:a.allpts[g+4],y:a.allpts[g+5]};h.push({p0:y,p1:m,p2:S,startDist:0,length:0,segments:[]})}var x=r.rstyle.bezierPts,E=o.bezierProjPcts.length;function b(T,O,I,j,M){var A=Ma(O,I),F=T.segments[T.segments.length-1],z={p0:O,p1:I,t0:j,t1:M,startDist:F?F.startDist+F.length:0,length:A};T.segments.push(z),T.length+=A}for(var k=0;k<h.length;k++){var D=h[k],B=h[k-1];B&&(D.startDist=B.startDist+B.length),b(D,D.p0,x[k*E],0,o.bezierProjPcts[0]);for(var N=0;N<E-1;N++)b(D,x[k*E+N],x[k*E+N+1],o.bezierProjPcts[N],o.bezierProjPcts[N+1]);b(D,x[k*E+E-1],D.p2,o.bezierProjPcts[E-1],1)}return v.cache=h},f=function(h){var g,y=h==="source";if(s[h]){var m=t.pstyle(h+"-text-offset").pfValue;switch(a.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var S=d(),x,E=0,b=0,k=0;k<S.length;k++){for(var D=S[y?k:S.length-1-k],B=0;B<D.segments.length;B++){var N=D.segments[y?B:D.segments.length-1-B],T=k===S.length-1&&B===D.segments.length-1;if(E=b,b+=N.length,b>=m||T){x={cp:D,segment:N};break}}if(x)break}var O=x.cp,I=x.segment,j=(m-E)/I.length,M=I.t1-I.t0,A=y?I.t0+M*j:I.t1-M*j;A=zo(0,A,1),e=xi(O.p0,O.p1,O.p2,A),g=wb(O.p0,O.p1,O.p2,A);break}case"straight":case"segments":case"haystack":{for(var F=0,z,$,H,W,U=a.allpts.length,G=0;G+3<U&&(y?(H={x:a.allpts[G],y:a.allpts[G+1]},W={x:a.allpts[G+2],y:a.allpts[G+3]}):(H={x:a.allpts[U-2-G],y:a.allpts[U-1-G]},W={x:a.allpts[U-4-G],y:a.allpts[U-3-G]}),z=Ma(H,W),$=F,F+=z,!(F>=m));G+=2);var K=m-$,L=K/z;L=zo(0,L,1),e=bw(H,W,L),g=mm(H,W);break}}l("labelX",h,e.x),l("labelY",h,e.y),l("labelAutoAngle",h,g)}};f("source"),f("target"),this.applyLabelDimensions(t)}};pn.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};pn.applyPrefixedLabelDimensions=function(t,e){var r=t._private,a=this.getLabelText(t,e),o=this.calculateLabelDimensions(t,a),s=t.pstyle("line-height").pfValue,l=t.pstyle("text-wrap").strValue,u=nn(r.rscratch,"labelWrapCachedLines",e)||[],d=l!=="wrap"?1:Math.max(u.length,1),f=o.height/d,v=f*s,h=o.width,g=o.height+(d-1)*(s-1)*f;ra(r.rstyle,"labelWidth",e,h),ra(r.rscratch,"labelWidth",e,h),ra(r.rstyle,"labelHeight",e,g),ra(r.rscratch,"labelHeight",e,g),ra(r.rscratch,"labelLineHeight",e,v)};pn.getLabelText=function(t,e){var r=t._private,a=e?e+"-":"",o=t.pstyle(a+"label").strValue,s=t.pstyle("text-transform").value,l=function(Z,te){return te?(ra(r.rscratch,Z,e,te),te):nn(r.rscratch,Z,e)};if(!o)return"";s=="none"||(s=="uppercase"?o=o.toUpperCase():s=="lowercase"&&(o=o.toLowerCase()));var u=t.pstyle("text-wrap").value;if(u==="wrap"){var d=l("labelKey");if(d!=null&&l("labelWrapKey")===d)return l("labelWrapCachedText");for(var f="​",v=o.split(`
`),h=t.pstyle("text-max-width").pfValue,g=t.pstyle("text-overflow-wrap").value,y=g==="anywhere",m=[],S=/[\s\u200b]+|$/g,x=0;x<v.length;x++){var E=v[x],b=this.calculateLabelDimensions(t,E),k=b.width;if(y){var D=E.split("").join(f);E=D}if(k>h){var B=E.matchAll(S),N="",T=0,O=Jp(B),I;try{for(O.s();!(I=O.n()).done;){var j=I.value,M=j[0],A=E.substring(T,j.index);T=j.index+M.length;var F=N.length===0?A:N+A+M,z=this.calculateLabelDimensions(t,F),$=z.width;$<=h?N+=A+M:(N&&m.push(N),N=A+M)}}catch(_){O.e(_)}finally{O.f()}N.match(/^[\s\u200b]+$/)||m.push(N)}else m.push(E)}l("labelWrapCachedLines",m),o=l("labelWrapCachedText",m.join(`
`)),l("labelWrapKey",d)}else if(u==="ellipsis"){var H=t.pstyle("text-max-width").pfValue,W="",U="…",G=!1;if(this.calculateLabelDimensions(t,o).width<H)return o;for(var K=0;K<o.length;K++){var L=this.calculateLabelDimensions(t,W+o[K]+U).width;if(L>H)break;W+=o[K],K===o.length-1&&(G=!0)}return G||(W+=U),W}return o};pn.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};pn.calculateLabelDimensions=function(t,e){var r=this,a=r.cy.window(),o=a.document,s=Ia(e,t._private.labelDimsKey),l=r.labelDimCache||(r.labelDimCache=[]),u=l[s];if(u!=null)return u;var d=0,f=t.pstyle("font-style").strValue,v=t.pstyle("font-size").pfValue,h=t.pstyle("font-family").strValue,g=t.pstyle("font-weight").strValue,y=this.labelCalcCanvas,m=this.labelCalcCanvasContext;if(!y){y=this.labelCalcCanvas=o.createElement("canvas"),m=this.labelCalcCanvasContext=y.getContext("2d");var S=y.style;S.position="absolute",S.left="-9999px",S.top="-9999px",S.zIndex="-1",S.visibility="hidden",S.pointerEvents="none"}m.font="".concat(f," ").concat(g," ").concat(v,"px ").concat(h);for(var x=0,E=0,b=e.split(`
`),k=0;k<b.length;k++){var D=b[k],B=m.measureText(D),N=Math.ceil(B.width),T=v;x=Math.max(N,x),E+=T}return x+=d,E+=d,l[s]={width:x,height:E}};pn.calculateLabelAngle=function(t,e){var r=t._private,a=r.rscratch,o=t.isEdge(),s=e?e+"-":"",l=t.pstyle(s+"text-rotation"),u=l.strValue;return u==="none"?0:o&&u==="autorotate"?a.labelAutoAngle:u==="autorotate"?0:l.pfValue};pn.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),a=t._private,o=a.rscratch;o.labelAngle=e.calculateLabelAngle(t),r&&(o.sourceLabelAngle=e.calculateLabelAngle(t,"source"),o.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var ym={},Mp=28,Op=!1;ym.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<Mp||t.height()<Mp))return Op||(ft("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Op=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var a=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(a).name}return r};var su={};su.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,a=function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(l),u)for(var d=0;d<l.length;d++){var f=l[d],v=f._private,h=v.rstyle;h.clean=!1,h.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(l){var u=l.target;a(u)}).on("style.* background.*",function(l){var u=l.target;a(u,!1)});var o=function(l){if(l){var u=r.onUpdateEleCalcsFns;e.cleanStyle();for(var d=0;d<e.length;d++){var f=e[d],v=f._private.rstyle;f.isNode()&&!v.cleanConnected&&(a(f.connectedEdges()),v.cleanConnected=!0)}if(u)for(var h=0;h<u.length;h++){var g=u[h];g(l,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){o(!0)},r.beforeRender(o,r.beforeRenderPriorities.eleCalcs)};su.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};su.recalculateRenderedStyle=function(t,e){var r=function(D){return D._private.rstyle.cleanConnected},a=[],o=[];if(!this.destroyed){e===void 0&&(e=!0);for(var s=0;s<t.length;s++){var l=t[s],u=l._private,d=u.rstyle;l.isEdge()&&(!r(l.source())||!r(l.target()))&&(d.clean=!1),!(e&&d.clean||l.removed())&&l.pstyle("display").value!=="none"&&(u.group==="nodes"?o.push(l):a.push(l),d.clean=!0)}for(var f=0;f<o.length;f++){var v=o[f],h=v._private,g=h.rstyle,y=v.position();this.recalculateNodeLabelProjection(v),g.nodeX=y.x,g.nodeY=y.y,g.nodeW=v.pstyle("width").pfValue,g.nodeH=v.pstyle("height").pfValue}this.recalculateEdgeProjections(a);for(var m=0;m<a.length;m++){var S=a[m],x=S._private,E=x.rstyle,b=x.rscratch;E.srcX=b.arrowStartX,E.srcY=b.arrowStartY,E.tgtX=b.arrowEndX,E.tgtY=b.arrowEndY,E.midX=b.midX,E.midY=b.midY,E.labelAngle=b.labelAngle,E.sourceLabelAngle=b.sourceLabelAngle,E.targetLabelAngle=b.targetLabelAngle}}};var lu={};lu.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var a=t[r],o=a._private.rscratch;a.grabbed()&&!a.isParent()?e.push(a):o.inDragLayer?t.drag.push(a):t.nondrag.push(a)}for(var r=0;r<e.length;r++){var a=e[r];t.drag.push(a)}}};lu.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};lu.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(tm),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var wm={};[ja,Ul,gr,Qo,Zf,pn,ym,su,lu].forEach(function(t){Ue(wm,t)});var xm={};xm.getCachedImage=function(t,e,r){var a=this,o=a.imageCache=a.imageCache||{},s=o[t];if(s)return s.image.complete||s.image.addEventListener("load",r),s.image;s=o[t]=o[t]||{};var l=s.image=new Image;l.addEventListener("load",r),l.addEventListener("error",function(){l.error=!0});var u="data:",d=t.substring(0,u.length).toLowerCase()===u;return d||(e=e==="null"?null:e,l.crossOrigin=e),l.src=t,l};var Oi={};Oi.registerBinding=function(t,e,r,a){var o=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(t)){for(var s=[],l=0;l<t.length;l++){var u=t[l];if(u!==void 0){var d=this.binder(u);s.push(d.on.apply(d,o))}}return s}var d=this.binder(t);return d.on.apply(d,o)};Oi.binder=function(t){var e=this,r=e.cy.window(),a=t===r||t===r.document||t===r.document.body||H0(t);if(e.supportsPassiveEvents==null){var o=!1;try{var s=Object.defineProperty({},"passive",{get:function(){return o=!0,!0}});r.addEventListener("test",null,s)}catch{}e.supportsPassiveEvents=o}var l=function(d,f,v){var h=Array.prototype.slice.call(arguments);return a&&e.supportsPassiveEvents&&(h[2]={capture:v??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:h}),(t.addEventListener||t.on).apply(t,h),this};return{on:l,addEventListener:l,addListener:l,bind:l}};Oi.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};Oi.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};Oi.load=function(){var t=this,e=t.cy.window(),r=function(V){return V.selected()},a=function(V){var re=V.getRootNode();if(re&&re.nodeType===11&&re.host!==void 0)return re},o=function(V,re,fe,J){V==null&&(V=t.cy);for(var ae=0;ae<re.length;ae++){var ke=re[ae];V.emit({originalEvent:fe,type:ke,position:J})}},s=function(V){return V.shiftKey||V.metaKey||V.ctrlKey},l=function(V,re){var fe=!0;if(t.cy.hasCompoundNodes()&&V&&V.pannable())for(var J=0;re&&J<re.length;J++){var V=re[J];if(V.isNode()&&V.isParent()&&!V.pannable()){fe=!1;break}}else fe=!0;return fe},u=function(V){V[0]._private.grabbed=!0},d=function(V){V[0]._private.grabbed=!1},f=function(V){V[0]._private.rscratch.inDragLayer=!0},v=function(V){V[0]._private.rscratch.inDragLayer=!1},h=function(V){V[0]._private.rscratch.isGrabTarget=!0},g=function(V){V[0]._private.rscratch.isGrabTarget=!1},y=function(V,re){var fe=re.addToList,J=fe.has(V);!J&&V.grabbable()&&!V.locked()&&(fe.merge(V),u(V))},m=function(V,re){if(V.cy().hasCompoundNodes()&&!(re.inDragLayer==null&&re.addToList==null)){var fe=V.descendants();re.inDragLayer&&(fe.forEach(f),fe.connectedEdges().forEach(f)),re.addToList&&y(fe,re)}},S=function(V,re){re=re||{};var fe=V.cy().hasCompoundNodes();re.inDragLayer&&(V.forEach(f),V.neighborhood().stdFilter(function(J){return!fe||J.isEdge()}).forEach(f)),re.addToList&&V.forEach(function(J){y(J,re)}),m(V,re),b(V,{inDragLayer:re.inDragLayer}),t.updateCachedGrabbedEles()},x=S,E=function(V){V&&(t.getCachedZSortedEles().forEach(function(re){d(re),v(re),g(re)}),t.updateCachedGrabbedEles())},b=function(V,re){if(!(re.inDragLayer==null&&re.addToList==null)&&V.cy().hasCompoundNodes()){var fe=V.ancestors().orphans();if(!fe.same(V)){var J=fe.descendants().spawnSelf().merge(fe).unmerge(V).unmerge(V.descendants()),ae=J.connectedEdges();re.inDragLayer&&(ae.forEach(f),J.forEach(f)),re.addToList&&J.forEach(function(ke){y(ke,re)})}}},k=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},D=typeof MutationObserver<"u",B=typeof ResizeObserver<"u";D?(t.removeObserver=new MutationObserver(function(me){for(var V=0;V<me.length;V++){var re=me[V],fe=re.removedNodes;if(fe)for(var J=0;J<fe.length;J++){var ae=fe[J];if(ae===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(me){t.destroy()});var N=Kl(function(){t.cy.resize()},100);D&&(t.styleObserver=new MutationObserver(N),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",N),B&&(t.resizeObserver=new ResizeObserver(N),t.resizeObserver.observe(t.container));var T=function(V,re){for(;V!=null;)re(V),V=V.parentNode},O=function(){t.invalidateContainerClientCoordsCache()};T(t.container,function(me){t.registerBinding(me,"transitionend",O),t.registerBinding(me,"animationend",O),t.registerBinding(me,"scroll",O)}),t.registerBinding(t.container,"contextmenu",function(me){me.preventDefault()});var I=function(){return t.selection[4]!==0},j=function(V){for(var re=t.findContainerClientCoords(),fe=re[0],J=re[1],ae=re[2],ke=re[3],ve=V.touches?V.touches:[V],Ce=!1,je=0;je<ve.length;je++){var We=ve[je];if(fe<=We.clientX&&We.clientX<=fe+ae&&J<=We.clientY&&We.clientY<=J+ke){Ce=!0;break}}if(!Ce)return!1;for(var Be=t.container,He=V.target,qe=He.parentNode,Ve=!1;qe;){if(qe===Be){Ve=!0;break}qe=qe.parentNode}return!!Ve};t.registerBinding(t.container,"mousedown",function(V){if(j(V)&&!(t.hoverData.which===1&&V.which!==1)){V.preventDefault(),k(),t.hoverData.capture=!0,t.hoverData.which=V.which;var re=t.cy,fe=[V.clientX,V.clientY],J=t.projectIntoViewport(fe[0],fe[1]),ae=t.selection,ke=t.findNearestElements(J[0],J[1],!0,!1),ve=ke[0],Ce=t.dragData.possibleDragElements;t.hoverData.mdownPos=J,t.hoverData.mdownGPos=fe;var je=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var et=t.hoverData.down;et?et.emit({originalEvent:V,type:"taphold",position:{x:J[0],y:J[1]}}):re.emit({originalEvent:V,type:"taphold",position:{x:J[0],y:J[1]}})}},t.tapholdDuration)};if(V.which==3){t.hoverData.cxtStarted=!0;var We={originalEvent:V,type:"cxttapstart",position:{x:J[0],y:J[1]}};ve?(ve.activate(),ve.emit(We),t.hoverData.down=ve):re.emit(We),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(V.which==1){ve&&ve.activate();{if(ve!=null&&t.nodeIsGrabbable(ve)){var Be=function(et){return{originalEvent:V,type:et,position:{x:J[0],y:J[1]}}},He=function(et){et.emit(Be("grab"))};if(h(ve),!ve.selected())Ce=t.dragData.possibleDragElements=re.collection(),x(ve,{addToList:Ce}),ve.emit(Be("grabon")).emit(Be("grab"));else{Ce=t.dragData.possibleDragElements=re.collection();var qe=re.$(function(Ve){return Ve.isNode()&&Ve.selected()&&t.nodeIsGrabbable(Ve)});S(qe,{addToList:Ce}),ve.emit(Be("grabon")),qe.forEach(He)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=ve,t.hoverData.downs=ke,t.hoverData.downTime=new Date().getTime()}o(ve,["mousedown","tapstart","vmousedown"],V,{x:J[0],y:J[1]}),ve==null?(ae[4]=1,t.data.bgActivePosistion={x:J[0],y:J[1]},t.redrawHint("select",!0),t.redraw()):ve.pannable()&&(ae[4]=1),je()}ae[0]=ae[2]=J[0],ae[1]=ae[3]=J[1]}},!1);var M=a(t.container);t.registerBinding([e,M],"mousemove",function(V){var re=t.hoverData.capture;if(!(!re&&!j(V))){var fe=!1,J=t.cy,ae=J.zoom(),ke=[V.clientX,V.clientY],ve=t.projectIntoViewport(ke[0],ke[1]),Ce=t.hoverData.mdownPos,je=t.hoverData.mdownGPos,We=t.selection,Be=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(Be=t.findNearestElement(ve[0],ve[1],!0,!1));var He=t.hoverData.last,qe=t.hoverData.down,Ve=[ve[0]-We[2],ve[1]-We[3]],et=t.dragData.possibleDragElements,ut;if(je){var rr=ke[0]-je[0],nr=rr*rr,Dt=ke[1]-je[1],Rt=Dt*Dt,Bt=nr+Rt;t.hoverData.isOverThresholdDrag=ut=Bt>=t.desktopTapThreshold2}var At=s(V);ut&&(t.hoverData.tapholdCancelled=!0);var Ut=function(){var Ar=t.hoverData.dragDelta=t.hoverData.dragDelta||[];Ar.length===0?(Ar.push(Ve[0]),Ar.push(Ve[1])):(Ar[0]+=Ve[0],Ar[1]+=Ve[1])};fe=!0,o(Be,["mousemove","vmousemove","tapdrag"],V,{x:ve[0],y:ve[1]});var ar=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||J.emit({originalEvent:V,type:"boxstart",position:{x:ve[0],y:ve[1]}}),We[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(ut){var ir={originalEvent:V,type:"cxtdrag",position:{x:ve[0],y:ve[1]}};qe?qe.emit(ir):J.emit(ir),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||Be!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:V,type:"cxtdragout",position:{x:ve[0],y:ve[1]}}),t.hoverData.cxtOver=Be,Be&&Be.emit({originalEvent:V,type:"cxtdragover",position:{x:ve[0],y:ve[1]}}))}}else if(t.hoverData.dragging){if(fe=!0,J.panningEnabled()&&J.userPanningEnabled()){var or;if(t.hoverData.justStartedPan){var Kr=t.hoverData.mdownPos;or={x:(ve[0]-Kr[0])*ae,y:(ve[1]-Kr[1])*ae},t.hoverData.justStartedPan=!1}else or={x:Ve[0]*ae,y:Ve[1]*ae};J.panBy(or),J.emit("dragpan"),t.hoverData.dragged=!0}ve=t.projectIntoViewport(V.clientX,V.clientY)}else if(We[4]==1&&(qe==null||qe.pannable())){if(ut){if(!t.hoverData.dragging&&J.boxSelectionEnabled()&&(At||!J.panningEnabled()||!J.userPanningEnabled()))ar();else if(!t.hoverData.selecting&&J.panningEnabled()&&J.userPanningEnabled()){var mr=l(qe,t.hoverData.downs);mr&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,We[4]=0,t.data.bgActivePosistion=yi(Ce),t.redrawHint("select",!0),t.redraw())}qe&&qe.pannable()&&qe.active()&&qe.unactivate()}}else{if(qe&&qe.pannable()&&qe.active()&&qe.unactivate(),(!qe||!qe.grabbed())&&Be!=He&&(He&&o(He,["mouseout","tapdragout"],V,{x:ve[0],y:ve[1]}),Be&&o(Be,["mouseover","tapdragover"],V,{x:ve[0],y:ve[1]}),t.hoverData.last=Be),qe)if(ut){if(J.boxSelectionEnabled()&&At)qe&&qe.grabbed()&&(E(et),qe.emit("freeon"),et.emit("free"),t.dragData.didDrag&&(qe.emit("dragfreeon"),et.emit("dragfree"))),ar();else if(qe&&qe.grabbed()&&t.nodeIsDraggable(qe)){var It=!t.dragData.didDrag;It&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||S(et,{inDragLayer:!0});var Ct={x:0,y:0};if(be(Ve[0])&&be(Ve[1])&&(Ct.x+=Ve[0],Ct.y+=Ve[1],It)){var Ht=t.hoverData.dragDelta;Ht&&be(Ht[0])&&be(Ht[1])&&(Ct.x+=Ht[0],Ct.y+=Ht[1])}t.hoverData.draggingEles=!0,et.silentShift(Ct).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else Ut();fe=!0}if(We[2]=ve[0],We[3]=ve[1],fe)return V.stopPropagation&&V.stopPropagation(),V.preventDefault&&V.preventDefault(),!1}},!1);var A,F,z;t.registerBinding(e,"mouseup",function(V){if(!(t.hoverData.which===1&&V.which!==1&&t.hoverData.capture)){var re=t.hoverData.capture;if(re){t.hoverData.capture=!1;var fe=t.cy,J=t.projectIntoViewport(V.clientX,V.clientY),ae=t.selection,ke=t.findNearestElement(J[0],J[1],!0,!1),ve=t.dragData.possibleDragElements,Ce=t.hoverData.down,je=s(V);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,Ce&&Ce.unactivate(),t.hoverData.which===3){var We={originalEvent:V,type:"cxttapend",position:{x:J[0],y:J[1]}};if(Ce?Ce.emit(We):fe.emit(We),!t.hoverData.cxtDragged){var Be={originalEvent:V,type:"cxttap",position:{x:J[0],y:J[1]}};Ce?Ce.emit(Be):fe.emit(Be)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(o(ke,["mouseup","tapend","vmouseup"],V,{x:J[0],y:J[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(o(Ce,["click","tap","vclick"],V,{x:J[0],y:J[1]}),F=!1,V.timeStamp-z<=fe.multiClickDebounceTime()?(A&&clearTimeout(A),F=!0,z=null,o(Ce,["dblclick","dbltap","vdblclick"],V,{x:J[0],y:J[1]})):(A=setTimeout(function(){F||o(Ce,["oneclick","onetap","voneclick"],V,{x:J[0],y:J[1]})},fe.multiClickDebounceTime()),z=V.timeStamp)),Ce==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!s(V)&&(fe.$(r).unselect(["tapunselect"]),ve.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=ve=fe.collection()),ke==Ce&&!t.dragData.didDrag&&!t.hoverData.selecting&&ke!=null&&ke._private.selectable&&(t.hoverData.dragging||(fe.selectionType()==="additive"||je?ke.selected()?ke.unselect(["tapunselect"]):ke.select(["tapselect"]):je||(fe.$(r).unmerge(ke).unselect(["tapunselect"]),ke.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var He=fe.collection(t.getAllInBox(ae[0],ae[1],ae[2],ae[3]));t.redrawHint("select",!0),He.length>0&&t.redrawHint("eles",!0),fe.emit({type:"boxend",originalEvent:V,position:{x:J[0],y:J[1]}});var qe=function(ut){return ut.selectable()&&!ut.selected()};fe.selectionType()==="additive"||je||fe.$(r).unmerge(He).unselect(),He.emit("box").stdFilter(qe).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!ae[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var Ve=Ce&&Ce.grabbed();E(ve),Ve&&(Ce.emit("freeon"),ve.emit("free"),t.dragData.didDrag&&(Ce.emit("dragfreeon"),ve.emit("dragfree")))}}ae[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},!1);var $=function(V){if(!t.scrollingPage){var re=t.cy,fe=re.zoom(),J=re.pan(),ae=t.projectIntoViewport(V.clientX,V.clientY),ke=[ae[0]*fe+J.x,ae[1]*fe+J.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||I()){V.preventDefault();return}if(re.panningEnabled()&&re.userPanningEnabled()&&re.zoomingEnabled()&&re.userZoomingEnabled()){V.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var ve;V.deltaY!=null?ve=V.deltaY/-250:V.wheelDeltaY!=null?ve=V.wheelDeltaY/1e3:ve=V.wheelDelta/1e3,ve=ve*t.wheelSensitivity;var Ce=V.deltaMode===1;Ce&&(ve*=33);var je=re.zoom()*Math.pow(10,ve);V.type==="gesturechange"&&(je=t.gestureStartZoom*V.scale),re.zoom({level:je,renderedPosition:{x:ke[0],y:ke[1]}}),re.emit(V.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",$,!0),t.registerBinding(e,"scroll",function(V){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(V){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||V.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(me){t.hasTouchStarted||$(me)},!0),t.registerBinding(t.container,"mouseout",function(V){var re=t.projectIntoViewport(V.clientX,V.clientY);t.cy.emit({originalEvent:V,type:"mouseout",position:{x:re[0],y:re[1]}})},!1),t.registerBinding(t.container,"mouseover",function(V){var re=t.projectIntoViewport(V.clientX,V.clientY);t.cy.emit({originalEvent:V,type:"mouseover",position:{x:re[0],y:re[1]}})},!1);var H,W,U,G,K,L,_,Z,te,oe,le,ce,ie,Q=function(V,re,fe,J){return Math.sqrt((fe-V)*(fe-V)+(J-re)*(J-re))},ue=function(V,re,fe,J){return(fe-V)*(fe-V)+(J-re)*(J-re)},de;t.registerBinding(t.container,"touchstart",de=function(V){if(t.hasTouchStarted=!0,!!j(V)){k(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var re=t.cy,fe=t.touchData.now,J=t.touchData.earlier;if(V.touches[0]){var ae=t.projectIntoViewport(V.touches[0].clientX,V.touches[0].clientY);fe[0]=ae[0],fe[1]=ae[1]}if(V.touches[1]){var ae=t.projectIntoViewport(V.touches[1].clientX,V.touches[1].clientY);fe[2]=ae[0],fe[3]=ae[1]}if(V.touches[2]){var ae=t.projectIntoViewport(V.touches[2].clientX,V.touches[2].clientY);fe[4]=ae[0],fe[5]=ae[1]}if(V.touches[1]){t.touchData.singleTouchMoved=!0,E(t.dragData.touchDragEles);var ke=t.findContainerClientCoords();te=ke[0],oe=ke[1],le=ke[2],ce=ke[3],H=V.touches[0].clientX-te,W=V.touches[0].clientY-oe,U=V.touches[1].clientX-te,G=V.touches[1].clientY-oe,ie=0<=H&&H<=le&&0<=U&&U<=le&&0<=W&&W<=ce&&0<=G&&G<=ce;var ve=re.pan(),Ce=re.zoom();K=Q(H,W,U,G),L=ue(H,W,U,G),_=[(H+U)/2,(W+G)/2],Z=[(_[0]-ve.x)/Ce,(_[1]-ve.y)/Ce];var je=200,We=je*je;if(L<We&&!V.touches[2]){var Be=t.findNearestElement(fe[0],fe[1],!0,!0),He=t.findNearestElement(fe[2],fe[3],!0,!0);Be&&Be.isNode()?(Be.activate().emit({originalEvent:V,type:"cxttapstart",position:{x:fe[0],y:fe[1]}}),t.touchData.start=Be):He&&He.isNode()?(He.activate().emit({originalEvent:V,type:"cxttapstart",position:{x:fe[0],y:fe[1]}}),t.touchData.start=He):re.emit({originalEvent:V,type:"cxttapstart",position:{x:fe[0],y:fe[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(V.touches[2])re.boxSelectionEnabled()&&V.preventDefault();else if(!V.touches[1]){if(V.touches[0]){var qe=t.findNearestElements(fe[0],fe[1],!0,!0),Ve=qe[0];if(Ve!=null&&(Ve.activate(),t.touchData.start=Ve,t.touchData.starts=qe,t.nodeIsGrabbable(Ve))){var et=t.dragData.touchDragEles=re.collection(),ut=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),Ve.selected()?(ut=re.$(function(Bt){return Bt.selected()&&t.nodeIsGrabbable(Bt)}),S(ut,{addToList:et})):x(Ve,{addToList:et}),h(Ve);var rr=function(At){return{originalEvent:V,type:At,position:{x:fe[0],y:fe[1]}}};Ve.emit(rr("grabon")),ut?ut.forEach(function(Bt){Bt.emit(rr("grab"))}):Ve.emit(rr("grab"))}o(Ve,["touchstart","tapstart","vmousedown"],V,{x:fe[0],y:fe[1]}),Ve==null&&(t.data.bgActivePosistion={x:ae[0],y:ae[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&o(t.touchData.start,["taphold"],V,{x:fe[0],y:fe[1]})},t.tapholdDuration)}}if(V.touches.length>=1){for(var nr=t.touchData.startPosition=[null,null,null,null,null,null],Dt=0;Dt<fe.length;Dt++)nr[Dt]=J[Dt]=fe[Dt];var Rt=V.touches[0];t.touchData.startGPosition=[Rt.clientX,Rt.clientY]}}},!1);var Se;t.registerBinding(e,"touchmove",Se=function(V){var re=t.touchData.capture;if(!(!re&&!j(V))){var fe=t.selection,J=t.cy,ae=t.touchData.now,ke=t.touchData.earlier,ve=J.zoom();if(V.touches[0]){var Ce=t.projectIntoViewport(V.touches[0].clientX,V.touches[0].clientY);ae[0]=Ce[0],ae[1]=Ce[1]}if(V.touches[1]){var Ce=t.projectIntoViewport(V.touches[1].clientX,V.touches[1].clientY);ae[2]=Ce[0],ae[3]=Ce[1]}if(V.touches[2]){var Ce=t.projectIntoViewport(V.touches[2].clientX,V.touches[2].clientY);ae[4]=Ce[0],ae[5]=Ce[1]}var je=t.touchData.startGPosition,We;if(re&&V.touches[0]&&je){for(var Be=[],He=0;He<ae.length;He++)Be[He]=ae[He]-ke[He];var qe=V.touches[0].clientX-je[0],Ve=qe*qe,et=V.touches[0].clientY-je[1],ut=et*et,rr=Ve+ut;We=rr>=t.touchTapThreshold2}if(re&&t.touchData.cxt){V.preventDefault();var nr=V.touches[0].clientX-te,Dt=V.touches[0].clientY-oe,Rt=V.touches[1].clientX-te,Bt=V.touches[1].clientY-oe,At=ue(nr,Dt,Rt,Bt),Ut=At/L,ar=150,ir=ar*ar,or=1.5,Kr=or*or;if(Ut>=Kr||At>=ir){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var mr={originalEvent:V,type:"cxttapend",position:{x:ae[0],y:ae[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(mr),t.touchData.start=null):J.emit(mr)}}if(re&&t.touchData.cxt){var mr={originalEvent:V,type:"cxtdrag",position:{x:ae[0],y:ae[1]}};t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(mr):J.emit(mr),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var It=t.findNearestElement(ae[0],ae[1],!0,!0);(!t.touchData.cxtOver||It!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:V,type:"cxtdragout",position:{x:ae[0],y:ae[1]}}),t.touchData.cxtOver=It,It&&It.emit({originalEvent:V,type:"cxtdragover",position:{x:ae[0],y:ae[1]}}))}else if(re&&V.touches[2]&&J.boxSelectionEnabled())V.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||J.emit({originalEvent:V,type:"boxstart",position:{x:ae[0],y:ae[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,fe[4]=1,!fe||fe.length===0||fe[0]===void 0?(fe[0]=(ae[0]+ae[2]+ae[4])/3,fe[1]=(ae[1]+ae[3]+ae[5])/3,fe[2]=(ae[0]+ae[2]+ae[4])/3+1,fe[3]=(ae[1]+ae[3]+ae[5])/3+1):(fe[2]=(ae[0]+ae[2]+ae[4])/3,fe[3]=(ae[1]+ae[3]+ae[5])/3),t.redrawHint("select",!0),t.redraw();else if(re&&V.touches[1]&&!t.touchData.didSelect&&J.zoomingEnabled()&&J.panningEnabled()&&J.userZoomingEnabled()&&J.userPanningEnabled()){V.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Ct=t.dragData.touchDragEles;if(Ct){t.redrawHint("drag",!0);for(var Ht=0;Ht<Ct.length;Ht++){var _a=Ct[Ht]._private;_a.grabbed=!1,_a.rscratch.inDragLayer=!1}}var Ar=t.touchData.start,nr=V.touches[0].clientX-te,Dt=V.touches[0].clientY-oe,Rt=V.touches[1].clientX-te,Bt=V.touches[1].clientY-oe,Jo=Q(nr,Dt,Rt,Bt),mn=Jo/K;if(ie){var es=nr-H,ts=Dt-W,uu=Rt-U,rs=Bt-G,ns=(es+uu)/2,as=(ts+rs)/2,Bn=J.zoom(),Fi=Bn*mn,$a=J.pan(),Et=Z[0]*Bn+$a.x,is=Z[1]*Bn+$a.y,ji={x:-Fi/Bn*(Et-$a.x-ns)+Et,y:-Fi/Bn*(is-$a.y-as)+is};if(Ar&&Ar.active()){var Ct=t.dragData.touchDragEles;E(Ct),t.redrawHint("drag",!0),t.redrawHint("eles",!0),Ar.unactivate().emit("freeon"),Ct.emit("free"),t.dragData.didDrag&&(Ar.emit("dragfreeon"),Ct.emit("dragfree"))}J.viewport({zoom:Fi,pan:ji,cancelOnFailedZoom:!0}),J.emit("pinchzoom"),K=Jo,H=nr,W=Dt,U=Rt,G=Bt,t.pinching=!0}if(V.touches[0]){var Ce=t.projectIntoViewport(V.touches[0].clientX,V.touches[0].clientY);ae[0]=Ce[0],ae[1]=Ce[1]}if(V.touches[1]){var Ce=t.projectIntoViewport(V.touches[1].clientX,V.touches[1].clientY);ae[2]=Ce[0],ae[3]=Ce[1]}if(V.touches[2]){var Ce=t.projectIntoViewport(V.touches[2].clientX,V.touches[2].clientY);ae[4]=Ce[0],ae[5]=Ce[1]}}else if(V.touches[0]&&!t.touchData.didSelect){var Er=t.touchData.start,In=t.touchData.last,It;if(!t.hoverData.draggingEles&&!t.swipePanning&&(It=t.findNearestElement(ae[0],ae[1],!0,!0)),re&&Er!=null&&V.preventDefault(),re&&Er!=null&&t.nodeIsDraggable(Er))if(We){var Ct=t.dragData.touchDragEles,os=!t.dragData.didDrag;os&&S(Ct,{inDragLayer:!0}),t.dragData.didDrag=!0;var Mn={x:0,y:0};if(be(Be[0])&&be(Be[1])&&(Mn.x+=Be[0],Mn.y+=Be[1],os)){t.redrawHint("eles",!0);var sr=t.touchData.dragDelta;sr&&be(sr[0])&&be(sr[1])&&(Mn.x+=sr[0],Mn.y+=sr[1])}t.hoverData.draggingEles=!0,Ct.silentShift(Mn).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==ke[0]&&t.touchData.startPosition[1]==ke[1]&&t.redrawHint("eles",!0),t.redraw()}else{var sr=t.touchData.dragDelta=t.touchData.dragDelta||[];sr.length===0?(sr.push(Be[0]),sr.push(Be[1])):(sr[0]+=Be[0],sr[1]+=Be[1])}if(o(Er||It,["touchmove","tapdrag","vmousemove"],V,{x:ae[0],y:ae[1]}),(!Er||!Er.grabbed())&&It!=In&&(In&&In.emit({originalEvent:V,type:"tapdragout",position:{x:ae[0],y:ae[1]}}),It&&It.emit({originalEvent:V,type:"tapdragover",position:{x:ae[0],y:ae[1]}})),t.touchData.last=It,re)for(var Ht=0;Ht<ae.length;Ht++)ae[Ht]&&t.touchData.startPosition[Ht]&&We&&(t.touchData.singleTouchMoved=!0);if(re&&(Er==null||Er.pannable())&&J.panningEnabled()&&J.userPanningEnabled()){var zr=l(Er,t.touchData.starts);zr&&(V.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=yi(t.touchData.startPosition)),t.swipePanning?(J.panBy({x:Be[0]*ve,y:Be[1]*ve}),J.emit("dragpan")):We&&(t.swipePanning=!0,J.panBy({x:qe*ve,y:et*ve}),J.emit("dragpan"),Er&&(Er.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var Ce=t.projectIntoViewport(V.touches[0].clientX,V.touches[0].clientY);ae[0]=Ce[0],ae[1]=Ce[1]}}for(var He=0;He<ae.length;He++)ke[He]=ae[He];re&&V.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var Ae;t.registerBinding(e,"touchcancel",Ae=function(V){var re=t.touchData.start;t.touchData.capture=!1,re&&re.unactivate()});var Ee,xe,Re,Pe;if(t.registerBinding(e,"touchend",Ee=function(V){var re=t.touchData.start,fe=t.touchData.capture;if(fe)V.touches.length===0&&(t.touchData.capture=!1),V.preventDefault();else return;var J=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var ae=t.cy,ke=ae.zoom(),ve=t.touchData.now,Ce=t.touchData.earlier;if(V.touches[0]){var je=t.projectIntoViewport(V.touches[0].clientX,V.touches[0].clientY);ve[0]=je[0],ve[1]=je[1]}if(V.touches[1]){var je=t.projectIntoViewport(V.touches[1].clientX,V.touches[1].clientY);ve[2]=je[0],ve[3]=je[1]}if(V.touches[2]){var je=t.projectIntoViewport(V.touches[2].clientX,V.touches[2].clientY);ve[4]=je[0],ve[5]=je[1]}re&&re.unactivate();var We;if(t.touchData.cxt){if(We={originalEvent:V,type:"cxttapend",position:{x:ve[0],y:ve[1]}},re?re.emit(We):ae.emit(We),!t.touchData.cxtDragged){var Be={originalEvent:V,type:"cxttap",position:{x:ve[0],y:ve[1]}};re?re.emit(Be):ae.emit(Be)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!V.touches[2]&&ae.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var He=ae.collection(t.getAllInBox(J[0],J[1],J[2],J[3]));J[0]=void 0,J[1]=void 0,J[2]=void 0,J[3]=void 0,J[4]=0,t.redrawHint("select",!0),ae.emit({type:"boxend",originalEvent:V,position:{x:ve[0],y:ve[1]}});var qe=function(ir){return ir.selectable()&&!ir.selected()};He.emit("box").stdFilter(qe).select().emit("boxselect"),He.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(re!=null&&re.unactivate(),V.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!V.touches[1]){if(!V.touches[0]){if(!V.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Ve=t.dragData.touchDragEles;if(re!=null){var et=re._private.grabbed;E(Ve),t.redrawHint("drag",!0),t.redrawHint("eles",!0),et&&(re.emit("freeon"),Ve.emit("free"),t.dragData.didDrag&&(re.emit("dragfreeon"),Ve.emit("dragfree"))),o(re,["touchend","tapend","vmouseup","tapdragout"],V,{x:ve[0],y:ve[1]}),re.unactivate(),t.touchData.start=null}else{var ut=t.findNearestElement(ve[0],ve[1],!0,!0);o(ut,["touchend","tapend","vmouseup","tapdragout"],V,{x:ve[0],y:ve[1]})}var rr=t.touchData.startPosition[0]-ve[0],nr=rr*rr,Dt=t.touchData.startPosition[1]-ve[1],Rt=Dt*Dt,Bt=nr+Rt,At=Bt*ke*ke;t.touchData.singleTouchMoved||(re||ae.$(":selected").unselect(["tapunselect"]),o(re,["tap","vclick"],V,{x:ve[0],y:ve[1]}),xe=!1,V.timeStamp-Pe<=ae.multiClickDebounceTime()?(Re&&clearTimeout(Re),xe=!0,Pe=null,o(re,["dbltap","vdblclick"],V,{x:ve[0],y:ve[1]})):(Re=setTimeout(function(){xe||o(re,["onetap","voneclick"],V,{x:ve[0],y:ve[1]})},ae.multiClickDebounceTime()),Pe=V.timeStamp)),re!=null&&!t.dragData.didDrag&&re._private.selectable&&At<t.touchTapThreshold2&&!t.pinching&&(ae.selectionType()==="single"?(ae.$(r).unmerge(re).unselect(["tapunselect"]),re.select(["tapselect"])):re.selected()?re.unselect(["tapunselect"]):re.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var Ut=0;Ut<ve.length;Ut++)Ce[Ut]=ve[Ut];t.dragData.didDrag=!1,V.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),V.touches.length<2&&(V.touches.length===1&&(t.touchData.startGPosition=[V.touches[0].clientX,V.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var Te=[],ze=function(V){return{clientX:V.clientX,clientY:V.clientY,force:1,identifier:V.pointerId,pageX:V.pageX,pageY:V.pageY,radiusX:V.width/2,radiusY:V.height/2,screenX:V.screenX,screenY:V.screenY,target:V.target}},Ze=function(V){return{event:V,touch:ze(V)}},Qe=function(V){Te.push(Ze(V))},Ge=function(V){for(var re=0;re<Te.length;re++){var fe=Te[re];if(fe.event.pointerId===V.pointerId){Te.splice(re,1);return}}},at=function(V){var re=Te.filter(function(fe){return fe.event.pointerId===V.pointerId})[0];re.event=V,re.touch=ze(V)},Ye=function(V){V.touches=Te.map(function(re){return re.touch})},Je=function(V){return V.pointerType==="mouse"||V.pointerType===4};t.registerBinding(t.container,"pointerdown",function(me){Je(me)||(me.preventDefault(),Qe(me),Ye(me),de(me))}),t.registerBinding(t.container,"pointerup",function(me){Je(me)||(Ge(me),Ye(me),Ee(me))}),t.registerBinding(t.container,"pointercancel",function(me){Je(me)||(Ge(me),Ye(me),Ae(me))}),t.registerBinding(t.container,"pointermove",function(me){Je(me)||(me.preventDefault(),at(me),Ye(me),Se(me))})}};var Ln={};Ln.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(a,o,s,l,u,d){this.renderer.nodeShapeImpl("polygon",a,o,s,l,u,this.points)},intersectLine:function(a,o,s,l,u,d,f,v){return Fo(u,d,this.points,a,o,s/2,l/2,f)},checkPoint:function(a,o,s,l,u,d,f,v){return Pn(a,o,this.points,d,f,l,u,[0,-1],s)}}};Ln.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,a,o,s,l){this.renderer.nodeShapeImpl(this.name,e,r,a,o,s)},intersectLine:function(e,r,a,o,s,l,u,d){return zw(s,l,e,r,a/2+u,o/2+u)},checkPoint:function(e,r,a,o,s,l,u,d){return Ra(e,r,o,s,l,u,a)}}};Ln.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(a,o,s,l,u,d,f){if(d[f]!==void 0&&d[f+"-cx"]===a&&d[f+"-cy"]===o)return d[f];d[f]=new Array(e.length/2),d[f+"-cx"]=a,d[f+"-cy"]=o;var v=s/2,h=l/2;u=u==="auto"?Cg(s,l):u;for(var g=new Array(e.length/2),y=0;y<e.length/2;y++)g[y]={x:a+v*e[y*2],y:o+h*e[y*2+1]};var m,S,x,E,b=g.length;for(S=g[b-1],m=0;m<b;m++)x=g[m%b],E=g[(m+1)%b],d[f][m]=Xf(S,x,E,u),S=x,x=E;return d[f]},draw:function(a,o,s,l,u,d,f){this.renderer.nodeShapeImpl("round-polygon",a,o,s,l,u,this.points,this.getOrCreateCorners(o,s,l,u,d,f,"drawCorners"))},intersectLine:function(a,o,s,l,u,d,f,v,h){return Fw(u,d,this.points,a,o,s,l,f,this.getOrCreateCorners(a,o,s,l,v,h,"corners"))},checkPoint:function(a,o,s,l,u,d,f,v,h){return Aw(a,o,this.points,d,f,l,u,this.getOrCreateCorners(d,f,l,u,v,h,"corners"))}}};Ln.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:xr(4,0),draw:function(e,r,a,o,s,l){this.renderer.nodeShapeImpl(this.name,e,r,a,o,s,this.points,l)},intersectLine:function(e,r,a,o,s,l,u,d){return Eg(s,l,e,r,a,o,u,d)},checkPoint:function(e,r,a,o,s,l,u,d){var f=o/2,v=s/2;d=d==="auto"?Oa(o,s):d,d=Math.min(f,v,d);var h=d*2;return!!(Pn(e,r,this.points,l,u,o,s-h,[0,-1],a)||Pn(e,r,this.points,l,u,o-h,s,[0,-1],a)||Ra(e,r,h,h,l-f+d,u-v+d,a)||Ra(e,r,h,h,l+f-d,u-v+d,a)||Ra(e,r,h,h,l+f-d,u+v-d,a)||Ra(e,r,h,h,l-f+d,u+v-d,a))}}};Ln.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:jf(),points:xr(4,0),draw:function(e,r,a,o,s,l){this.renderer.nodeShapeImpl(this.name,e,r,a,o,s,null,l)},generateCutTrianglePts:function(e,r,a,o,s){var l=s==="auto"?this.cornerLength:s,u=r/2,d=e/2,f=a-d,v=a+d,h=o-u,g=o+u;return{topLeft:[f,h+l,f+l,h,f+l,h+l],topRight:[v-l,h,v,h+l,v-l,h+l],bottomRight:[v,g-l,v-l,g,v-l,g-l],bottomLeft:[f+l,g,f,g-l,f+l,g-l]}},intersectLine:function(e,r,a,o,s,l,u,d){var f=this.generateCutTrianglePts(a+2*u,o+2*u,e,r,d),v=[].concat.apply([],[f.topLeft.splice(0,4),f.topRight.splice(0,4),f.bottomRight.splice(0,4),f.bottomLeft.splice(0,4)]);return Fo(s,l,v,e,r)},checkPoint:function(e,r,a,o,s,l,u,d){var f=d==="auto"?this.cornerLength:d;if(Pn(e,r,this.points,l,u,o,s-2*f,[0,-1],a)||Pn(e,r,this.points,l,u,o-2*f,s,[0,-1],a))return!0;var v=this.generateCutTrianglePts(o,s,l,u);return Pr(e,r,v.topLeft)||Pr(e,r,v.topRight)||Pr(e,r,v.bottomRight)||Pr(e,r,v.bottomLeft)}}};Ln.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:xr(4,0),draw:function(e,r,a,o,s,l){this.renderer.nodeShapeImpl(this.name,e,r,a,o,s)},intersectLine:function(e,r,a,o,s,l,u,d){var f=.15,v=.5,h=.85,g=this.generateBarrelBezierPts(a+2*u,o+2*u,e,r),y=function(x){var E=xi({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},f),b=xi({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},v),k=xi({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},h);return[x[0],x[1],E.x,E.y,b.x,b.y,k.x,k.y,x[4],x[5]]},m=[].concat(y(g.topLeft),y(g.topRight),y(g.bottomRight),y(g.bottomLeft));return Fo(s,l,m,e,r)},generateBarrelBezierPts:function(e,r,a,o){var s=r/2,l=e/2,u=a-l,d=a+l,f=o-s,v=o+s,h=vf(e,r),g=h.heightOffset,y=h.widthOffset,m=h.ctrlPtOffsetPct*e,S={topLeft:[u,f+g,u+m,f,u+y,f],topRight:[d-y,f,d-m,f,d,f+g],bottomRight:[d,v-g,d-m,v,d-y,v],bottomLeft:[u+y,v,u+m,v,u,v-g]};return S.topLeft.isTop=!0,S.topRight.isTop=!0,S.bottomLeft.isBottom=!0,S.bottomRight.isBottom=!0,S},checkPoint:function(e,r,a,o,s,l,u,d){var f=vf(o,s),v=f.heightOffset,h=f.widthOffset;if(Pn(e,r,this.points,l,u,o,s-2*v,[0,-1],a)||Pn(e,r,this.points,l,u,o-2*h,s,[0,-1],a))return!0;for(var g=this.generateBarrelBezierPts(o,s,l,u),y=function(O,I,j){var M=j[4],A=j[2],F=j[0],z=j[5],$=j[1],H=Math.min(M,F),W=Math.max(M,F),U=Math.min(z,$),G=Math.max(z,$);if(H<=O&&O<=W&&U<=I&&I<=G){var K=jw(M,A,F),L=Bw(K[0],K[1],K[2],O),_=L.filter(function(Z){return 0<=Z&&Z<=1});if(_.length>0)return _[0]}return null},m=Object.keys(g),S=0;S<m.length;S++){var x=m[S],E=g[x],b=y(e,r,E);if(b!=null){var k=E[5],D=E[3],B=E[1],N=Gt(k,D,B,b);if(E.isTop&&N<=r||E.isBottom&&r<=N)return!0}}return!1}}};Ln.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:xr(4,0),draw:function(e,r,a,o,s,l){this.renderer.nodeShapeImpl(this.name,e,r,a,o,s,this.points,l)},intersectLine:function(e,r,a,o,s,l,u,d){var f=e-(a/2+u),v=r-(o/2+u),h=v,g=e+(a/2+u),y=na(s,l,e,r,f,v,g,h,!1);return y.length>0?y:Eg(s,l,e,r,a,o,u,d)},checkPoint:function(e,r,a,o,s,l,u,d){d=d==="auto"?Oa(o,s):d;var f=2*d;if(Pn(e,r,this.points,l,u,o,s-f,[0,-1],a)||Pn(e,r,this.points,l,u,o-f,s,[0,-1],a))return!0;var v=o/2+2*a,h=s/2+2*a,g=[l-v,u-h,l-v,u,l+v,u,l+v,u-h];return!!(Pr(e,r,g)||Ra(e,r,f,f,l+o/2-d,u+s/2-d,a)||Ra(e,r,f,f,l-o/2+d,u+s/2-d,a))}}};Ln.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",xr(3,0)),this.generateRoundPolygon("round-triangle",xr(3,0)),this.generatePolygon("rectangle",xr(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",xr(5,0)),this.generateRoundPolygon("round-pentagon",xr(5,0)),this.generatePolygon("hexagon",xr(6,0)),this.generateRoundPolygon("round-hexagon",xr(6,0)),this.generatePolygon("heptagon",xr(7,0)),this.generateRoundPolygon("round-heptagon",xr(7,0)),this.generatePolygon("octagon",xr(8,0)),this.generateRoundPolygon("round-octagon",xr(8,0));var a=new Array(20);{var o=df(5,0),s=df(5,Math.PI/5),l=.5*(3-Math.sqrt(5));l*=1.57;for(var u=0;u<s.length/2;u++)s[u*2]*=l,s[u*2+1]*=l;for(var u=0;u<20/4;u++)a[u*4]=o[u*2],a[u*4+1]=o[u*2+1],a[u*4+2]=s[u*2],a[u*4+3]=s[u*2+1]}a=Sg(a),this.generatePolygon("star",a),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var d=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",d),this.generateRoundPolygon("round-tag",d)}t.makePolygon=function(f){var v=f.join("$"),h="polygon-"+v,g;return(g=this[h])?g:e.generatePolygon(h,f)}};var Xo={};Xo.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};Xo.redraw=function(t){t=t||gg();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};Xo.beforeRender=function(t,e){if(!this.destroyed){e==null&&Nt("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(a,o){return o.priority-a.priority})}};var Ap=function(e,r,a){for(var o=e.beforeRenderCallbacks,s=0;s<o.length;s++)o[s].fn(r,a)};Xo.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function a(o){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){Ap(t,!0,o);var s=Dn();t.render(t.renderOptions);var l=t.lastDrawTime=Dn();t.averageRedrawTime===void 0&&(t.averageRedrawTime=l-s),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var u=l-s;t.redrawTotalTime+=u,t.lastRedrawTime=u,t.averageRedrawTime=t.averageRedrawTime/2+u/2,t.requestedFrame=!1}else Ap(t,!1,o);t.skipFrame=!1,Ol(a)}};Ol(r)}};var xb=function(e){this.init(e)},Em=xb,Ai=Em.prototype;Ai.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];Ai.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container(),a=e.cy.window();if(a){var o=a.document,s=o.head,l="__________cytoscape_stylesheet",u="__________cytoscape_container",d=o.getElementById(l)!=null;if(r.className.indexOf(u)<0&&(r.className=(r.className||"")+" "+u),!d){var f=o.createElement("style");f.id=l,f.textContent="."+u+" { position: relative; }",s.insertBefore(f,s.children[0])}var v=a.getComputedStyle(r),h=v.getPropertyValue("position");h==="static"&&ft("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=be(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};Ai.notify=function(t,e){var r=this,a=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&a.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};Ai.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],a=r,o=a.target;(o.off||o.removeEventListener).apply(o,a.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};Ai.isHeadless=function(){return!1};[Qf,wm,xm,Oi,Ln,Xo].forEach(function(t){Ue(Ai,t)});var af=1e3/60,Sm={setupDequeueing:function(e){return function(){var a=this,o=this.renderer;if(!a.dequeueingSetup){a.dequeueingSetup=!0;var s=Kl(function(){o.redrawHint("eles",!0),o.redrawHint("drag",!0),o.redraw()},e.deqRedrawThreshold),l=function(f,v){var h=Dn(),g=o.averageRedrawTime,y=o.lastRedrawTime,m=[],S=o.cy.extent(),x=o.getPixelRatio();for(f||o.flushRenderedStyleQueue();;){var E=Dn(),b=E-h,k=E-v;if(y<af){var D=af-(f?g:0);if(k>=e.deqFastCost*D)break}else if(f){if(b>=e.deqCost*y||b>=e.deqAvgCost*g)break}else if(k>=e.deqNoDrawCost*af)break;var B=e.deq(a,x,S);if(B.length>0)for(var N=0;N<B.length;N++)m.push(B[N]);else break}m.length>0&&(e.onDeqd(a,m),!f&&e.shouldRedraw(a,m,x,S)&&s())},u=e.priority||Of;o.beforeRender(l,u(a))}}}},Eb=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Al;Lf(this,t),this.idsByKey=new vn,this.keyForId=new vn,this.cachesByLvl=new vn,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return Rf(t,[{key:"getIdsFor",value:function(r){r==null&&Nt("Can not get id list for null key");var a=this.idsByKey,o=this.idsByKey.get(r);return o||(o=new Pi,a.set(r,o)),o}},{key:"addIdForKey",value:function(r,a){r!=null&&this.getIdsFor(r).add(a)}},{key:"deleteIdForKey",value:function(r,a){r!=null&&this.getIdsFor(r).delete(a)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var a=r.id(),o=this.keyForId.get(a),s=this.getKey(r);this.deleteIdForKey(o,a),this.addIdForKey(s,a),this.keyForId.set(a,s)}},{key:"deleteKeyMappingFor",value:function(r){var a=r.id(),o=this.keyForId.get(a);this.deleteIdForKey(o,a),this.keyForId.delete(a)}},{key:"keyHasChangedFor",value:function(r){var a=r.id(),o=this.keyForId.get(a),s=this.getKey(r);return o!==s}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var a=this.cachesByLvl,o=this.lvls,s=a.get(r);return s||(s=new vn,a.set(r,s),o.push(r)),s}},{key:"getCache",value:function(r,a){return this.getCachesAt(a).get(r)}},{key:"get",value:function(r,a){var o=this.getKey(r),s=this.getCache(o,a);return s!=null&&this.updateKeyMappingFor(r),s}},{key:"getForCachedKey",value:function(r,a){var o=this.keyForId.get(r.id()),s=this.getCache(o,a);return s}},{key:"hasCache",value:function(r,a){return this.getCachesAt(a).has(r)}},{key:"has",value:function(r,a){var o=this.getKey(r);return this.hasCache(o,a)}},{key:"setCache",value:function(r,a,o){o.key=r,this.getCachesAt(a).set(r,o)}},{key:"set",value:function(r,a,o){var s=this.getKey(r);this.setCache(s,a,o),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,a){this.getCachesAt(a).delete(r)}},{key:"delete",value:function(r,a){var o=this.getKey(r);this.deleteCache(o,a)}},{key:"invalidateKey",value:function(r){var a=this;this.lvls.forEach(function(o){return a.deleteCache(r,o)})}},{key:"invalidate",value:function(r){var a=r.id(),o=this.keyForId.get(a);this.deleteKeyMappingFor(r);var s=this.doesEleInvalidateKey(r);return s&&this.invalidateKey(o),s||this.getNumberOfIdsForKey(o)===0}}]),t}(),zp=25,Cl=50,Bl=-4,bf=3,Sb=7.99,Cb=8,bb=1024,kb=1024,Tb=1024,Db=.2,Pb=.8,Nb=10,Lb=.15,Rb=.1,Bb=.9,Ib=.9,Mb=100,Ob=1,wi={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Ab=er({getKey:null,doesEleInvalidateKey:Al,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:vg,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Lo=function(e,r){var a=this;a.renderer=e,a.onDequeues=[];var o=Ab(r);Ue(a,o),a.lookup=new Eb(o.getKey,o.doesEleInvalidateKey),a.setupDequeueing()},$t=Lo.prototype;$t.reasons=wi;$t.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};$t.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},a=r[t]=r[t]||[];return a};$t.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new Ko(function(r,a){return a.reqs-r.reqs});return e};$t.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};$t.getElement=function(t,e,r,a,o){var s=this,l=this.renderer,u=l.cy.zoom(),d=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!s.allowEdgeTxrCaching&&t.isEdge()||!s.allowParentTxrCaching&&t.isParent())return null;if(a==null&&(a=Math.ceil(zf(u*r))),a<Bl)a=Bl;else if(u>=Sb||a>bf)return null;var f=Math.pow(2,a),v=e.h*f,h=e.w*f,g=l.eleTextBiggerThanMin(t,f);if(!this.isVisible(t,g))return null;var y=d.get(t,a);if(y&&y.invalidated&&(y.invalidated=!1,y.texture.invalidatedWidth-=y.width),y)return y;var m;if(v<=zp?m=zp:v<=Cl?m=Cl:m=Math.ceil(v/Cl)*Cl,v>Tb||h>kb)return null;var S=s.getTextureQueue(m),x=S[S.length-2],E=function(){return s.recycleTexture(m,h)||s.addTexture(m,h)};x||(x=S[S.length-1]),x||(x=E()),x.width-x.usedWidth<h&&(x=E());for(var b=function(H){return H&&H.scaledLabelShown===g},k=o&&o===wi.dequeue,D=o&&o===wi.highQuality,B=o&&o===wi.downscale,N,T=a+1;T<=bf;T++){var O=d.get(t,T);if(O){N=O;break}}var I=N&&N.level===a+1?N:null,j=function(){x.context.drawImage(I.texture.canvas,I.x,0,I.width,I.height,x.usedWidth,0,h,v)};if(x.context.setTransform(1,0,0,1,0,0),x.context.clearRect(x.usedWidth,0,h,m),b(I))j();else if(b(N))if(D){for(var M=N.level;M>a;M--)I=s.getElement(t,e,r,M,wi.downscale);j()}else return s.queueElement(t,N.level-1),N;else{var A;if(!k&&!D&&!B)for(var F=a-1;F>=Bl;F--){var z=d.get(t,F);if(z){A=z;break}}if(b(A))return s.queueElement(t,a),A;x.context.translate(x.usedWidth,0),x.context.scale(f,f),this.drawElement(x.context,t,e,g,!1),x.context.scale(1/f,1/f),x.context.translate(-x.usedWidth,0)}return y={x:x.usedWidth,texture:x,level:a,scale:f,width:h,height:v,scaledLabelShown:g},x.usedWidth+=Math.ceil(h+Cb),x.eleCaches.push(y),d.set(t,a,y),s.checkTextureFullness(x),y};$t.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};$t.invalidateElement=function(t){var e=this,r=e.lookup,a=[],o=r.isInvalid(t);if(o){for(var s=Bl;s<=bf;s++){var l=r.getForCachedKey(t,s);l&&a.push(l)}var u=r.invalidate(t);if(u)for(var d=0;d<a.length;d++){var f=a[d],v=f.texture;v.invalidatedWidth+=f.width,f.invalidated=!0,e.checkTextureUtility(v)}e.removeFromQueue(t)}};$t.checkTextureUtility=function(t){t.invalidatedWidth>=Db*t.width&&this.retireTexture(t)};$t.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>Pb&&t.fullnessChecks>=Nb?sa(r,t):t.fullnessChecks++};$t.retireTexture=function(t){var e=this,r=t.height,a=e.getTextureQueue(r),o=this.lookup;sa(a,t),t.retired=!0;for(var s=t.eleCaches,l=0;l<s.length;l++){var u=s[l];o.deleteCache(u.key,u.level)}Af(s);var d=e.getRetiredTextureQueue(r);d.push(t)};$t.addTexture=function(t,e){var r=this,a=r.getTextureQueue(t),o={};return a.push(o),o.eleCaches=[],o.height=t,o.width=Math.max(bb,e),o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,o.canvas=r.renderer.makeOffscreenCanvas(o.width,o.height),o.context=o.canvas.getContext("2d"),o};$t.recycleTexture=function(t,e){for(var r=this,a=r.getTextureQueue(t),o=r.getRetiredTextureQueue(t),s=0;s<o.length;s++){var l=o[s];if(l.width>=e)return l.retired=!1,l.usedWidth=0,l.invalidatedWidth=0,l.fullnessChecks=0,Af(l.eleCaches),l.context.setTransform(1,0,0,1,0,0),l.context.clearRect(0,0,l.width,l.height),sa(o,l),a.push(l),l}};$t.queueElement=function(t,e){var r=this,a=r.getElementQueue(),o=r.getElementKeyToQueue(),s=this.getKey(t),l=o[s];if(l)l.level=Math.max(l.level,e),l.eles.merge(t),l.reqs++,a.updateItem(l);else{var u={eles:t.spawn().merge(t),level:e,reqs:1,key:s};a.push(u),o[s]=u}};$t.dequeue=function(t){for(var e=this,r=e.getElementQueue(),a=e.getElementKeyToQueue(),o=[],s=e.lookup,l=0;l<Ob&&r.size()>0;l++){var u=r.pop(),d=u.key,f=u.eles[0],v=s.hasCache(f,u.level);if(a[d]=null,v)continue;o.push(u);var h=e.getBoundingBox(f);e.getElement(f,h,t,u.level,wi.dequeue)}return o};$t.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),a=e.getElementKeyToQueue(),o=this.getKey(t),s=a[o];s!=null&&(s.eles.length===1?(s.reqs=Mf,r.updateItem(s),r.pop(),a[o]=null):s.eles.unmerge(t))};$t.onDequeue=function(t){this.onDequeues.push(t)};$t.offDequeue=function(t){sa(this.onDequeues,t)};$t.setupDequeueing=Sm.setupDequeueing({deqRedrawThreshold:Mb,deqCost:Lb,deqAvgCost:Rb,deqNoDrawCost:Bb,deqFastCost:Ib,deq:function(e,r,a){return e.dequeue(r,a)},onDeqd:function(e,r){for(var a=0;a<e.onDequeues.length;a++){var o=e.onDequeues[a];o(r)}},shouldRedraw:function(e,r,a,o){for(var s=0;s<r.length;s++)for(var l=r[s].eles,u=0;u<l.length;u++){var d=l[u].boundingBox();if(Ff(d,o))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var zb=1,Bo=-4,Hl=2,Fb=3.99,jb=50,Vb=50,_b=.15,$b=.1,Ub=.9,Hb=.9,qb=1,Fp=250,Wb=4e3*4e3,jp=32767,Kb=!0,Cm=function(e){var r=this,a=r.renderer=e,o=a.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=Dn()-2*Fp,r.skipping=!1,r.eleTxrDeqs=o.collection(),r.scheduleElementRefinement=Kl(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},Vb),a.beforeRender(function(l,u){u-r.lastInvalidationTime<=Fp?r.skipping=!0:r.skipping=!1},a.beforeRenderPriorities.lyrTxrSkip);var s=function(u,d){return d.reqs-u.reqs};r.layersQueue=new Ko(s),r.setupDequeueing()},tr=Cm.prototype,Vp=0,Gb=Math.pow(2,53)-1;tr.makeLayer=function(t,e){var r=Math.pow(2,e),a=Math.ceil(t.w*r),o=Math.ceil(t.h*r),s=this.renderer.makeOffscreenCanvas(a,o),l={id:Vp=++Vp%Gb,bb:t,level:e,width:a,height:o,canvas:s,context:s.getContext("2d"),eles:[],elesQueue:[],reqs:0},u=l.context,d=-l.bb.x1,f=-l.bb.y1;return u.scale(r,r),u.translate(d,f),l};tr.getLayers=function(t,e,r){var a=this,o=a.renderer,s=o.cy,l=s.zoom(),u=a.firstGet;if(a.firstGet=!1,r==null){if(r=Math.ceil(zf(l*e)),r<Bo)r=Bo;else if(l>=Fb||r>Hl)return null}a.validateLayersElesOrdering(r,t);var d=a.layersByLevel,f=Math.pow(2,r),v=d[r]=d[r]||[],h,g=a.levelIsComplete(r,t),y,m=function(){var j=function($){if(a.validateLayersElesOrdering($,t),a.levelIsComplete($,t))return y=d[$],!0},M=function($){if(!y)for(var H=r+$;Bo<=H&&H<=Hl&&!j(H);H+=$);};M(1),M(-1);for(var A=v.length-1;A>=0;A--){var F=v[A];F.invalid&&sa(v,F)}};if(!g)m();else return v;var S=function(){if(!h){h=Nr();for(var j=0;j<t.length;j++)wg(h,t[j].boundingBox())}return h},x=function(j){j=j||{};var M=j.after;S();var A=Math.ceil(h.w*f),F=Math.ceil(h.h*f);if(A>jp||F>jp)return null;var z=A*F;if(z>Wb)return null;var $=a.makeLayer(h,r);if(M!=null){var H=v.indexOf(M)+1;v.splice(H,0,$)}else(j.insert===void 0||j.insert)&&v.unshift($);return $};if(a.skipping&&!u)return null;for(var E=null,b=t.length/zb,k=!u,D=0;D<t.length;D++){var B=t[D],N=B._private.rscratch,T=N.imgLayerCaches=N.imgLayerCaches||{},O=T[r];if(O){E=O;continue}if((!E||E.eles.length>=b||!xg(E.bb,B.boundingBox()))&&(E=x({insert:!0,after:E}),!E))return null;y||k?a.queueLayer(E,B):a.drawEleInLayer(E,B,r,e),E.eles.push(B),T[r]=E}return y||(k?null:v)};tr.getEleLevelForLayerLevel=function(t,e){return t};tr.drawEleInLayer=function(t,e,r,a){var o=this,s=this.renderer,l=t.context,u=e.boundingBox();u.w===0||u.h===0||!e.visible()||(r=o.getEleLevelForLayerLevel(r,a),s.setImgSmoothing(l,!1),s.drawCachedElement(l,e,null,null,r,Kb),s.setImgSmoothing(l,!0))};tr.levelIsComplete=function(t,e){var r=this,a=r.layersByLevel[t];if(!a||a.length===0)return!1;for(var o=0,s=0;s<a.length;s++){var l=a[s];if(l.reqs>0||l.invalid)return!1;o+=l.eles.length}return o===e.length};tr.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var a=0;a<r.length;a++){for(var o=r[a],s=-1,l=0;l<e.length;l++)if(o.eles[0]===e[l]){s=l;break}if(s<0){this.invalidateLayer(o);continue}for(var u=s,l=0;l<o.eles.length;l++)if(o.eles[l]!==e[u+l]){this.invalidateLayer(o);break}}};tr.updateElementsInLayers=function(t,e){for(var r=this,a=qo(t[0]),o=0;o<t.length;o++)for(var s=a?null:t[o],l=a?t[o]:t[o].ele,u=l._private.rscratch,d=u.imgLayerCaches=u.imgLayerCaches||{},f=Bo;f<=Hl;f++){var v=d[f];v&&(s&&r.getEleLevelForLayerLevel(v.level)!==s.level||e(v,l,s))}};tr.haveLayers=function(){for(var t=this,e=!1,r=Bo;r<=Hl;r++){var a=t.layersByLevel[r];if(a&&a.length>0){e=!0;break}}return e};tr.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=Dn(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(a,o,s){e.invalidateLayer(a)}))};tr.invalidateLayer=function(t){if(this.lastInvalidationTime=Dn(),!t.invalid){var e=t.level,r=t.eles,a=this.layersByLevel[e];sa(a,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var o=0;o<r.length;o++){var s=r[o]._private.rscratch.imgLayerCaches;s&&(s[e]=null)}}};tr.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(a,o,s){var l=a.replacement;if(l||(l=a.replacement=e.makeLayer(a.bb,a.level),l.replaces=a,l.eles=a.eles),!l.reqs)for(var u=0;u<l.eles.length;u++)e.queueLayer(l,l.eles[u])})};tr.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};tr.queueLayer=function(t,e){var r=this,a=r.layersQueue,o=t.elesQueue,s=o.hasId=o.hasId||{};if(!t.replacement){if(e){if(s[e.id()])return;o.push(e),s[e.id()]=!0}t.reqs?(t.reqs++,a.updateItem(t)):(t.reqs=1,a.push(t))}};tr.dequeue=function(t){for(var e=this,r=e.layersQueue,a=[],o=0;o<qb&&r.size()!==0;){var s=r.peek();if(s.replacement){r.pop();continue}if(s.replaces&&s!==s.replaces.replacement){r.pop();continue}if(s.invalid){r.pop();continue}var l=s.elesQueue.shift();l&&(e.drawEleInLayer(s,l,s.level,t),o++),a.length===0&&a.push(!0),s.elesQueue.length===0&&(r.pop(),s.reqs=0,s.replaces&&e.applyLayerReplacement(s),e.requestRedraw())}return a};tr.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],a=t.replaces,o=r.indexOf(a);if(!(o<0||a.invalid)){r[o]=t;for(var s=0;s<t.eles.length;s++){var l=t.eles[s]._private,u=l.imgLayerCaches=l.imgLayerCaches||{};u&&(u[t.level]=t)}e.requestRedraw()}};tr.requestRedraw=Kl(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);tr.setupDequeueing=Sm.setupDequeueing({deqRedrawThreshold:jb,deqCost:_b,deqAvgCost:$b,deqNoDrawCost:Ub,deqFastCost:Hb,deq:function(e,r){return e.dequeue(r)},onDeqd:Of,shouldRedraw:vg,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var bm={},_p;function Yb(t,e){for(var r=0;r<e.length;r++){var a=e[r];t.lineTo(a.x,a.y)}}function Qb(t,e,r){for(var a,o=0;o<e.length;o++){var s=e[o];o===0&&(a=s),t.lineTo(s.x,s.y)}t.quadraticCurveTo(r.x,r.y,a.x,a.y)}function $p(t,e,r){t.beginPath&&t.beginPath();for(var a=e,o=0;o<a.length;o++){var s=a[o];t.lineTo(s.x,s.y)}var l=r,u=r[0];t.moveTo(u.x,u.y);for(var o=1;o<l.length;o++){var s=l[o];t.lineTo(s.x,s.y)}t.closePath&&t.closePath()}function Xb(t,e,r,a,o){t.beginPath&&t.beginPath(),t.arc(r,a,o,0,Math.PI*2,!1);var s=e,l=s[0];t.moveTo(l.x,l.y);for(var u=0;u<s.length;u++){var d=s[u];t.lineTo(d.x,d.y)}t.closePath&&t.closePath()}function Zb(t,e,r,a){t.arc(e,r,a,0,Math.PI*2,!1)}bm.arrowShapeImpl=function(t){return(_p||(_p={polygon:Yb,"triangle-backcurve":Qb,"triangle-tee":$p,"circle-triangle":Xb,"triangle-cross":$p,circle:Zb}))[t]};var gn={};gn.drawElement=function(t,e,r,a,o,s){var l=this;e.isNode()?l.drawNode(t,e,r,a,o,s):l.drawEdge(t,e,r,a,o,s)};gn.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};gn.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};gn.drawCachedElementPortion=function(t,e,r,a,o,s,l,u){var d=this,f=r.getBoundingBox(e);if(!(f.w===0||f.h===0)){var v=r.getElement(e,f,a,o,s);if(v!=null){var h=u(d,e);if(h===0)return;var g=l(d,e),y=f.x1,m=f.y1,S=f.w,x=f.h,E,b,k,D,B;if(g!==0){var N=r.getRotationPoint(e);k=N.x,D=N.y,t.translate(k,D),t.rotate(g),B=d.getImgSmoothing(t),B||d.setImgSmoothing(t,!0);var T=r.getRotationOffset(e);E=T.x,b=T.y}else E=y,b=m;var O;h!==1&&(O=t.globalAlpha,t.globalAlpha=O*h),t.drawImage(v.texture.canvas,v.x,0,v.width,v.height,E,b,S,x),h!==1&&(t.globalAlpha=O),g!==0&&(t.rotate(-g),t.translate(-k,-D),B||d.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var Jb=function(){return 0},ek=function(e,r){return e.getTextAngle(r,null)},tk=function(e,r){return e.getTextAngle(r,"source")},rk=function(e,r){return e.getTextAngle(r,"target")},nk=function(e,r){return r.effectiveOpacity()},of=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};gn.drawCachedElement=function(t,e,r,a,o,s){var l=this,u=l.data,d=u.eleTxrCache,f=u.lblTxrCache,v=u.slbTxrCache,h=u.tlbTxrCache,g=e.boundingBox(),y=s===!0?d.reasons.highQuality:null;if(!(g.w===0||g.h===0||!e.visible())&&(!a||Ff(g,a))){var m=e.isEdge(),S=e.element()._private.rscratch.badLine;l.drawElementUnderlay(t,e),l.drawCachedElementPortion(t,e,d,r,o,y,Jb,nk),(!m||!S)&&l.drawCachedElementPortion(t,e,f,r,o,y,ek,of),m&&!S&&(l.drawCachedElementPortion(t,e,v,r,o,y,tk,of),l.drawCachedElementPortion(t,e,h,r,o,y,rk,of)),l.drawElementOverlay(t,e)}};gn.drawElements=function(t,e){for(var r=this,a=0;a<e.length;a++){var o=e[a];r.drawElement(t,o)}};gn.drawCachedElements=function(t,e,r,a){for(var o=this,s=0;s<e.length;s++){var l=e[s];o.drawCachedElement(t,l,r,a)}};gn.drawCachedNodes=function(t,e,r,a){for(var o=this,s=0;s<e.length;s++){var l=e[s];l.isNode()&&o.drawCachedElement(t,l,r,a)}};gn.drawLayeredElements=function(t,e,r,a){var o=this,s=o.data.lyrTxrCache.getLayers(e,r);if(s)for(var l=0;l<s.length;l++){var u=s[l],d=u.bb;d.w===0||d.h===0||t.drawImage(u.canvas,d.x1,d.y1,d.w,d.h)}else o.drawCachedElements(t,e,r,a)};var Rn={};Rn.drawEdge=function(t,e,r){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,l=this,u=e._private.rscratch;if(!(s&&!e.visible())&&!(u.badLine||u.allpts==null||isNaN(u.allpts[0]))){var d;r&&(d=r,t.translate(-d.x1,-d.y1));var f=s?e.pstyle("opacity").value:1,v=s?e.pstyle("line-opacity").value:1,h=e.pstyle("curve-style").value,g=e.pstyle("line-style").value,y=e.pstyle("width").pfValue,m=e.pstyle("line-cap").value,S=e.pstyle("line-outline-width").value,x=e.pstyle("line-outline-color").value,E=f*v,b=f*v,k=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E;h==="straight-triangle"?(l.eleStrokeStyle(t,e,$),l.drawEdgeTrianglePath(e,t,u.allpts)):(t.lineWidth=y,t.lineCap=m,l.eleStrokeStyle(t,e,$),l.drawEdgePath(e,t,u.allpts,g),t.lineCap="butt")},D=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E;if(t.lineWidth=y+S,t.lineCap=m,S>0)l.colorStrokeStyle(t,x[0],x[1],x[2],$);else{t.lineCap="butt";return}h==="straight-triangle"?l.drawEdgeTrianglePath(e,t,u.allpts):(l.drawEdgePath(e,t,u.allpts,g),t.lineCap="butt")},B=function(){o&&l.drawEdgeOverlay(t,e)},N=function(){o&&l.drawEdgeUnderlay(t,e)},T=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b;l.drawArrowheads(t,e,$)},O=function(){l.drawElementText(t,e,null,a)};t.lineJoin="round";var I=e.pstyle("ghost").value==="yes";if(I){var j=e.pstyle("ghost-offset-x").pfValue,M=e.pstyle("ghost-offset-y").pfValue,A=e.pstyle("ghost-opacity").value,F=E*A;t.translate(j,M),k(F),T(F),t.translate(-j,-M)}else D();N(),k(),T(),B(),O(),r&&t.translate(d.x1,d.y1)}};var km=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,a){if(a.visible()){var o=a.pstyle("".concat(e,"-opacity")).value;if(o!==0){var s=this,l=s.usePaths(),u=a._private.rscratch,d=a.pstyle("".concat(e,"-padding")).pfValue,f=2*d,v=a.pstyle("".concat(e,"-color")).value;r.lineWidth=f,u.edgeType==="self"&&!l?r.lineCap="butt":r.lineCap="round",s.colorStrokeStyle(r,v[0],v[1],v[2],o),s.drawEdgePath(a,r,u.allpts,"solid")}}}};Rn.drawEdgeOverlay=km("overlay");Rn.drawEdgeUnderlay=km("underlay");Rn.drawEdgePath=function(t,e,r,a){var o=t._private.rscratch,s=e,l,u=!1,d=this.usePaths(),f=t.pstyle("line-dash-pattern").pfValue,v=t.pstyle("line-dash-offset").pfValue;if(d){var h=r.join("$"),g=o.pathCacheKey&&o.pathCacheKey===h;g?(l=e=o.pathCache,u=!0):(l=e=new Path2D,o.pathCacheKey=h,o.pathCache=l)}if(s.setLineDash)switch(a){case"dotted":s.setLineDash([1,1]);break;case"dashed":s.setLineDash(f),s.lineDashOffset=v;break;case"solid":s.setLineDash([]);break}if(!u&&!o.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),o.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var y=2;y+3<r.length;y+=4)e.quadraticCurveTo(r[y],r[y+1],r[y+2],r[y+3]);break;case"straight":case"haystack":for(var m=2;m+1<r.length;m+=2)e.lineTo(r[m],r[m+1]);break;case"segments":if(o.isRound){var S=Jp(o.roundCorners),x;try{for(S.s();!(x=S.n()).done;){var E=x.value;hm(e,E)}}catch(k){S.e(k)}finally{S.f()}e.lineTo(r[r.length-2],r[r.length-1])}else for(var b=2;b+1<r.length;b+=2)e.lineTo(r[b],r[b+1]);break}e=s,d?e.stroke(l):e.stroke(),e.setLineDash&&e.setLineDash([])};Rn.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var a=t.pstyle("width").pfValue,o=0;o+1<r.length;o+=2){var s=[r[o+2]-r[o],r[o+3]-r[o+1]],l=Math.sqrt(s[0]*s[0]+s[1]*s[1]),u=[s[1]/l,-s[0]/l],d=[u[0]*a/2,u[1]*a/2];e.beginPath(),e.moveTo(r[o]-d[0],r[o+1]-d[1]),e.lineTo(r[o]+d[0],r[o+1]+d[1]),e.lineTo(r[o+2],r[o+3]),e.closePath(),e.fill()}};Rn.drawArrowheads=function(t,e,r){var a=e._private.rscratch,o=a.edgeType==="haystack";o||this.drawArrowhead(t,e,"source",a.arrowStartX,a.arrowStartY,a.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",a.midX,a.midY,a.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",a.midX,a.midY,a.midsrcArrowAngle,r),o||this.drawArrowhead(t,e,"target",a.arrowEndX,a.arrowEndY,a.tgtArrowAngle,r)};Rn.drawArrowhead=function(t,e,r,a,o,s,l){if(!(isNaN(a)||a==null||isNaN(o)||o==null||isNaN(s)||s==null)){var u=this,d=e.pstyle(r+"-arrow-shape").value;if(d!=="none"){var f=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",v=e.pstyle(r+"-arrow-fill").value,h=e.pstyle("width").pfValue,g=e.pstyle(r+"-arrow-width"),y=g.value==="match-line"?h:g.pfValue;g.units==="%"&&(y*=h);var m=e.pstyle("opacity").value;l===void 0&&(l=m);var S=t.globalCompositeOperation;(l!==1||v==="hollow")&&(t.globalCompositeOperation="destination-out",u.colorFillStyle(t,255,255,255,1),u.colorStrokeStyle(t,255,255,255,1),u.drawArrowShape(e,t,f,h,d,y,a,o,s),t.globalCompositeOperation=S);var x=e.pstyle(r+"-arrow-color").value;u.colorFillStyle(t,x[0],x[1],x[2],l),u.colorStrokeStyle(t,x[0],x[1],x[2],l),u.drawArrowShape(e,t,v,h,d,y,a,o,s)}}};Rn.drawArrowShape=function(t,e,r,a,o,s,l,u,d){var f=this,v=this.usePaths()&&o!=="triangle-cross",h=!1,g,y=e,m={x:l,y:u},S=t.pstyle("arrow-scale").value,x=this.getArrowWidth(a,S),E=f.arrowShapes[o];if(v){var b=f.arrowPathCache=f.arrowPathCache||[],k=Ia(o),D=b[k];D!=null?(g=e=D,h=!0):(g=e=new Path2D,b[k]=g)}h||(e.beginPath&&e.beginPath(),v?E.draw(e,1,0,{x:0,y:0},1):E.draw(e,x,d,m,a),e.closePath&&e.closePath()),e=y,v&&(e.translate(l,u),e.rotate(d),e.scale(x,x)),(r==="filled"||r==="both")&&(v?e.fill(g):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=s/(v?x:1),e.lineJoin="miter",v?e.stroke(g):e.stroke()),v&&(e.scale(1/x,1/x),e.rotate(-d),e.translate(-l,-u))};var Jf={};Jf.safeDrawImage=function(t,e,r,a,o,s,l,u,d,f){if(!(o<=0||s<=0||d<=0||f<=0))try{t.drawImage(e,r,a,o,s,l,u,d,f)}catch(v){ft(v)}};Jf.drawInscribedImage=function(t,e,r,a,o){var s=this,l=r.position(),u=l.x,d=l.y,f=r.cy().style(),v=f.getIndexedStyle.bind(f),h=v(r,"background-fit","value",a),g=v(r,"background-repeat","value",a),y=r.width(),m=r.height(),S=r.padding()*2,x=y+(v(r,"background-width-relative-to","value",a)==="inner"?0:S),E=m+(v(r,"background-height-relative-to","value",a)==="inner"?0:S),b=r._private.rscratch,k=v(r,"background-clip","value",a),D=k==="node",B=v(r,"background-image-opacity","value",a)*o,N=v(r,"background-image-smoothing","value",a),T=r.pstyle("corner-radius").value;T!=="auto"&&(T=r.pstyle("corner-radius").pfValue);var O=e.width||e.cachedW,I=e.height||e.cachedH;(O==null||I==null)&&(document.body.appendChild(e),O=e.cachedW=e.width||e.offsetWidth,I=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var j=O,M=I;if(v(r,"background-width","value",a)!=="auto"&&(v(r,"background-width","units",a)==="%"?j=v(r,"background-width","pfValue",a)*x:j=v(r,"background-width","pfValue",a)),v(r,"background-height","value",a)!=="auto"&&(v(r,"background-height","units",a)==="%"?M=v(r,"background-height","pfValue",a)*E:M=v(r,"background-height","pfValue",a)),!(j===0||M===0)){if(h==="contain"){var A=Math.min(x/j,E/M);j*=A,M*=A}else if(h==="cover"){var A=Math.max(x/j,E/M);j*=A,M*=A}var F=u-x/2,z=v(r,"background-position-x","units",a),$=v(r,"background-position-x","pfValue",a);z==="%"?F+=(x-j)*$:F+=$;var H=v(r,"background-offset-x","units",a),W=v(r,"background-offset-x","pfValue",a);H==="%"?F+=(x-j)*W:F+=W;var U=d-E/2,G=v(r,"background-position-y","units",a),K=v(r,"background-position-y","pfValue",a);G==="%"?U+=(E-M)*K:U+=K;var L=v(r,"background-offset-y","units",a),_=v(r,"background-offset-y","pfValue",a);L==="%"?U+=(E-M)*_:U+=_,b.pathCache&&(F-=u,U-=d,u=0,d=0);var Z=t.globalAlpha;t.globalAlpha=B;var te=s.getImgSmoothing(t),oe=!1;if(N==="no"&&te?(s.setImgSmoothing(t,!1),oe=!0):N==="yes"&&!te&&(s.setImgSmoothing(t,!0),oe=!0),g==="no-repeat")D&&(t.save(),b.pathCache?t.clip(b.pathCache):(s.nodeShapes[s.getNodeShape(r)].draw(t,u,d,x,E,T,b),t.clip())),s.safeDrawImage(t,e,0,0,O,I,F,U,j,M),D&&t.restore();else{var le=t.createPattern(e,g);t.fillStyle=le,s.nodeShapes[s.getNodeShape(r)].draw(t,u,d,x,E,T,b),t.translate(F,U),t.fill(),t.translate(-F,-U)}t.globalAlpha=Z,oe&&s.setImgSmoothing(t,te)}};var Va={};Va.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),a=this.getPixelRatio(),o=Math.ceil(zf(r*a));e=Math.pow(2,o)}var s=t.pstyle("font-size").pfValue*e,l=t.pstyle("min-zoomed-font-size").pfValue;return!(s<l)};Va.drawElementText=function(t,e,r,a,o){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,l=this;if(a==null){if(s&&!l.eleTextBiggerThanMin(e))return}else if(a===!1)return;if(e.isNode()){var u=e.pstyle("label");if(!u||!u.value)return;var d=l.getLabelJustification(e);t.textAlign=d,t.textBaseline="bottom"}else{var f=e.element()._private.rscratch.badLine,v=e.pstyle("label"),h=e.pstyle("source-label"),g=e.pstyle("target-label");if(f||(!v||!v.value)&&(!h||!h.value)&&(!g||!g.value))return;t.textAlign="center",t.textBaseline="bottom"}var y=!r,m;r&&(m=r,t.translate(-m.x1,-m.y1)),o==null?(l.drawText(t,e,null,y,s),e.isEdge()&&(l.drawText(t,e,"source",y,s),l.drawText(t,e,"target",y,s))):l.drawText(t,e,o,y,s),r&&t.translate(m.x1,m.y1)};Va.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};Va.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=e.pstyle("font-style").strValue,o=e.pstyle("font-size").pfValue+"px",s=e.pstyle("font-family").strValue,l=e.pstyle("font-weight").strValue,u=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,d=e.pstyle("text-outline-opacity").value*u,f=e.pstyle("color").value,v=e.pstyle("text-outline-color").value;t.font=a+" "+l+" "+o+" "+s,t.lineJoin="round",this.colorFillStyle(t,f[0],f[1],f[2],u),this.colorStrokeStyle(t,v[0],v[1],v[2],d)};function sf(t,e,r,a,o){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,l=arguments.length>6?arguments[6]:void 0;t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+a-s,r),t.quadraticCurveTo(e+a,r,e+a,r+s),t.lineTo(e+a,r+o-s),t.quadraticCurveTo(e+a,r+o,e+a-s,r+o),t.lineTo(e+s,r+o),t.quadraticCurveTo(e,r+o,e,r+o-s),t.lineTo(e,r+s),t.quadraticCurveTo(e,r,e+s,r),t.closePath(),l?t.stroke():t.fill()}Va.getTextAngle=function(t,e){var r,a=t._private,o=a.rscratch,s=e?e+"-":"",l=t.pstyle(s+"text-rotation"),u=nn(o,"labelAngle",e);return l.strValue==="autorotate"?r=t.isEdge()?u:0:l.strValue==="none"?r=0:r=l.pfValue,r};Va.drawText=function(t,e,r){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=e._private,l=s.rscratch,u=o?e.effectiveOpacity():1;if(!(o&&(u===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var d=nn(l,"labelX",r),f=nn(l,"labelY",r),v,h,g=this.getLabelText(e,r);if(g!=null&&g!==""&&!isNaN(d)&&!isNaN(f)){this.setupTextStyle(t,e,o);var y=r?r+"-":"",m=nn(l,"labelWidth",r),S=nn(l,"labelHeight",r),x=e.pstyle(y+"text-margin-x").pfValue,E=e.pstyle(y+"text-margin-y").pfValue,b=e.isEdge(),k=e.pstyle("text-halign").value,D=e.pstyle("text-valign").value;b&&(k="center",D="center"),d+=x,f+=E;var B;switch(a?B=this.getTextAngle(e,r):B=0,B!==0&&(v=d,h=f,t.translate(v,h),t.rotate(B),d=0,f=0),D){case"top":break;case"center":f+=S/2;break;case"bottom":f+=S;break}var N=e.pstyle("text-background-opacity").value,T=e.pstyle("text-border-opacity").value,O=e.pstyle("text-border-width").pfValue,I=e.pstyle("text-background-padding").pfValue,j=e.pstyle("text-background-shape").strValue,M=j.indexOf("round")===0,A=2;if(N>0||O>0&&T>0){var F=d-I;switch(k){case"left":F-=m;break;case"center":F-=m/2;break}var z=f-S-I,$=m+2*I,H=S+2*I;if(N>0){var W=t.fillStyle,U=e.pstyle("text-background-color").value;t.fillStyle="rgba("+U[0]+","+U[1]+","+U[2]+","+N*u+")",M?sf(t,F,z,$,H,A):t.fillRect(F,z,$,H),t.fillStyle=W}if(O>0&&T>0){var G=t.strokeStyle,K=t.lineWidth,L=e.pstyle("text-border-color").value,_=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+L[0]+","+L[1]+","+L[2]+","+T*u+")",t.lineWidth=O,t.setLineDash)switch(_){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=O/4,t.setLineDash([]);break;case"solid":t.setLineDash([]);break}if(M?sf(t,F,z,$,H,A,"stroke"):t.strokeRect(F,z,$,H),_==="double"){var Z=O/2;M?sf(t,F+Z,z+Z,$-Z*2,H-Z*2,A,"stroke"):t.strokeRect(F+Z,z+Z,$-Z*2,H-Z*2)}t.setLineDash&&t.setLineDash([]),t.lineWidth=K,t.strokeStyle=G}}var te=2*e.pstyle("text-outline-width").pfValue;if(te>0&&(t.lineWidth=te),e.pstyle("text-wrap").value==="wrap"){var oe=nn(l,"labelWrapCachedLines",r),le=nn(l,"labelLineHeight",r),ce=m/2,ie=this.getLabelJustification(e);switch(ie==="auto"||(k==="left"?ie==="left"?d+=-m:ie==="center"&&(d+=-ce):k==="center"?ie==="left"?d+=-ce:ie==="right"&&(d+=ce):k==="right"&&(ie==="center"?d+=ce:ie==="right"&&(d+=m))),D){case"top":f-=(oe.length-1)*le;break;case"center":case"bottom":f-=(oe.length-1)*le;break}for(var Q=0;Q<oe.length;Q++)te>0&&t.strokeText(oe[Q],d,f),t.fillText(oe[Q],d,f),f+=le}else te>0&&t.strokeText(g,d,f),t.fillText(g,d,f);B!==0&&(t.rotate(-B),t.translate(-v,-h))}}};var zi={};zi.drawNode=function(t,e,r){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,l=this,u,d,f=e._private,v=f.rscratch,h=e.position();if(!(!be(h.x)||!be(h.y))&&!(s&&!e.visible())){var g=s?e.effectiveOpacity():1,y=l.usePaths(),m,S=!1,x=e.padding();u=e.width()+2*x,d=e.height()+2*x;var E;r&&(E=r,t.translate(-E.x1,-E.y1));for(var b=e.pstyle("background-image"),k=b.value,D=new Array(k.length),B=new Array(k.length),N=0,T=0;T<k.length;T++){var O=k[T],I=D[T]=O!=null&&O!=="none";if(I){var j=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",T);N++,B[T]=l.getCachedImage(O,j,function(){f.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var M=e.pstyle("background-blacken").value,A=e.pstyle("border-width").pfValue,F=e.pstyle("background-opacity").value*g,z=e.pstyle("border-color").value,$=e.pstyle("border-style").value,H=e.pstyle("border-join").value,W=e.pstyle("border-cap").value,U=e.pstyle("border-position").value,G=e.pstyle("border-dash-pattern").pfValue,K=e.pstyle("border-dash-offset").pfValue,L=e.pstyle("border-opacity").value*g,_=e.pstyle("outline-width").pfValue,Z=e.pstyle("outline-color").value,te=e.pstyle("outline-style").value,oe=e.pstyle("outline-opacity").value*g,le=e.pstyle("outline-offset").value,ce=e.pstyle("corner-radius").value;ce!=="auto"&&(ce=e.pstyle("corner-radius").pfValue);var ie=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:F;l.eleFillStyle(t,e,J)},Q=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:L;l.colorStrokeStyle(t,z[0],z[1],z[2],J)},ue=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:oe;l.colorStrokeStyle(t,Z[0],Z[1],Z[2],J)},de=function(J,ae,ke,ve){var Ce=l.nodePathCache=l.nodePathCache||[],je=dg(ke==="polygon"?ke+","+ve.join(","):ke,""+ae,""+J,""+ce),We=Ce[je],Be,He=!1;return We!=null?(Be=We,He=!0,v.pathCache=Be):(Be=new Path2D,Ce[je]=v.pathCache=Be),{path:Be,cacheHit:He}},Se=e.pstyle("shape").strValue,Ae=e.pstyle("shape-polygon-points").pfValue;if(y){t.translate(h.x,h.y);var Ee=de(u,d,Se,Ae);m=Ee.path,S=Ee.cacheHit}var xe=function(){if(!S){var J=h;y&&(J={x:0,y:0}),l.nodeShapes[l.getNodeShape(e)].draw(m||t,J.x,J.y,u,d,ce,v)}y?t.fill(m):t.fill()},Re=function(){for(var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g,ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ke=f.backgrounding,ve=0,Ce=0;Ce<B.length;Ce++){var je=e.cy().style().getIndexedStyle(e,"background-image-containment","value",Ce);if(ae&&je==="over"||!ae&&je==="inside"){ve++;continue}D[Ce]&&B[Ce].complete&&!B[Ce].error&&(ve++,l.drawInscribedImage(t,B[Ce],e,Ce,J))}f.backgrounding=ve!==N,ke!==f.backgrounding&&e.updateStyle(!1)},Pe=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g;l.hasPie(e)&&(l.drawPie(t,e,ae),J&&(y||l.nodeShapes[l.getNodeShape(e)].draw(t,h.x,h.y,u,d,ce,v)))},Te=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g,ae=(M>0?M:-M)*J,ke=M>0?0:255;M!==0&&(l.colorFillStyle(t,ke,ke,ke,ae),y?t.fill(m):t.fill())},ze=function(){if(A>0){if(t.lineWidth=A,t.lineCap=W,t.lineJoin=H,t.setLineDash)switch($){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(G),t.lineDashOffset=K;break;case"solid":case"double":t.setLineDash([]);break}if(U!=="center"){if(t.save(),t.lineWidth*=2,U==="inside")y?t.clip(m):t.clip();else{var J=new Path2D;J.rect(-u/2-A,-d/2-A,u+2*A,d+2*A),J.addPath(m),t.clip(J,"evenodd")}y?t.stroke(m):t.stroke(),t.restore()}else y?t.stroke(m):t.stroke();if($==="double"){t.lineWidth=A/3;var ae=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",y?t.stroke(m):t.stroke(),t.globalCompositeOperation=ae}t.setLineDash&&t.setLineDash([])}},Ze=function(){if(_>0){if(t.lineWidth=_,t.lineCap="butt",t.setLineDash)switch(te){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var J=h;y&&(J={x:0,y:0});var ae=l.getNodeShape(e),ke=A;U==="inside"&&(ke=0),U==="outside"&&(ke*=2);var ve=(u+ke+(_+le))/u,Ce=(d+ke+(_+le))/d,je=u*ve,We=d*Ce,Be=l.nodeShapes[ae].points,He;if(y){var qe=de(je,We,ae,Be);He=qe.path}if(ae==="ellipse")l.drawEllipsePath(He||t,J.x,J.y,je,We);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(ae)){var Ve=0,et=0,ut=0;ae==="round-diamond"?Ve=(ke+le+_)*1.4:ae==="round-heptagon"?(Ve=(ke+le+_)*1.075,ut=-(ke/2+le+_)/35):ae==="round-hexagon"?Ve=(ke+le+_)*1.12:ae==="round-pentagon"?(Ve=(ke+le+_)*1.13,ut=-(ke/2+le+_)/15):ae==="round-tag"?(Ve=(ke+le+_)*1.12,et=(ke/2+_+le)*.07):ae==="round-triangle"&&(Ve=(ke+le+_)*(Math.PI/2),ut=-(ke+le/2+_)/Math.PI),Ve!==0&&(ve=(u+Ve)/u,je=u*ve,["round-hexagon","round-tag"].includes(ae)||(Ce=(d+Ve)/d,We=d*Ce)),ce=ce==="auto"?Cg(je,We):ce;for(var rr=je/2,nr=We/2,Dt=ce+(ke+_+le)/2,Rt=new Array(Be.length/2),Bt=new Array(Be.length/2),At=0;At<Be.length/2;At++)Rt[At]={x:J.x+et+rr*Be[At*2],y:J.y+ut+nr*Be[At*2+1]};var Ut,ar,ir,or,Kr=Rt.length;for(ar=Rt[Kr-1],Ut=0;Ut<Kr;Ut++)ir=Rt[Ut%Kr],or=Rt[(Ut+1)%Kr],Bt[Ut]=Xf(ar,ir,or,Dt),ar=ir,ir=or;l.drawRoundPolygonPath(He||t,J.x+et,J.y+ut,u*ve,d*Ce,Be,Bt)}else if(["roundrectangle","round-rectangle"].includes(ae))ce=ce==="auto"?Oa(je,We):ce,l.drawRoundRectanglePath(He||t,J.x,J.y,je,We,ce+(ke+_+le)/2);else if(["cutrectangle","cut-rectangle"].includes(ae))ce=ce==="auto"?jf():ce,l.drawCutRectanglePath(He||t,J.x,J.y,je,We,null,ce+(ke+_+le)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(ae))ce=ce==="auto"?Oa(je,We):ce,l.drawBottomRoundRectanglePath(He||t,J.x,J.y,je,We,ce+(ke+_+le)/2);else if(ae==="barrel")l.drawBarrelPath(He||t,J.x,J.y,je,We);else if(ae.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(ae)){var mr=(ke+_+le)/u;Be=zl(Fl(Be,mr)),l.drawPolygonPath(He||t,J.x,J.y,u,d,Be)}else{var It=(ke+_+le)/u;Be=zl(Fl(Be,-It)),l.drawPolygonPath(He||t,J.x,J.y,u,d,Be)}if(y?t.stroke(He):t.stroke(),te==="double"){t.lineWidth=ke/3;var Ct=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",y?t.stroke(He):t.stroke(),t.globalCompositeOperation=Ct}t.setLineDash&&t.setLineDash([])}},Qe=function(){o&&l.drawNodeOverlay(t,e,h,u,d)},Ge=function(){o&&l.drawNodeUnderlay(t,e,h,u,d)},at=function(){l.drawElementText(t,e,null,a)},Ye=e.pstyle("ghost").value==="yes";if(Ye){var Je=e.pstyle("ghost-offset-x").pfValue,me=e.pstyle("ghost-offset-y").pfValue,V=e.pstyle("ghost-opacity").value,re=V*g;t.translate(Je,me),ue(),Ze(),ie(V*F),xe(),Re(re,!0),Q(V*L),ze(),Pe(M!==0||A!==0),Re(re,!1),Te(re),t.translate(-Je,-me)}y&&t.translate(-h.x,-h.y),Ge(),y&&t.translate(h.x,h.y),ue(),Ze(),ie(),xe(),Re(g,!0),Q(),ze(),Pe(M!==0||A!==0),Re(g,!1),Te(),y&&t.translate(-h.x,-h.y),at(),Qe(),r&&t.translate(E.x1,E.y1)}};var Tm=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,a,o,s,l){var u=this;if(a.visible()){var d=a.pstyle("".concat(e,"-padding")).pfValue,f=a.pstyle("".concat(e,"-opacity")).value,v=a.pstyle("".concat(e,"-color")).value,h=a.pstyle("".concat(e,"-shape")).value,g=a.pstyle("".concat(e,"-corner-radius")).value;if(f>0){if(o=o||a.position(),s==null||l==null){var y=a.padding();s=a.width()+2*y,l=a.height()+2*y}u.colorFillStyle(r,v[0],v[1],v[2],f),u.nodeShapes[h].draw(r,o.x,o.y,s+d*2,l+d*2,g),r.fill()}}}};zi.drawNodeOverlay=Tm("overlay");zi.drawNodeUnderlay=Tm("underlay");zi.hasPie=function(t){return t=t[0],t._private.hasPie};zi.drawPie=function(t,e,r,a){e=e[0],a=a||e.position();var o=e.cy().style(),s=e.pstyle("pie-size"),l=a.x,u=a.y,d=e.width(),f=e.height(),v=Math.min(d,f)/2,h=0,g=this.usePaths();g&&(l=0,u=0),s.units==="%"?v=v*s.pfValue:s.pfValue!==void 0&&(v=s.pfValue/2);for(var y=1;y<=o.pieBackgroundN;y++){var m=e.pstyle("pie-"+y+"-background-size").value,S=e.pstyle("pie-"+y+"-background-color").value,x=e.pstyle("pie-"+y+"-background-opacity").value*r,E=m/100;E+h>1&&(E=1-h);var b=1.5*Math.PI+2*Math.PI*h,k=2*Math.PI*E,D=b+k;m===0||h>=1||h+E>1||(t.beginPath(),t.moveTo(l,u),t.arc(l,u,v,b,D),t.closePath(),this.colorFillStyle(t,S[0],S[1],S[2],x),t.fill(),h+=E)}};var Or={},ak=100;Or.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),r=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/r};Or.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,a,o=0;o<e.length;o++)if(a=e[o],a.context===t){r=!1;break}return r&&(a={context:t},e.push(a)),a};Or.createGradientStyleFor=function(t,e,r,a,o){var s,l=this.usePaths(),u=r.pstyle(e+"-gradient-stop-colors").value,d=r.pstyle(e+"-gradient-stop-positions").pfValue;if(a==="radial-gradient")if(r.isEdge()){var f=r.sourceEndpoint(),v=r.targetEndpoint(),h=r.midpoint(),g=Ma(f,h),y=Ma(v,h);s=t.createRadialGradient(h.x,h.y,0,h.x,h.y,Math.max(g,y))}else{var m=l?{x:0,y:0}:r.position(),S=r.paddedWidth(),x=r.paddedHeight();s=t.createRadialGradient(m.x,m.y,0,m.x,m.y,Math.max(S,x))}else if(r.isEdge()){var E=r.sourceEndpoint(),b=r.targetEndpoint();s=t.createLinearGradient(E.x,E.y,b.x,b.y)}else{var k=l?{x:0,y:0}:r.position(),D=r.paddedWidth(),B=r.paddedHeight(),N=D/2,T=B/2,O=r.pstyle("background-gradient-direction").value;switch(O){case"to-bottom":s=t.createLinearGradient(k.x,k.y-T,k.x,k.y+T);break;case"to-top":s=t.createLinearGradient(k.x,k.y+T,k.x,k.y-T);break;case"to-left":s=t.createLinearGradient(k.x+N,k.y,k.x-N,k.y);break;case"to-right":s=t.createLinearGradient(k.x-N,k.y,k.x+N,k.y);break;case"to-bottom-right":case"to-right-bottom":s=t.createLinearGradient(k.x-N,k.y-T,k.x+N,k.y+T);break;case"to-top-right":case"to-right-top":s=t.createLinearGradient(k.x-N,k.y+T,k.x+N,k.y-T);break;case"to-bottom-left":case"to-left-bottom":s=t.createLinearGradient(k.x+N,k.y-T,k.x-N,k.y+T);break;case"to-top-left":case"to-left-top":s=t.createLinearGradient(k.x+N,k.y+T,k.x-N,k.y-T);break}}if(!s)return null;for(var I=d.length===u.length,j=u.length,M=0;M<j;M++)s.addColorStop(I?d[M]:M/(j-1),"rgba("+u[M][0]+","+u[M][1]+","+u[M][2]+","+o+")");return s};Or.gradientFillStyle=function(t,e,r,a){var o=this.createGradientStyleFor(t,"background",e,r,a);if(!o)return null;t.fillStyle=o};Or.colorFillStyle=function(t,e,r,a,o){t.fillStyle="rgba("+e+","+r+","+a+","+o+")"};Or.eleFillStyle=function(t,e,r){var a=e.pstyle("background-fill").value;if(a==="linear-gradient"||a==="radial-gradient")this.gradientFillStyle(t,e,a,r);else{var o=e.pstyle("background-color").value;this.colorFillStyle(t,o[0],o[1],o[2],r)}};Or.gradientStrokeStyle=function(t,e,r,a){var o=this.createGradientStyleFor(t,"line",e,r,a);if(!o)return null;t.strokeStyle=o};Or.colorStrokeStyle=function(t,e,r,a,o){t.strokeStyle="rgba("+e+","+r+","+a+","+o+")"};Or.eleStrokeStyle=function(t,e,r){var a=e.pstyle("line-fill").value;if(a==="linear-gradient"||a==="radial-gradient")this.gradientStrokeStyle(t,e,a,r);else{var o=e.pstyle("line-color").value;this.colorStrokeStyle(t,o[0],o[1],o[2],r)}};Or.matchCanvasSize=function(t){var e=this,r=e.data,a=e.findContainerClientCoords(),o=a[2],s=a[3],l=e.getPixelRatio(),u=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(l=u);var d=o*l,f=s*l,v;if(!(d===e.canvasWidth&&f===e.canvasHeight)){e.fontCaches=null;var h=r.canvasContainer;h.style.width=o+"px",h.style.height=s+"px";for(var g=0;g<e.CANVAS_LAYERS;g++)v=r.canvases[g],v.width=d,v.height=f,v.style.width=o+"px",v.style.height=s+"px";for(var g=0;g<e.BUFFER_COUNT;g++)v=r.bufferCanvases[g],v.width=d,v.height=f,v.style.width=o+"px",v.style.height=s+"px";e.textureMult=1,l<=1&&(v=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,v.width=d*e.textureMult,v.height=f*e.textureMult),e.canvasWidth=d,e.canvasHeight=f}};Or.renderTo=function(t,e,r,a){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:a})};Or.render=function(t){t=t||gg();var e=t.forcedContext,r=t.drawAllLayers,a=t.drawOnlyNodeLayer,o=t.forcedZoom,s=t.forcedPan,l=this,u=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,d=l.cy,f=l.data,v=f.canvasNeedsRedraw,h=l.textureOnViewport&&!e&&(l.pinching||l.hoverData.dragging||l.swipePanning||l.data.wheelZooming),g=t.motionBlur!==void 0?t.motionBlur:l.motionBlur,y=l.motionBlurPxRatio,m=d.hasCompoundNodes(),S=l.hoverData.draggingEles,x=!!(l.hoverData.selecting||l.touchData.selecting);g=g&&!e&&l.motionBlurEnabled&&!x;var E=g;e||(l.prevPxRatio!==u&&(l.invalidateContainerClientCoordsCache(),l.matchCanvasSize(l.container),l.redrawHint("eles",!0),l.redrawHint("drag",!0)),l.prevPxRatio=u),!e&&l.motionBlurTimeout&&clearTimeout(l.motionBlurTimeout),g&&(l.mbFrames==null&&(l.mbFrames=0),l.mbFrames++,l.mbFrames<3&&(E=!1),l.mbFrames>l.minMbLowQualFrames&&(l.motionBlurPxRatio=l.mbPxRBlurry)),l.clearingMotionBlur&&(l.motionBlurPxRatio=1),l.textureDrawLastFrame&&!h&&(v[l.NODE]=!0,v[l.SELECT_BOX]=!0);var b=d.style(),k=d.zoom(),D=o!==void 0?o:k,B=d.pan(),N={x:B.x,y:B.y},T={zoom:k,pan:{x:B.x,y:B.y}},O=l.prevViewport,I=O===void 0||T.zoom!==O.zoom||T.pan.x!==O.pan.x||T.pan.y!==O.pan.y;!I&&!(S&&!m)&&(l.motionBlurPxRatio=1),s&&(N=s),D*=u,N.x*=u,N.y*=u;var j=l.getCachedZSortedEles();function M(Ee,xe,Re,Pe,Te){var ze=Ee.globalCompositeOperation;Ee.globalCompositeOperation="destination-out",l.colorFillStyle(Ee,255,255,255,l.motionBlurTransparency),Ee.fillRect(xe,Re,Pe,Te),Ee.globalCompositeOperation=ze}function A(Ee,xe){var Re,Pe,Te,ze;!l.clearingMotionBlur&&(Ee===f.bufferContexts[l.MOTIONBLUR_BUFFER_NODE]||Ee===f.bufferContexts[l.MOTIONBLUR_BUFFER_DRAG])?(Re={x:B.x*y,y:B.y*y},Pe=k*y,Te=l.canvasWidth*y,ze=l.canvasHeight*y):(Re=N,Pe=D,Te=l.canvasWidth,ze=l.canvasHeight),Ee.setTransform(1,0,0,1,0,0),xe==="motionBlur"?M(Ee,0,0,Te,ze):!e&&(xe===void 0||xe)&&Ee.clearRect(0,0,Te,ze),r||(Ee.translate(Re.x,Re.y),Ee.scale(Pe,Pe)),s&&Ee.translate(s.x,s.y),o&&Ee.scale(o,o)}if(h||(l.textureDrawLastFrame=!1),h){if(l.textureDrawLastFrame=!0,!l.textureCache){l.textureCache={},l.textureCache.bb=d.mutableElements().boundingBox(),l.textureCache.texture=l.data.bufferCanvases[l.TEXTURE_BUFFER];var F=l.data.bufferContexts[l.TEXTURE_BUFFER];F.setTransform(1,0,0,1,0,0),F.clearRect(0,0,l.canvasWidth*l.textureMult,l.canvasHeight*l.textureMult),l.render({forcedContext:F,drawOnlyNodeLayer:!0,forcedPxRatio:u*l.textureMult});var T=l.textureCache.viewport={zoom:d.zoom(),pan:d.pan(),width:l.canvasWidth,height:l.canvasHeight};T.mpan={x:(0-T.pan.x)/T.zoom,y:(0-T.pan.y)/T.zoom}}v[l.DRAG]=!1,v[l.NODE]=!1;var z=f.contexts[l.NODE],$=l.textureCache.texture,T=l.textureCache.viewport;z.setTransform(1,0,0,1,0,0),g?M(z,0,0,T.width,T.height):z.clearRect(0,0,T.width,T.height);var H=b.core("outside-texture-bg-color").value,W=b.core("outside-texture-bg-opacity").value;l.colorFillStyle(z,H[0],H[1],H[2],W),z.fillRect(0,0,T.width,T.height);var k=d.zoom();A(z,!1),z.clearRect(T.mpan.x,T.mpan.y,T.width/T.zoom/u,T.height/T.zoom/u),z.drawImage($,T.mpan.x,T.mpan.y,T.width/T.zoom/u,T.height/T.zoom/u)}else l.textureOnViewport&&!e&&(l.textureCache=null);var U=d.extent(),G=l.pinching||l.hoverData.dragging||l.swipePanning||l.data.wheelZooming||l.hoverData.draggingEles||l.cy.animated(),K=l.hideEdgesOnViewport&&G,L=[];if(L[l.NODE]=!v[l.NODE]&&g&&!l.clearedForMotionBlur[l.NODE]||l.clearingMotionBlur,L[l.NODE]&&(l.clearedForMotionBlur[l.NODE]=!0),L[l.DRAG]=!v[l.DRAG]&&g&&!l.clearedForMotionBlur[l.DRAG]||l.clearingMotionBlur,L[l.DRAG]&&(l.clearedForMotionBlur[l.DRAG]=!0),v[l.NODE]||r||a||L[l.NODE]){var _=g&&!L[l.NODE]&&y!==1,z=e||(_?l.data.bufferContexts[l.MOTIONBLUR_BUFFER_NODE]:f.contexts[l.NODE]),Z=g&&!_?"motionBlur":void 0;A(z,Z),K?l.drawCachedNodes(z,j.nondrag,u,U):l.drawLayeredElements(z,j.nondrag,u,U),l.debug&&l.drawDebugPoints(z,j.nondrag),!r&&!g&&(v[l.NODE]=!1)}if(!a&&(v[l.DRAG]||r||L[l.DRAG])){var _=g&&!L[l.DRAG]&&y!==1,z=e||(_?l.data.bufferContexts[l.MOTIONBLUR_BUFFER_DRAG]:f.contexts[l.DRAG]);A(z,g&&!_?"motionBlur":void 0),K?l.drawCachedNodes(z,j.drag,u,U):l.drawCachedElements(z,j.drag,u,U),l.debug&&l.drawDebugPoints(z,j.drag),!r&&!g&&(v[l.DRAG]=!1)}if(l.showFps||!a&&v[l.SELECT_BOX]&&!r){var z=e||f.contexts[l.SELECT_BOX];if(A(z),l.selection[4]==1&&(l.hoverData.selecting||l.touchData.selecting)){var k=l.cy.zoom(),te=b.core("selection-box-border-width").value/k;z.lineWidth=te,z.fillStyle="rgba("+b.core("selection-box-color").value[0]+","+b.core("selection-box-color").value[1]+","+b.core("selection-box-color").value[2]+","+b.core("selection-box-opacity").value+")",z.fillRect(l.selection[0],l.selection[1],l.selection[2]-l.selection[0],l.selection[3]-l.selection[1]),te>0&&(z.strokeStyle="rgba("+b.core("selection-box-border-color").value[0]+","+b.core("selection-box-border-color").value[1]+","+b.core("selection-box-border-color").value[2]+","+b.core("selection-box-opacity").value+")",z.strokeRect(l.selection[0],l.selection[1],l.selection[2]-l.selection[0],l.selection[3]-l.selection[1]))}if(f.bgActivePosistion&&!l.hoverData.selecting){var k=l.cy.zoom(),oe=f.bgActivePosistion;z.fillStyle="rgba("+b.core("active-bg-color").value[0]+","+b.core("active-bg-color").value[1]+","+b.core("active-bg-color").value[2]+","+b.core("active-bg-opacity").value+")",z.beginPath(),z.arc(oe.x,oe.y,b.core("active-bg-size").pfValue/k,0,2*Math.PI),z.fill()}var le=l.lastRedrawTime;if(l.showFps&&le){le=Math.round(le);var ce=Math.round(1e3/le);z.setTransform(1,0,0,1,0,0),z.fillStyle="rgba(255, 0, 0, 0.75)",z.strokeStyle="rgba(255, 0, 0, 0.75)",z.lineWidth=1,z.fillText("1 frame = "+le+" ms = "+ce+" fps",0,20);var ie=60;z.strokeRect(0,30,250,20),z.fillRect(0,30,250*Math.min(ce/ie,1),20)}r||(v[l.SELECT_BOX]=!1)}if(g&&y!==1){var Q=f.contexts[l.NODE],ue=l.data.bufferCanvases[l.MOTIONBLUR_BUFFER_NODE],de=f.contexts[l.DRAG],Se=l.data.bufferCanvases[l.MOTIONBLUR_BUFFER_DRAG],Ae=function(xe,Re,Pe){xe.setTransform(1,0,0,1,0,0),Pe||!E?xe.clearRect(0,0,l.canvasWidth,l.canvasHeight):M(xe,0,0,l.canvasWidth,l.canvasHeight);var Te=y;xe.drawImage(Re,0,0,l.canvasWidth*Te,l.canvasHeight*Te,0,0,l.canvasWidth,l.canvasHeight)};(v[l.NODE]||L[l.NODE])&&(Ae(Q,ue,L[l.NODE]),v[l.NODE]=!1),(v[l.DRAG]||L[l.DRAG])&&(Ae(de,Se,L[l.DRAG]),v[l.DRAG]=!1)}l.prevViewport=T,l.clearingMotionBlur&&(l.clearingMotionBlur=!1,l.motionBlurCleared=!0,l.motionBlur=!0),g&&(l.motionBlurTimeout=setTimeout(function(){l.motionBlurTimeout=null,l.clearedForMotionBlur[l.NODE]=!1,l.clearedForMotionBlur[l.DRAG]=!1,l.motionBlur=!1,l.clearingMotionBlur=!h,l.mbFrames=0,v[l.NODE]=!0,v[l.DRAG]=!0,l.redraw()},ak)),e||d.emit("render")};var va={};va.drawPolygonPath=function(t,e,r,a,o,s){var l=a/2,u=o/2;t.beginPath&&t.beginPath(),t.moveTo(e+l*s[0],r+u*s[1]);for(var d=1;d<s.length/2;d++)t.lineTo(e+l*s[d*2],r+u*s[d*2+1]);t.closePath()};va.drawRoundPolygonPath=function(t,e,r,a,o,s,l){l.forEach(function(u){return hm(t,u)}),t.closePath()};va.drawRoundRectanglePath=function(t,e,r,a,o,s){var l=a/2,u=o/2,d=s==="auto"?Oa(a,o):Math.min(s,u,l);t.beginPath&&t.beginPath(),t.moveTo(e,r-u),t.arcTo(e+l,r-u,e+l,r,d),t.arcTo(e+l,r+u,e,r+u,d),t.arcTo(e-l,r+u,e-l,r,d),t.arcTo(e-l,r-u,e,r-u,d),t.lineTo(e,r-u),t.closePath()};va.drawBottomRoundRectanglePath=function(t,e,r,a,o,s){var l=a/2,u=o/2,d=s==="auto"?Oa(a,o):s;t.beginPath&&t.beginPath(),t.moveTo(e,r-u),t.lineTo(e+l,r-u),t.lineTo(e+l,r),t.arcTo(e+l,r+u,e,r+u,d),t.arcTo(e-l,r+u,e-l,r,d),t.lineTo(e-l,r-u),t.lineTo(e,r-u),t.closePath()};va.drawCutRectanglePath=function(t,e,r,a,o,s,l){var u=a/2,d=o/2,f=l==="auto"?jf():l;t.beginPath&&t.beginPath(),t.moveTo(e-u+f,r-d),t.lineTo(e+u-f,r-d),t.lineTo(e+u,r-d+f),t.lineTo(e+u,r+d-f),t.lineTo(e+u-f,r+d),t.lineTo(e-u+f,r+d),t.lineTo(e-u,r+d-f),t.lineTo(e-u,r-d+f),t.closePath()};va.drawBarrelPath=function(t,e,r,a,o){var s=a/2,l=o/2,u=e-s,d=e+s,f=r-l,v=r+l,h=vf(a,o),g=h.widthOffset,y=h.heightOffset,m=h.ctrlPtOffsetPct*g;t.beginPath&&t.beginPath(),t.moveTo(u,f+y),t.lineTo(u,v-y),t.quadraticCurveTo(u+m,v,u+g,v),t.lineTo(d-g,v),t.quadraticCurveTo(d-m,v,d,v-y),t.lineTo(d,f+y),t.quadraticCurveTo(d-m,f,d-g,f),t.lineTo(u+g,f),t.quadraticCurveTo(u+m,f,u,f+y),t.closePath()};var Up=Math.sin(0),Hp=Math.cos(0),kf={},Tf={},Dm=Math.PI/40;for(var gi=0*Math.PI;gi<2*Math.PI;gi+=Dm)kf[gi]=Math.sin(gi),Tf[gi]=Math.cos(gi);va.drawEllipsePath=function(t,e,r,a,o){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,a/2,o/2,0,0,2*Math.PI);else for(var s,l,u=a/2,d=o/2,f=0*Math.PI;f<2*Math.PI;f+=Dm)s=e-u*kf[f]*Up+u*Tf[f]*Hp,l=r+d*Tf[f]*Up+d*kf[f]*Hp,f===0?t.moveTo(s,l):t.lineTo(s,l);t.closePath()};var Zo={};Zo.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};Zo.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),a=r.boundingBox(),o=this.findContainerClientCoords(),s=t.full?Math.ceil(a.w):o[2],l=t.full?Math.ceil(a.h):o[3],u=be(t.maxWidth)||be(t.maxHeight),d=this.getPixelRatio(),f=1;if(t.scale!==void 0)s*=t.scale,l*=t.scale,f=t.scale;else if(u){var v=1/0,h=1/0;be(t.maxWidth)&&(v=f*t.maxWidth/s),be(t.maxHeight)&&(h=f*t.maxHeight/l),f=Math.min(v,h),s*=f,l*=f}u||(s*=d,l*=d,f*=d);var g=document.createElement("canvas");g.width=s,g.height=l,g.style.width=s+"px",g.style.height=l+"px";var y=g.getContext("2d");if(s>0&&l>0){y.clearRect(0,0,s,l),y.globalCompositeOperation="source-over";var m=this.getCachedZSortedEles();if(t.full)y.translate(-a.x1*f,-a.y1*f),y.scale(f,f),this.drawElements(y,m),y.scale(1/f,1/f),y.translate(a.x1*f,a.y1*f);else{var S=e.pan(),x={x:S.x*f,y:S.y*f};f*=e.zoom(),y.translate(x.x,x.y),y.scale(f,f),this.drawElements(y,m),y.scale(1/f,1/f),y.translate(-x.x,-x.y)}t.bg&&(y.globalCompositeOperation="destination-over",y.fillStyle=t.bg,y.rect(0,0,s,l),y.fill())}return g};function ik(t,e){for(var r=atob(t),a=new ArrayBuffer(r.length),o=new Uint8Array(a),s=0;s<r.length;s++)o[s]=r.charCodeAt(s);return new Blob([a],{type:e})}function qp(t){var e=t.indexOf(",");return t.substr(e+1)}function Pm(t,e,r){var a=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new Ni(function(o,s){try{e.toBlob(function(l){l!=null?o(l):s(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(l){s(l)}});case"blob":return ik(qp(a()),r);case"base64":return qp(a());case"base64uri":default:return a()}}Zo.png=function(t){return Pm(t,this.bufferCanvasImage(t),"image/png")};Zo.jpg=function(t){return Pm(t,this.bufferCanvasImage(t),"image/jpeg")};var Nm={};Nm.nodeShapeImpl=function(t,e,r,a,o,s,l,u){switch(t){case"ellipse":return this.drawEllipsePath(e,r,a,o,s);case"polygon":return this.drawPolygonPath(e,r,a,o,s,l);case"round-polygon":return this.drawRoundPolygonPath(e,r,a,o,s,l,u);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,a,o,s,u);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,a,o,s,l,u);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,a,o,s,u);case"barrel":return this.drawBarrelPath(e,r,a,o,s)}};var ok=Lm,ot=Lm.prototype;ot.CANVAS_LAYERS=3;ot.SELECT_BOX=0;ot.DRAG=1;ot.NODE=2;ot.BUFFER_COUNT=3;ot.TEXTURE_BUFFER=0;ot.MOTIONBLUR_BUFFER_NODE=1;ot.MOTIONBLUR_BUFFER_DRAG=2;function Lm(t){var e=this,r=e.cy.window(),a=r.document;e.data={canvases:new Array(ot.CANVAS_LAYERS),contexts:new Array(ot.CANVAS_LAYERS),canvasNeedsRedraw:new Array(ot.CANVAS_LAYERS),bufferCanvases:new Array(ot.BUFFER_COUNT),bufferContexts:new Array(ot.CANVAS_LAYERS)};var o="-webkit-tap-highlight-color",s="rgba(0,0,0,0)";e.data.canvasContainer=a.createElement("div");var l=e.data.canvasContainer.style;e.data.canvasContainer.style[o]=s,l.position="relative",l.zIndex="0",l.overflow="hidden";var u=t.cy.container();u.appendChild(e.data.canvasContainer),u.style[o]=s;var d={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};K0()&&(d["-ms-touch-action"]="none",d["touch-action"]="none");for(var f=0;f<ot.CANVAS_LAYERS;f++){var v=e.data.canvases[f]=a.createElement("canvas");e.data.contexts[f]=v.getContext("2d"),Object.keys(d).forEach(function(ie){v.style[ie]=d[ie]}),v.style.position="absolute",v.setAttribute("data-id","layer"+f),v.style.zIndex=String(ot.CANVAS_LAYERS-f),e.data.canvasContainer.appendChild(v),e.data.canvasNeedsRedraw[f]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[ot.NODE].setAttribute("data-id","layer"+ot.NODE+"-node"),e.data.canvases[ot.SELECT_BOX].setAttribute("data-id","layer"+ot.SELECT_BOX+"-selectbox"),e.data.canvases[ot.DRAG].setAttribute("data-id","layer"+ot.DRAG+"-drag");for(var f=0;f<ot.BUFFER_COUNT;f++)e.data.bufferCanvases[f]=a.createElement("canvas"),e.data.bufferContexts[f]=e.data.bufferCanvases[f].getContext("2d"),e.data.bufferCanvases[f].style.position="absolute",e.data.bufferCanvases[f].setAttribute("data-id","buffer"+f),e.data.bufferCanvases[f].style.zIndex=String(-f-1),e.data.bufferCanvases[f].style.visibility="hidden";e.pathsEnabled=!0;var h=Nr(),g=function(Q){return{x:(Q.x1+Q.x2)/2,y:(Q.y1+Q.y2)/2}},y=function(Q){return{x:-Q.w/2,y:-Q.h/2}},m=function(Q){var ue=Q[0]._private,de=ue.oldBackgroundTimestamp===ue.backgroundTimestamp;return!de},S=function(Q){return Q[0]._private.nodeKey},x=function(Q){return Q[0]._private.labelStyleKey},E=function(Q){return Q[0]._private.sourceLabelStyleKey},b=function(Q){return Q[0]._private.targetLabelStyleKey},k=function(Q,ue,de,Se,Ae){return e.drawElement(Q,ue,de,!1,!1,Ae)},D=function(Q,ue,de,Se,Ae){return e.drawElementText(Q,ue,de,Se,"main",Ae)},B=function(Q,ue,de,Se,Ae){return e.drawElementText(Q,ue,de,Se,"source",Ae)},N=function(Q,ue,de,Se,Ae){return e.drawElementText(Q,ue,de,Se,"target",Ae)},T=function(Q){return Q.boundingBox(),Q[0]._private.bodyBounds},O=function(Q){return Q.boundingBox(),Q[0]._private.labelBounds.main||h},I=function(Q){return Q.boundingBox(),Q[0]._private.labelBounds.source||h},j=function(Q){return Q.boundingBox(),Q[0]._private.labelBounds.target||h},M=function(Q,ue){return ue},A=function(Q){return g(T(Q))},F=function(Q,ue,de){var Se=Q?Q+"-":"";return{x:ue.x+de.pstyle(Se+"text-margin-x").pfValue,y:ue.y+de.pstyle(Se+"text-margin-y").pfValue}},z=function(Q,ue,de){var Se=Q[0]._private.rscratch;return{x:Se[ue],y:Se[de]}},$=function(Q){return F("",z(Q,"labelX","labelY"),Q)},H=function(Q){return F("source",z(Q,"sourceLabelX","sourceLabelY"),Q)},W=function(Q){return F("target",z(Q,"targetLabelX","targetLabelY"),Q)},U=function(Q){return y(T(Q))},G=function(Q){return y(I(Q))},K=function(Q){return y(j(Q))},L=function(Q){var ue=O(Q),de=y(O(Q));if(Q.isNode()){switch(Q.pstyle("text-halign").value){case"left":de.x=-ue.w-(ue.leftPad||0);break;case"right":de.x=-(ue.rightPad||0);break}switch(Q.pstyle("text-valign").value){case"top":de.y=-ue.h-(ue.topPad||0);break;case"bottom":de.y=-(ue.botPad||0);break}}return de},_=e.data.eleTxrCache=new Lo(e,{getKey:S,doesEleInvalidateKey:m,drawElement:k,getBoundingBox:T,getRotationPoint:A,getRotationOffset:U,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),Z=e.data.lblTxrCache=new Lo(e,{getKey:x,drawElement:D,getBoundingBox:O,getRotationPoint:$,getRotationOffset:L,isVisible:M}),te=e.data.slbTxrCache=new Lo(e,{getKey:E,drawElement:B,getBoundingBox:I,getRotationPoint:H,getRotationOffset:G,isVisible:M}),oe=e.data.tlbTxrCache=new Lo(e,{getKey:b,drawElement:N,getBoundingBox:j,getRotationPoint:W,getRotationOffset:K,isVisible:M}),le=e.data.lyrTxrCache=new Cm(e);e.onUpdateEleCalcs(function(Q,ue){_.invalidateElements(ue),Z.invalidateElements(ue),te.invalidateElements(ue),oe.invalidateElements(ue),le.invalidateElements(ue);for(var de=0;de<ue.length;de++){var Se=ue[de]._private;Se.oldBackgroundTimestamp=Se.backgroundTimestamp}});var ce=function(Q){for(var ue=0;ue<Q.length;ue++)le.enqueueElementRefinement(Q[ue].ele)};_.onDequeue(ce),Z.onDequeue(ce),te.onDequeue(ce),oe.onDequeue(ce)}ot.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[ot.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[ot.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[ot.SELECT_BOX]=e;break}};var sk=typeof Path2D<"u";ot.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};ot.usePaths=function(){return sk&&this.pathsEnabled};ot.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};ot.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};ot.makeOffscreenCanvas=function(t,e){var r;if((typeof OffscreenCanvas>"u"?"undefined":_t(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(t,e);else{var a=this.cy.window(),o=a.document;r=o.createElement("canvas"),r.width=t,r.height=e}return r};[bm,gn,Rn,Jf,Va,zi,Or,va,Zo,Nm].forEach(function(t){Ue(ot,t)});var lk=[{name:"null",impl:fm},{name:"base",impl:Em},{name:"canvas",impl:ok}],uk=[{type:"layout",extensions:pb},{type:"renderer",extensions:lk}],Rm={},Bm={};function Im(t,e,r){var a=r,o=function(O){ft("Can not register `"+e+"` for `"+t+"` since `"+O+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(Uo.prototype[e])return o(e);Uo.prototype[e]=r}else if(t==="collection"){if(Jt.prototype[e])return o(e);Jt.prototype[e]=r}else if(t==="layout"){for(var s=function(O){this.options=O,r.call(this,O),nt(this._private)||(this._private={}),this._private.cy=O.cy,this._private.listeners=[],this.createEmitter()},l=s.prototype=Object.create(r.prototype),u=[],d=0;d<u.length;d++){var f=u[d];l[f]=l[f]||function(){return this}}l.start&&!l.run?l.run=function(){return this.start(),this}:!l.start&&l.run&&(l.start=function(){return this.run(),this});var v=r.prototype.stop;l.stop=function(){var T=this.options;if(T&&T.animate){var O=this.animations;if(O)for(var I=0;I<O.length;I++)O[I].stop()}return v?v.call(this):this.emit("layoutstop"),this},l.destroy||(l.destroy=function(){return this}),l.cy=function(){return this._private.cy};var h=function(O){return O._private.cy},g={addEventFields:function(O,I){I.layout=O,I.cy=h(O),I.target=O},bubble:function(){return!0},parent:function(O){return h(O)}};Ue(l,{createEmitter:function(){return this._private.emitter=new tu(g,this),this},emitter:function(){return this._private.emitter},on:function(O,I){return this.emitter().on(O,I),this},one:function(O,I){return this.emitter().one(O,I),this},once:function(O,I){return this.emitter().one(O,I),this},removeListener:function(O,I){return this.emitter().removeListener(O,I),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(O,I){return this.emitter().emit(O,I),this}}),ct.eventAliasesOn(l),a=s}else if(t==="renderer"&&e!=="null"&&e!=="base"){var y=Mm("renderer","base"),m=y.prototype,S=r,x=r.prototype,E=function(){y.apply(this,arguments),S.apply(this,arguments)},b=E.prototype;for(var k in m){var D=m[k],B=x[k]!=null;if(B)return o(k);b[k]=D}for(var N in x)b[N]=x[N];m.clientFunctions.forEach(function(T){b[T]=b[T]||function(){Nt("Renderer does not implement `renderer."+T+"()` on its prototype")}}),a=E}else if(t==="__proto__"||t==="constructor"||t==="prototype")return Nt(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return ig({map:Rm,keys:[t,e],value:a})}function Mm(t,e){return og({map:Rm,keys:[t,e]})}function ck(t,e,r,a,o){return ig({map:Bm,keys:[t,e,r,a],value:o})}function fk(t,e,r,a){return og({map:Bm,keys:[t,e,r,a]})}var Df=function(){if(arguments.length===2)return Mm.apply(null,arguments);if(arguments.length===3)return Im.apply(null,arguments);if(arguments.length===4)return fk.apply(null,arguments);if(arguments.length===5)return ck.apply(null,arguments);Nt("Invalid extension access syntax")};Uo.prototype.extension=Df;uk.forEach(function(t){t.extensions.forEach(function(e){Im(t.type,e.name,e.impl)})});var Om=function t(){if(!(this instanceof t))return new t;this.length=0},Fa=Om.prototype;Fa.instanceString=function(){return"stylesheet"};Fa.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};Fa.css=function(t,e){var r=this.length-1;if(Fe(t))this[r].properties.push({name:t,value:e});else if(nt(t))for(var a=t,o=Object.keys(a),s=0;s<o.length;s++){var l=o[s],u=a[l];if(u!=null){var d=dr.properties[l]||dr.properties[ql(l)];if(d!=null){var f=d.name,v=u;this[r].properties.push({name:f,value:v})}}}return this};Fa.style=Fa.css;Fa.generateStyle=function(t){var e=new dr(t);return this.appendToStyle(e)};Fa.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],a=r.selector,o=r.properties;t.selector(a);for(var s=0;s<o.length;s++){var l=o[s];t.css(l.name,l.value)}}return t};var dk="3.30.4",fa=function(e){if(e===void 0&&(e={}),nt(e))return new Uo(e);if(Fe(e))return Df.apply(Df,arguments)};fa.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(fa),t.apply(null,e),this};fa.warnings=function(t){return hg(t)};fa.version=dk;fa.stylesheet=fa.Stylesheet=Om;const vk="https://voteonsol.com",hk=({jsonObject:t,onAddNode:e,onReshuffle:r,nodeSelected:a,onClose:o})=>{const s=he.useRef(null),l=he.useRef(null),[u,d]=he.useState(""),[f,v]=he.useState({x:0,y:0}),h=(g,y,m=null)=>{y.add({group:"nodes",data:{id:g.name,label:g.name,details:g}}),m&&y.add({group:"edges",data:{id:`${m}-${g.name}`,source:m,target:g.name}}),g.children&&Array.isArray(g.children)&&g.children.forEach(S=>h(S,y,g.name))};return he.useEffect(()=>(s.current=fa({container:document.getElementById("cy-container"),style:[{selector:"node",style:{content:"data(label)","text-valign":"center","text-halign":"center","background-color":"#61bffc","border-width":1,"border-color":"#000"}},{selector:"edge",style:{"curve-style":"bezier","target-arrow-shape":"triangle","line-color":"#ccc","target-arrow-color":"#ccc"}}],layout:{name:"breadthfirst",directed:!0,spacingFactor:1.1,maximal:!0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!0}}),t&&h(t,s.current),s.current.layout({name:"breadthfirst",directed:!0,spacingFactor:1.1,maximal:!0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!0,transform:function(g,y){return{x:y.x,y:-y.y}}}).run(),s.current.on("mouseover","node",g=>{const y=g.target,m=y.data().details,S=`
        Name: ${m.name}
        Schedule: ${m.schedule}
        Effect Time: ${m.reeffectTime} hrs
        Values: ${JSON.stringify(m.values,null,2)}
        Goals: ${JSON.stringify(m.goals,null,2)}
      `,x=y.renderedPosition();d(S),v({x:x.x,y:x.y+20})}),s.current.on("mouseout","node",()=>{d("")}),()=>{s.current&&s.current.destroy()}),[t]),P.jsx("div",{className:"modal",children:P.jsxs("div",{className:"modal-content",children:[P.jsxs("div",{className:"button-container",children:[P.jsx("button",{onClick:o,className:"close",children:"×"}),P.jsx("button",{onClick:e,children:"Add to Tree"}),P.jsx("button",{onClick:r,children:"Reshuffle"})]}),P.jsx("h2",{children:"New Branch Idea"}),u&&P.jsx("div",{className:"tooltip",ref:l,style:{position:"absolute",top:"10px",left:"10px",color:"black",background:"#fff",padding:"5px",border:"1px solid #ccc",zIndex:1e3,whiteSpace:"pre-wrap",boxShadow:"2px 2px 10px rgba(0,0,0,0.2)",borderRadius:"5px",maxWidth:"300px"},children:u}),P.jsx("div",{id:"cy-container",style:{width:"100%",height:"500px",border:"1px solid #ccc"}})]})})},pk=async(t,e)=>{const r=lt.get("token");try{const a=await fetch(`${vk}/add-nodes-tree`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({parentId:e._id,nodeTree:t}),credentials:"include"}),o=await a.json();if(!a.ok)throw console.error("Error adding node:",o),new Error("Failed to create node");console.log("Node added:",o)}catch(a){console.error("Error setting schedule:",a.message)}},gk=({jsonObject:t,nodeSelected:e,fetchFromServer:r})=>{const[a,o]=he.useState(!0),s=async()=>{await pk(t,e)},l=()=>{r()},u=()=>{o(!1)};return P.jsx("div",{children:a&&P.jsx(hk,{jsonObject:t,onAddNode:s,onReshuffle:l,nodeSelected:e,onClose:u})})},mk=JSON.stringify({name:"Brush Teeth Routine",schedule:"2024-12-01T07:00:00Z",reeffectTime:0,values:{brushingTimeMinutes:0},goals:{brushingTimeMinutes:2},children:[]},null,2),yk=new Date().toISOString(),wk=({nodeSelected:t})=>{const[e,r]=he.useState(""),[a,o]=he.useState(!1),[s,l]=he.useState(""),[u,d]=he.useState(50),[f,v]=he.useState([]),[h,g]=he.useState(""),[y,m]=he.useState(null),S="https://voteonsol.com",x=async()=>{o(!0),await E();const k={messages:[{role:"user",content:`create branches off of this branch  ${JSON.stringify(f)}  to make this plan " ${s} ". and Please output a strict JSON object with the same exact same keys and structure of object ${mk}. each node name must be unique. make the branching intracy and planning from ${u} out of 100 in detail. Ensure the response is in valid JSON format only (no additional text or explanation). Each node should have name, versions array (with just 1 object with needed keys: values (only number, name represents the value associated, and default to 0) and used to track a quantifiable number in node step (not required), goals(only numbers) used to track completetion of values and not required (but correspond to an already made value), schedule, reeffect time (in hrs)), children,. no adding keys to object, , and dont include the parent. only start with new branches, and not every object needs a schedule, and if it does have one give it reeffecttime in hours if it is repeated and also schedule from the current moment forward(${yk}). you can have multiple children on one layer and split the goal/plan up as needed with detail level. do not have redundent steps, they should all be categorized and make sense from parent to child in order breaking steps into details. they can have more than one value, and every value doesnt need a goal but it is more ideal. keep reeffecttime set to null if it doesnt need to repeat. keep all time spent values in hrs and all money in usd $xx.xx`}],temperature:1,max_tokens:5e3,top_p:1,stop:null};try{const B=await(await fetch(`${S}/AiResponse`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)})).json();if(console.log(B),B.success&&B.data){const N=JSON.parse(B.data);if(Array.isArray(N.choices)&&N.choices.length>0){const T=N.choices[0].message.content,I=/```json([\s\S]+?)```/.exec(T);if(I){const j=T.split(I[0])[0].trim(),M=I[1].trim();g(j);try{m(JSON.parse(M))}catch(A){console.error("Error parsing JSON:",A),m("Invalid JSON")}}else g(T),m("No JSON object found.")}else console.error("No choices found in the response."),r("Error: No choices found.")}else console.error("Invalid response format: result.data is undefined"),r("Error: Invalid response format.")}catch(D){console.error("Error:",D),r("Error communicating with the server.")}finally{o(!1)}},E=async()=>{o(!0),v([]);try{const b=await fetch(`${S}/get-parents`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({childId:t._id})}),k=await b.json();console.log(k),b.ok?v(k):(console.error(k.message||"Error fetching tree branch."),v([]))}catch(b){console.error(b),v([])}finally{o(!1)}};return P.jsxs("div",{children:[P.jsx("h1",{children:"AI Creation"}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"plan-description",children:"Plan Description:"}),P.jsx("textarea",{id:"plan-description",value:s,onChange:b=>l(b.target.value),placeholder:"Describe your plan...",rows:"4",style:{width:"100%"}})]}),P.jsxs("div",{children:[P.jsxs("label",{htmlFor:"depth-slider",children:["Depth of Planning: ",u]}),P.jsx("input",{id:"depth-slider",type:"range",min:"1",max:"100",value:u,onChange:b=>d(b.target.value)})]}),P.jsxs("div",{children:[P.jsx("h2",{children:"AI Response"}),P.jsx("button",{onClick:x,disabled:a,children:a?"Loading...":"Generate AI Response"}),!a&&y&&P.jsx(gk,{jsonObject:y,nodeSelected:t,fetchFromServer:x})]})]})},xk=({nodeSelected:t,onComplete:e})=>{const[r,a]=he.useState(""),[o,s]=he.useState(""),[l,u]=he.useState(""),[d,f]=he.useState(!1),v="https://voteonsol.com",h=async y=>{y.preventDefault();const m=lt.get("token");if(!m){console.error("No JWT token found!");return}const S=r.split(",").map(x=>x.trim()).filter(x=>x.length>0);try{for(const x of S){const E=await fetch(`${v}/add-node`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify({parentId:t._id,name:x,schedule:o,reeffectTime:l,isRoot:!1}),credentials:"include"}),b=await E.json();if(!E.ok)throw console.error("Error creating node:",b),new Error("Failed to create node")}a(""),s(""),u(""),e()}catch(x){console.error("Error creating node:",x.message)}},g=y=>{y.target.style.height="auto",y.target.style.height=`${y.target.scrollHeight}px`};return P.jsxs("div",{children:[P.jsx("h1",{children:"Create Node"}),P.jsx("div",{children:P.jsxs("label",{children:[P.jsx("input",{type:"checkbox",checked:d,onChange:y=>f(y.target.checked)}),"Use AI Assistance"]})}),d?P.jsx(wk,{nodeSelected:t}):P.jsxs("form",{onSubmit:h,children:[P.jsxs("div",{children:[P.jsx("label",{children:"Node Name:"}),P.jsx("textarea",{value:r,onChange:y=>a(y.target.value),onInput:g,rows:1,style:{resize:"none"},required:!0})]}),P.jsx("small",{children:"Separate names by commas to create multiple nodes simultaneously."}),P.jsxs("div",{children:[P.jsx("label",{children:"Schedule:"}),P.jsx("input",{type:"datetime-local",value:o,onChange:y=>s(y.target.value)})]}),P.jsxs("div",{children:[P.jsx("label",{children:"Reeffect Time:"}),P.jsx("input",{type:"number",value:l,onChange:y=>u(y.target.value)})]}),P.jsx("button",{type:"submit",children:"Start Creation"})]})]})},Ek=({nodeSelected:t,nodeVersion:e,onComplete:r})=>{const[a,o]=he.useState(!0),[s,l]=he.useState(null),u="https://voteonsol.com",d=async f=>{if(l(f),f){const v=lt.get("token");if(!v){console.error("No JWT token found!");return}try{const h=await fetch(`${u}/edit-status`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${v}`},credentials:"include",body:JSON.stringify({nodeId:t._id,status:"trimmed",version:e,isInherited:!0})}),g=await h.json();if(!h.ok)throw console.error("Error trimming node:",g),new Error("Failed to trim node");o(!1),r()}catch(h){console.error("Error trimming node:",h.message)}}};return P.jsx("div",{children:a&&P.jsxs("div",{children:[P.jsx("h2",{children:"Trim Node and All Its Children?"}),P.jsx("button",{onClick:()=>d(!0),children:"Yes"}),P.jsx("button",{onClick:()=>d(!1),children:"No"})]})})},Sk=({nodeSelected:t,nodeVersion:e,onComplete:r})=>{const[a,o]=he.useState(!0),[s,l]=he.useState(null),[u,d]=he.useState(!1),[f,v]=he.useState(!0),h="https://voteonsol.com",g=async m=>{l(m),d(!0);const S=lt.get("token");if(!S){console.error("No JWT token found!"),d(!1);return}try{const x=await fetch(`${h}/edit-status`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`},body:JSON.stringify({nodeId:t._id,status:m,version:e,isInherited:f}),credentials:"include"}),E=await x.json();if(!x.ok)throw console.error("Error updating status:",E),new Error("Failed to update status");o(!1),r()}catch(x){console.error("Error updating node status:",x.message)}finally{d(!1)}},y=m=>{v(m.target.checked)};return P.jsx("div",{children:a&&P.jsxs("div",{children:[P.jsx("h2",{children:"Set Node Status"}),P.jsx("button",{onClick:()=>g("completed"),children:"Complete"}),P.jsx("button",{onClick:()=>g("active"),children:"Active"}),P.jsx("div",{children:P.jsxs("label",{children:["Apply to all children:",P.jsx("input",{type:"checkbox",checked:f,onChange:y})]})})]})})},Ck=({nodeSelected:t,tree:e,onComplete:r,setNodeSelected:a,rootSelected:o})=>{const s="https://voteonsol.com",l=async u=>{if(u.preventDefault(),t._id==o){alert("You can not delete the root like this");return}if(!window.confirm("Are you sure you want to delete this node and all of its children? This action is permanent."))return;const f=lt.get("token");if(!f){console.error("No JWT token found!");return}try{if(!e||!e.children||!Array.isArray(e.children)){console.error("Invalid tree structure!");return}const v=(m,S)=>{if(S.children&&S.children.some(x=>x._id===m))return S;for(let x of S.children){const E=v(m,x);if(E)return E}return null},h=v(t._id,e);if(!h){console.error("No parent node found!");return}const g=await fetch(`${s}/delete-node`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify({nodeId:t._id}),credentials:"include"}),y=await g.json();if(!g.ok)throw console.error("Error deleting node:",y),new Error("Failed to delete node");a(h),r()}catch(v){console.error("Error deleting node:",v.message)}};return P.jsxs("div",{children:[P.jsx("h1",{children:"Delete Node and Children"}),P.jsx("h3",{children:"Warning: this will delete all of the nodes below and is permanent"}),P.jsx("form",{onSubmit:l,children:P.jsx("button",{type:"submit",children:"Start Deletion"})})]})},bk=({nodeSelected:t,tree:e,onComplete:r,setNodeSelected:a,rootSelected:o})=>{const[s,l]=he.useState(null),u="https://voteonsol.com",d=y=>{if(!y)return[];let m=[];return y._id!==t._id&&m.push(y),y.children&&Array.isArray(y.children)&&y.children.forEach(S=>{S._id!==t._id&&(m=m.concat(d(S)))}),m},f=d(e),v=y=>{l(y)},h=async y=>{if(y.preventDefault(),!s){console.error("No new parent selected");return}const m=lt.get("token");if(!m){console.error("No JWT token found!");return}try{const S=await fetch(`${u}/update-parent`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify({nodeChildId:t._id,nodeNewParentId:s._id}),credentials:"include"}),x=await S.json();if(!S.ok)throw new Error("Failed to update parent");r()}catch(S){console.error("Error updating parent node:",S.message)}},g=y=>y.map(m=>P.jsx("div",{onClick:()=>v(m),style:{cursor:"pointer",padding:"5px",margin:"5px",border:"1px solid #ccc",borderRadius:"4px"},children:P.jsx("p",{children:m.name})},m._id));return P.jsxs("div",{children:[P.jsx("h1",{children:"Select A New Parent Node"}),P.jsxs("div",{children:[P.jsx("h4",{children:"Click on a node below to set it as the new parent:"}),P.jsxs("div",{style:{marginBottom:"20px"},children:[g(f),"  "]}),s&&P.jsx("div",{children:P.jsxs("h4",{children:["New Parent Selected: ",s.name]})}),P.jsx("form",{onSubmit:h,children:P.jsx("button",{type:"submit",disabled:!s,children:"Start The Adoption Process"})})]})]})},Am=({nodeSelected:t,nodeVersion:e,getTree:r,rootSelected:a,handleToggleView:o,tree:s,setNodeSelected:l})=>{const[u,d]=he.useState(null),f=()=>{d(null),r(a)},v=()=>{t&&d("createNode")},h=()=>{t&&d("updateParent")},g=()=>{t&&d("trimNode")},y=()=>{t&&d("deleteNode")},m=()=>{t&&d("completeNode")},S=()=>{d(null)};return t&&P.jsxs("div",{className:"tree-view-menu",children:[P.jsx("button",{onClick:v,children:"Create Child"}),P.jsx("button",{onClick:y,children:"Delete"}),P.jsx("button",{onClick:g,children:"Trim"}),P.jsx("button",{onClick:m,children:"Manage Status"}),a!==t._id&&P.jsx("button",{onClick:h,children:"Update Parent"}),P.jsx("button",{onClick:o,children:"Switch View"}),P.jsxs("div",{className:"form-container",children:[u&&P.jsx("button",{onClick:S,children:"Cancel"}),u==="createNode"&&P.jsx(xk,{nodeSelected:t,onComplete:f}),u==="trimNode"&&P.jsx(Ek,{nodeSelected:t,nodeVersion:e,onComplete:f}),u==="completeNode"&&P.jsx(Sk,{nodeSelected:t,nodeVersion:e,onComplete:f}),u==="deleteNode"&&P.jsx(Ck,{nodeSelected:t,onComplete:f,tree:s,setNodeSelected:l,rootSelected:a}),u==="updateParent"&&P.jsx(bk,{nodeSelected:t,tree:s,onComplete:f})]})]})},Il=(t,e)=>{if(t._id===e)return t;for(let r of t.children||[]){const a=Il(r,e);if(a)return a}return null},zm=t=>{if(!t)return null;const e={...t};return e.children&&e.children.length>0&&(e.children=e.children.slice().sort((r,a)=>{var l,u;const o=new Date(((l=r.versions[r.prestige])==null?void 0:l.dateCreated)||0),s=new Date(((u=a.versions[a.prestige])==null?void 0:u.dateCreated)||0);return o-s}),e.children=e.children.map(r=>zm(r))),e},lf=({rootSelected:t,nodeSelected:e,setNodeSelected:r,setNodeVersion:a,nodeVersion:o,tree:s,getTree:l,handleToggleView:u,statusFilter:d,setStatusFilter:f})=>{const[v,h]=he.useState(!1),[g,y]=he.useState(!1),[m,S]=he.useState(!1),x=he.useRef(null),E=he.useRef(null),b=he.useRef(!1),k=T=>{const O=Il(s,T);O&&r(O)},D=T=>{const O=T.incomers("node"),I=T.outgoers("node"),j=O.length>0?O[0].outgoers("node").toArray():[];y(O.length>0),h(I.length>0),S(j.length>0)};he.useEffect(()=>{!E.current||b.current||(b.current=!0,x.current=fa({container:E.current,style:[{selector:"node",style:{"background-color":"data(bgColor)",label:"data(name)"}},{selector:"edge",style:{width:2,"line-color":"#ccc"}},{selector:"node.selected",style:{"border-width":4,"border-color":"#FF4500","border-style":"dashed"}},{selector:"node.root",style:{"border-width":4,"border-color":"#FFD700","border-style":"solid"}}]}))},[]),he.useEffect(()=>{if(!x.current||!s)return;const T=x.current,O=zm(s);T.elements().remove();const I=(M,A=null)=>{let F="#ccc";switch(M.versions[M.prestige].status){case"active":F="green";break;case"trimmed":F="red";break;case"completed":F="#DAA520";break}T.add({data:{id:M._id,name:`${M.name} `,status:M.versions[M.prestige].status,prestige:M.prestige,bgColor:F}}),A&&T.add({data:{source:A,target:M._id}}),(M.children||[]).forEach(z=>I(z,M._id))};I(O),T.layout({name:"breadthfirst",roots:T.getElementById(t),directed:!0,spacingFactor:1.1,maximal:!1,avoidOverlap:!0,nodeDimensionsIncludeLabels:!0,transform:(M,A)=>({x:A.x,y:-A.y})}).run(),T.fit(),T.zoom({level:.5});const j=T.getElementById(t);if(j&&j.addClass("root"),T.center(j),e){const M=T.getElementById(e._id);D(M)}},[s,t]),he.useEffect(()=>{const T=x.current,O=I=>{var A;const j=I.target.id(),M=(A=T.getElementById(j))==null?void 0:A.data();M&&(T.nodes().removeClass("selected"),I.target.addClass("selected"),k(M.id),a(M.prestige),D(I.target))};return T.off("tap","node").on("tap","node",O),()=>T.off("tap","node",O)},[s,x.current]),he.useEffect(()=>{if(!x.current||!e)return;const T=x.current,O=I=>{let j=T.getElementById(e._id);if(!j||!j.isNode())return;let M=null;switch(I.key){case"ArrowLeft":{const A=j.incomers("node");if(A.length>0){const F=A[0].outgoers("node").toArray(),z=F.findIndex($=>$.id()===j.id());z>0?M=F[z-1]:M=F[F.length-1]}break}case"ArrowRight":{const A=j.incomers("node");if(A.length>0){const F=A[0].outgoers("node").toArray(),z=F.findIndex($=>$.id()===j.id());z<F.length-1?M=F[z+1]:M=F[0]}break}case"ArrowDown":{const A=j.incomers("node");A.length>0&&(M=A[0]);break}case"ArrowUp":{const A=j.outgoers("node");A.length>0&&(M=A[0]);break}default:return}if(M){I.preventDefault();const A=M.id();r(Il(s,A)),T.nodes().removeClass("selected"),M.addClass("selected"),D(M)}};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[e,s]);const B=(T,O)=>{const I=x.current,j=I.getElementById(T);if(!j)return;let M=null;switch(O){case"down":{const A=j.incomers("node");A.length>0&&(M=A[0]);break}case"up":{const A=j.outgoers("node");A.length>0&&(M=A[0]);break}case"left":{const A=j.incomers("node");if(A.length>0){const F=A[0].outgoers("node").toArray(),z=F.findIndex($=>$.id()===j.id());z>0?M=F[z-1]:M=F[F.length-1]}break}case"right":{const A=j.incomers("node");if(A.length>0){const F=A[0].outgoers("node").toArray(),z=F.findIndex($=>$.id()===j.id());z<F.length-1?M=F[z+1]:M=F[0]}break}default:return}M&&(r(Il(s,M.id())),I.nodes().removeClass("selected"),M.addClass("selected"),D(M))};he.useEffect(()=>{if(!x.current||!e)return;const T=x.current;T.nodes().removeClass("selected");const O=T.getElementById(e._id);O&&(O.addClass("selected"),T.animate({center:{eles:O},zoom:1.5,padding:50},{duration:500,easing:"ease-out-cubic"}))},[e]);const N=T=>{const{name:O,checked:I}=T.target;f(j=>({...j,[O]:I}))};return P.jsxs("div",{children:[P.jsx("div",{style:{height:"100%"},children:P.jsx("div",{ref:E,id:"cy",style:{width:"100%",height:"100vh"}})}),P.jsxs("div",{className:"edge-buttons",children:[v&&P.jsx("button",{className:"arrow-btn up-btn",onClick:()=>B(e==null?void 0:e._id,"up"),children:"▲"}),g&&P.jsx("button",{className:"arrow-btn down-btn",onClick:()=>B(e==null?void 0:e._id,"down"),children:"▼"}),m&&P.jsx("button",{className:"arrow-btn left-btn",onClick:()=>B(e==null?void 0:e._id,"left"),children:"◄"}),m&&P.jsx("button",{className:"arrow-btn right-btn",onClick:()=>B(e==null?void 0:e._id,"right"),children:"►"})]}),P.jsxs("div",{className:"filters",children:[P.jsxs("label",{children:[P.jsx("input",{type:"checkbox",name:"active",checked:d.active,onChange:N}),"Active"]}),P.jsxs("label",{children:[P.jsx("input",{type:"checkbox",name:"trimmed",checked:d.trimmed,onChange:N}),"Trimmed"]}),P.jsxs("label",{children:[P.jsx("input",{type:"checkbox",name:"completed",checked:d.completed,onChange:N}),"Completed"]})]}),P.jsx(Am,{nodeSelected:e,nodeVersion:o,getTree:l,rootSelected:t,handleToggleView:u,tree:s,setNodeSelected:r})]})},Pf=(t,e)=>{if(t._id===e)return t;for(let r of t.children||[]){const a=Pf(r,e);if(a)return a}return null},uf=({nodeSelected:t,setNodeSelected:e,tree:r,handleToggleView:a,nodeVersion:o,getTree:s,rootSelected:l})=>{const u=h=>{const g=Pf(r,h);g&&e(g)},d=t&&t.parent?Pf(r,t.parent):null,f=t&&Array.isArray(t.children)?t.children:[],v=h=>h<=9?h.toString():String.fromCharCode(97+(h-10));return he.useEffect(()=>{const h=g=>{const y=g.key.toLowerCase();if(/[^a-z0-9]/.test(y)||g.target.tagName==="INPUT"||g.target.tagName==="TEXTAREA")return;const m=y>="0"&&y<="9"?parseInt(y,10):y.charCodeAt(0)-97+10;if(y==="0"&&!(t!=null&&t.parent))return;if(y==="0"&&d){u(d._id);return}const S=m-1;if(S>=0&&S<f.length){const x=f[S];u(x._id)}};return window.addEventListener("keydown",h),()=>{window.removeEventListener("keydown",h)}},[f,d,t]),P.jsxs("div",{className:"tree-view-directory",children:[P.jsx("div",{className:"selected-node",children:P.jsxs("h2",{children:["Current: ",t?t.name:"None"]})}),P.jsx("hr",{}),P.jsxs("ul",{className:"nodes-list",children:[(t==null?void 0:t.parent)===null?P.jsx("li",{children:P.jsx("span",{className:"unclickable",children:"(THIS IS ROOT)"})}):P.jsx("li",{children:P.jsxs("span",{onClick:()=>d&&u(d._id),style:{cursor:"pointer",color:"#1E90FF",fontWeight:"bolder"},children:["0: ",d?d.name:"None"," (parent)"]})}),f.length>0?f.map((h,g)=>P.jsx("li",{children:P.jsxs("span",{onClick:()=>u(h._id),style:{cursor:"pointer",color:"#1E90FF"},children:[v(g+1),": ",h.name]})},h._id)):P.jsx("li",{children:"No children available"})]}),P.jsx(Am,{nodeSelected:t,nodeVersion:o,getTree:s,rootSelected:l,handleToggleView:a,tree:r,setNodeSelected:e})]})},Wp=({nodeSelected:t,nodeVersion:e,setNodeVersion:r,getTree:a,rootSelected:o})=>{const[s,l]=he.useState([]),[u,d]=he.useState(""),[f,v]=he.useState(""),[h,g]=he.useState(null),[y,m]=he.useState(""),[S,x]=he.useState({}),[E,b]=he.useState(null),[k,D]=he.useState(""),[B,N]=he.useState(!1),[T,O]=he.useState(""),I="https://voteonsol.com";he.useEffect(()=>{if(t&&e!==null){const L=t.versions[e];if(L!=null&&L.values?l(Object.entries(L.values)):l([]),L!=null&&L.goals&&typeof L.goals=="object"){const _={};Object.entries(L.goals).forEach(([Z,te])=>{_[Z]=te}),x(_)}else x({})}else l([]),x({})},[e,t]),he.useEffect(()=>{d(""),v("")},[t]);const j=L=>{const _=L.target.value;r(Number(_))},M=async()=>{const L=lt.get("token");if(!L){console.error("No JWT token found!");return}try{const _=await fetch(`${I}/add-prestige`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L}`},body:JSON.stringify({nodeId:t._id}),credentials:"include"});if(_.ok){const Z=await _.json();a(o)}else console.error("Failed to add prestige:",await _.text())}catch(_){console.error("Error adding prestige:",_)}},A=L=>{b(L),D(S[L]||"")},F=L=>{D(L.target.value)},z=async L=>{const _=lt.get("token");if(!_){console.error("No JWT token found!");return}try{const Z=k,te=await fetch(`${I}/edit-goal`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`},body:JSON.stringify({nodeId:t._id,key:L,goal:Z,version:e}),credentials:"include"});if(te.ok){const oe=await te.json();x(le=>({...le,[L]:Z})),b(null),D(""),a(o)}else console.error("Failed to save goal:",await te.text())}catch(Z){console.error("Error saving goal:",Z)}},$=async(L,_)=>{const Z=lt.get("token");if(!Z){console.error("No JWT token found!");return}try{const te=await fetch(`${I}/edit-value`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Z}`},body:JSON.stringify({nodeId:t._id,key:L,value:_,version:e}),credentials:"include"});te.ok?(l(oe=>oe.map(([le,ce])=>le===L?[le,_]:[le,ce])),g(null),m(""),a(o)):console.error("Failed to save value:",await te.text())}catch(te){console.error("Error saving value:",te)}},H=(L,_)=>{g(L),m(_)},W=L=>{m(L.target.value)},U=()=>{N(!0),O(t.name)},G=L=>{O(L.target.value)},K=async()=>{if(T.trim()==""){O(t.name),N(!1);return}const L=lt.get("token");if(!L){console.error("No JWT token found!");return}try{const _=await fetch(`${I}/edit-name`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L}`},body:JSON.stringify({nodeId:t._id,newName:T}),credentials:"include"});_.ok?(t.name=T,N(!1),a(o)):console.error("Failed to save name:",await _.text())}catch(_){console.error("Error saving name:",_)}};return P.jsxs("div",{className:"node-data-container",children:[P.jsx("h3",{children:"Node Data"}),t?P.jsxs(P.Fragment,{children:[P.jsxs("div",{className:"topLeft",children:[P.jsxs("p",{children:[P.jsx("strong",{children:"Name:"}),B?P.jsxs("div",{children:[P.jsx("input",{type:"text",value:T,onChange:G,autoFocus:!0}),P.jsx("button",{onClick:K,children:"Save"})]}):P.jsx("span",{onClick:U,style:{cursor:"pointer",textDecoration:"underline"},children:t.name})]}),P.jsxs("p",{children:[P.jsx("strong",{children:"Status:"})," ",t.versions[e].status]}),P.jsxs("div",{children:[P.jsx("label",{children:"Prestige: "}),P.jsx("select",{value:e,onChange:j,style:{padding:"5px"},children:t.versions.map((L,_)=>P.jsxs("option",{value:_,children:["Prestige: ",L.prestige]},L._id))}),P.jsx("div",{style:{marginTop:"10px"},children:P.jsx("button",{onClick:M,style:{backgroundColor:"#32CD32 "},children:"Add Prestige"})})]})]}),P.jsxs("div",{className:"topRight",children:[P.jsx("h5",{children:"Global Values"}),P.jsxs("table",{style:{width:"100%",border:"1px solid #ddd",borderCollapse:"collapse"},children:[P.jsx("thead",{children:P.jsxs("tr",{children:[P.jsx("th",{children:"Value"}),P.jsx("th",{children:"Amount"})]})}),P.jsx("tbody",{children:t.globalValues&&Object.entries(t.globalValues).map(([L,_],Z)=>P.jsxs("tr",{children:[P.jsx("td",{children:L}),P.jsx("td",{children:_})]},Z))})]})]}),P.jsxs("div",{className:"bottomHalf",children:[P.jsx("h5",{children:"Version Values and Goals"}),P.jsxs("table",{style:{width:"100%",border:"1px solid #ddd",borderCollapse:"collapse"},children:[P.jsx("thead",{children:P.jsxs("tr",{children:[P.jsx("th",{children:"Value"}),P.jsx("th",{children:"Amount"}),P.jsx("th",{children:"Goal"})]})}),P.jsxs("tbody",{children:[s.map(([L,_])=>P.jsxs("tr",{children:[P.jsx("td",{children:L}),P.jsx("td",{children:h===L?P.jsxs("div",{children:[P.jsx("input",{type:"text",value:y,onChange:W,placeholder:"Edit value",autoFocus:!0}),P.jsx("button",{onClick:()=>$(L,y),children:"Save"})]}):P.jsx("span",{onClick:()=>H(L,_),style:{cursor:"pointer"},children:_})}),P.jsx("td",{children:E===L?P.jsxs("div",{children:[P.jsx("input",{type:"number",value:k,onChange:F,placeholder:"Enter goal"}),P.jsx("button",{onClick:()=>z(L),children:"Save"})]}):P.jsx("span",{onClick:()=>A(L),style:{cursor:"pointer"},children:S[L]!==void 0?S[L]:"No goal set"})})]},L)),P.jsxs("tr",{children:[P.jsx("td",{children:P.jsx("input",{type:"text",placeholder:"New Key",value:u,onChange:L=>d(L.target.value)})}),P.jsx("td",{children:P.jsx("input",{type:"number",placeholder:"New Value",value:f,onChange:L=>v(L.target.value)})}),P.jsx("td",{children:P.jsx("button",{onClick:()=>$(u,f),children:"Add"})})]})]})]})]})]}):P.jsx("p",{children:"No node selected"})]})},kk=t=>new Date(t).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(","," @"),Kp=({nodeSelected:t,userId:e,nodeVersion:r})=>{const[a,o]=he.useState([]),[s,l]=he.useState(""),[u,d]=he.useState(!1),[f,v]=he.useState(!1),[h,g]=he.useState(""),y=he.useRef(null),m="https://voteonsol.com",S=lt.get("token"),x=async()=>{if(t){o([]),v(!0);try{const B=await fetch(`${m}/get-notes`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`},body:JSON.stringify({nodeId:t._id,version:r}),credentials:"include"}),N=await B.json();B.ok?o(N.notes||[]):g(N.message||"Error retrieving the notes.")}catch(B){console.error("Error fetching notes:",B),g("An error occurred while fetching the notes.")}finally{v(!1)}}};he.useEffect(()=>{x()},[t,r,S]),he.useEffect(()=>{var B;(B=y.current)==null||B.scrollIntoView({behavior:"smooth"})},[a]);const E=B=>{if(B.contentType==="text")return P.jsx("div",{children:B.content});if(B.contentType==="file"){const N=["mp4","mov","avi"],T=["jpg","jpeg","png","gif"],O=B.content.split(".").pop().toLowerCase();return T.includes(O)?P.jsx("img",{src:`${m}/uploads/${B.content}`,alt:"Note",style:{maxWidth:"300px",display:"block",marginTop:"10px"}}):N.includes(O)?P.jsxs("video",{controls:!0,style:{maxWidth:"300px",display:"block",marginTop:"10px"},children:[P.jsx("source",{src:`${m}/uploads/${B.content}`,type:`video/${O}`}),"Your browser does not support the video tag."]}):null}return null},b=async B=>{if(B.preventDefault(),!t){g("No Node Selected.");return}if(!s.trim()){g("Please write a note before submitting.");return}v(!0);try{const N=await fetch(`${m}/create-Note`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`},body:JSON.stringify({content:s,contentType:"text",userId:e,nodeId:t._id,version:r,isReflection:u}),credentials:"include"}),T=await N.json();N.ok?(g(T.message),l(""),d(!1),x()):g(T.message||"Error creating the note.")}catch(N){console.error("Error:",N),g("An error occurred while creating the note.")}finally{v(!1)}},k=async B=>{if(window.confirm("Are you sure you want to delete this note? This action cannot be undone.")){v(!0);try{const T=await fetch(`${m}/delete-note`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`},body:JSON.stringify({noteId:B}),credentials:"include"}),O=await T.json();T.ok?(g(O.message),x()):g(O.message||"Error deleting the note.")}catch(T){console.error("Error:",T),g("An error occurred while deleting the note.")}finally{v(!1)}}},D=async B=>{if(!t){g("No Node Selected.");return}const N=B.target.files[0];if(!N)return;v(!0);const T=new FormData;T.append("file",N),T.append("contentType","file"),T.append("userId",e),T.append("nodeId",t._id),T.append("version",r),T.append("isReflection",u);try{const O=await fetch(`${m}/create-Note`,{method:"POST",headers:{Authorization:`Bearer ${S}`},body:T,credentials:"include"}),I=await O.json();O.ok?(g(I.message),x()):g(I.message||"Error uploading the file.")}catch{g("An error occurred while uploading the file.")}finally{v(!1)}};return P.jsxs("div",{children:[P.jsx("h3",{children:"Notes and Reflections"}),P.jsx("div",{style:{maxHeight:"400px",overflowY:"scroll",border:"1px solid #ccc",marginTop:"20px",textAlign:"left",marginBottom:"5px"},children:f?P.jsx("p",{children:"Loading notes..."}):P.jsxs("div",{children:[a.length>0?a.map(B=>P.jsxs("div",{style:{marginBottom:"11px",border:"1px solid black",backgroundColor:"white"},children:[P.jsxs("div",{children:[P.jsxs("strong",{children:[B.username,B.isReflection&&P.jsx("span",{children:" (Reflection)"}),":"]}),kk(B.createdAt),P.jsx("button",{onClick:()=>k(B._id),style:{float:"right",backgroundColor:"red",color:"white",border:"none",borderRadius:"50%",padding:"5px 10px",cursor:"pointer",opacity:"0.6"},children:"X"})]}),P.jsx("div",{style:{backgroundColor:B.isReflection?"#98FB98":"white",padding:"10px",borderRadius:"5px"},children:E(B)})]},B._id)):null,P.jsx("div",{ref:y})]})}),t?P.jsxs(P.Fragment,{children:[P.jsxs("form",{onSubmit:b,children:[P.jsx("div",{children:P.jsx("textarea",{value:s,onChange:B=>l(B.target.value),placeholder:"Write your note here...",rows:5,style:{width:"100%"}})}),P.jsx("div",{children:P.jsxs("label",{children:[P.jsx("input",{type:"checkbox",checked:u,onChange:B=>d(B.target.checked)}),"Is this a reflection?"]})}),P.jsx("button",{type:"submit",disabled:f,children:f?"Submitting...":"Submit"})]}),P.jsx("div",{children:P.jsx("input",{type:"file",accept:"image/*,video/*",onChange:D,disabled:f})}),h&&P.jsx("p",{children:h})]}):P.jsx("p",{children:"No Node Selected."})]})},Gp=({nodeSelected:t})=>{const[e,r]=he.useState([]),[a,o]=he.useState(!1),s="https://voteonsol.com",l=he.useCallback(async()=>{const u=lt.get("token");if(!u){console.error("No JWT token found!");return}if(!t||!t._id){console.error("Node ID is not available");return}if(!a){o(!0);try{const d=await fetch(`${s}/get-contributions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({nodeId:t._id}),credentials:"include"});if(!d.ok){console.error("Failed to fetch contributions:",d.statusText);return}const f=await d.json();f.contributions&&f.contributions.length>0&&r(f.contributions)}catch(d){console.error("Error fetching contributions:",d)}finally{o(!1)}}},[t]);return he.useEffect(()=>{a||l()},[t,l]),P.jsx("div",{className:"contributions",children:P.jsxs("div",{style:{maxHeight:"100%",overflowY:"auto"},children:[P.jsx("h3",{children:"Contributions"}),P.jsx("div",{className:"scrollable-list",children:P.jsx("ul",{children:e.map(u=>P.jsxs("li",{children:[P.jsxs("p",{children:[P.jsx("strong",{children:"Username:"})," ",u.username]}),P.jsxs("p",{children:[P.jsx("strong",{children:"Action:"})," ",u.action]}),P.jsxs("p",{children:[P.jsx("strong",{children:"Node Version:"})," ",u.nodeVersion]}),u.additionalInfo&&P.jsxs("div",{children:[u.action==="editValue"&&P.jsxs("p",{children:[P.jsx("strong",{children:"Edited Value:"})," ",JSON.stringify(u.additionalInfo.valueEdited)]}),u.action==="editStatus"&&P.jsxs("p",{children:[P.jsx("strong",{children:"Status:"})," ",u.statusEdited]}),u.action==="transaction"&&P.jsxs("div",{children:[P.jsx("h4",{children:"Trade Details"}),P.jsxs("p",{children:[P.jsx("strong",{children:"Node A:"})," ",u.additionalInfo.nodeA.name," (Version"," ",u.additionalInfo.nodeA.versionIndex,")"]}),P.jsxs("p",{children:[P.jsx("strong",{children:"Values Sent by Node A:"})," ",JSON.stringify(u.additionalInfo.nodeA.valuesSent)]}),P.jsxs("p",{children:[P.jsx("strong",{children:"Node B:"})," ",u.additionalInfo.nodeB.name," (Version"," ",u.additionalInfo.nodeB.versionIndex,")"]}),P.jsxs("p",{children:[P.jsx("strong",{children:"Values Sent by Node B:"})," ",JSON.stringify(u.additionalInfo.nodeB.valuesSent)]})]}),u.action==="invite"&&u.additionalInfo&&P.jsxs("div",{children:[P.jsxs("p",{children:[P.jsx("strong",{children:"Invite Action:"})," ",u.additionalInfo.inviteAction.action]}),P.jsxs("p",{children:[P.jsx("strong",{children:"Receiving Username:"})," ",u.additionalInfo.inviteAction.receivingUsername||"N/A"]})]}),u.action==="editSchedule"&&u.scheduleEdited&&P.jsxs("p",{children:[P.jsx("strong",{children:"Schedule Edited:"}),"Date:"," ",u.scheduleEdited.date&&new Date(u.scheduleEdited.date).toLocaleString(),", Reeffect Time:"," ",u.scheduleEdited.reeffectTime]}),u.action==="editGoal"&&u.additionalInfo&&P.jsxs("p",{children:[P.jsx("strong",{children:"Goal Edited:"})," ",JSON.stringify(u.additionalInfo.goalEdited)]})]}),P.jsxs("p",{children:[P.jsx("strong",{children:"Date:"})," ",new Date(u.date).toLocaleString()]})]},u._id))})})]})})},Fm=(t,e=[])=>(t.versions&&t.versions.length>0&&t.versions.forEach(r=>{r&&e.push({nodeId:t._id,nodeName:t.name,status:r.status,schedule:r.schedule,dateCreated:r.dateCreated})}),t.children&&t.children.length>0&&t.children.forEach(r=>Fm(r,e)),e),cf=t=>new Date(t).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(","," @"),Yp=({nodeSelected:t,tree:e,nodeVersion:r,getTree:a,rootSelected:o})=>{var I,j,M,A;const[s,l]=he.useState([]),[u,d]=he.useState(null),[f,v]=he.useState((j=(I=t==null?void 0:t.versions)==null?void 0:I[r])==null?void 0:j.schedule),[h,g]=he.useState(!1),[y,m]=he.useState(f||""),[S,x]=he.useState(((A=(M=t==null?void 0:t.versions)==null?void 0:M[r])==null?void 0:A.reeffectTime)||0),E="https://voteonsol.com";he.useEffect(()=>{var F,z;t&&((F=t.versions)==null?void 0:F.length)>0&&(v(t.versions[r].schedule),x(((z=t.versions[r])==null?void 0:z.reeffectTime)||0))},[t,r]);const b=(F,z)=>{if(F._id===z._id)return{...F};if(F.children&&F.children.length>0)for(let $ of F.children){const H=b($,z);if(H)return H}return null};he.useEffect(()=>{if(t&&e){const F=b(e,t);d(F)}},[t,e]),he.useEffect(()=>{if(u){const F=Fm(u);l(F)}},[u]);const k=F=>{m(F.target.value)},D=F=>{x(F.target.value)},B=async F=>{F.preventDefault();const z=lt.get("token");if(!z){console.error("No JWT token found!");return}try{const $=await fetch(`${E}/update-schedule`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${z}`},body:JSON.stringify({nodeId:t._id,newSchedule:y,reeffectTime:S,versionIndex:r}),credentials:"include"}),H=await $.json();if(a(o),!$.ok)throw console.error("error changing schedule",H),new Error("Failed to create node");v(y),g(!1)}catch($){console.error("Error setting schedule:",$.message)}},N=[],T=[],O=[];return s.forEach(F=>{F.schedule&&new Date(F.schedule),F.schedule?T.push(F):O.push(F)}),N.sort((F,z)=>new Date(F.schedule)-new Date(z.schedule)),t?P.jsxs("div",{children:[P.jsx("h3",{children:"Schedule"}),P.jsxs("div",{className:"schedule-container",children:[f?P.jsxs("div",{children:[P.jsxs("p",{children:["Scheduled for: ",cf(f)]}),P.jsxs("p",{children:["Reeffect time: ",S," hrs"]})]}):P.jsx("p",{children:"No schedule for this node"}),P.jsx("button",{onClick:()=>g(!h),children:h?"Cancel":"Edit Schedule"}),h&&P.jsxs("form",{onSubmit:B,children:[P.jsx("input",{type:"datetime-local",value:y,onChange:k,required:!0}),P.jsx("br",{}),P.jsxs("label",{children:["Re-effect Time (hours):",P.jsx("input",{type:"number",value:S,onChange:D,required:!0,step:"0.1",min:"0",max:"1000000"})]}),P.jsx("br",{}),P.jsx("button",{type:"submit",children:"Submit Schedule"})]}),P.jsxs("div",{children:[N.length>0&&P.jsxs("div",{children:[P.jsx("h4",{children:"Today"}),P.jsxs("table",{children:[P.jsx("thead",{children:P.jsxs("tr",{children:[P.jsx("th",{children:"Name"}),P.jsx("th",{children:"Scheduled"}),P.jsx("th",{children:"Status"})]})}),P.jsx("tbody",{children:N.map((F,z)=>P.jsxs("tr",{children:[P.jsx("td",{children:F.nodeName}),P.jsx("td",{children:cf(F.schedule)}),P.jsx("td",{children:F.status})]},z))})]})]}),T.length>0&&P.jsxs("div",{children:[P.jsx("h4",{children:"Upcoming"}),P.jsxs("table",{children:[P.jsx("thead",{children:P.jsxs("tr",{children:[P.jsx("th",{children:"Name"}),P.jsx("th",{children:"Scheduled"}),P.jsx("th",{children:"Status"})]})}),P.jsx("tbody",{children:T.map((F,z)=>P.jsxs("tr",{children:[P.jsx("td",{children:F.nodeName}),P.jsx("td",{children:cf(F.schedule)}),P.jsx("td",{children:F.status})]},z))})]})]}),O.length>0&&P.jsxs("div",{children:[P.jsx("h4",{children:"Floating"}),P.jsxs("table",{children:[P.jsx("thead",{children:P.jsxs("tr",{children:[P.jsx("th",{children:"Name"}),P.jsx("th",{children:"Status"}),P.jsx("th",{children:"Date Created"})]})}),P.jsx("tbody",{children:O.map((F,z)=>P.jsxs("tr",{children:[P.jsx("td",{children:F.nodeName}),P.jsx("td",{children:F.status}),P.jsx("td",{children:new Date(F.dateCreated).toLocaleString()})]},z))})]})]}),s.length===0&&P.jsx("p",{children:"No schedules found."})]})]})]}):null},Tk=({setRootSelected:t,rootSelected:e,rootNodes:r,setRootNodes:a,userId:o})=>{const[s,l]=he.useState(""),[u,d]=he.useState(""),[f,v]=he.useState(""),[h,g]=he.useState(null),[y,m]=he.useState(""),[S,x]=he.useState(""),[E,b]=he.useState(!1),k=lt.get("token"),D="https://voteonsol.com",B=(F,z)=>{x(`Error during ${z}: ${F.message||F}`)},N=async F=>{b(!0);try{const z=await fetch(`${D}/get-root-details`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:F}),credentials:"include"}),$=await z.json();z.ok?g($):x(`Failed to fetch node details: ${$.message}`)}catch(z){B(z,"fetching node details")}finally{b(!1)}};he.useEffect(()=>{if(!k)return;(async()=>{b(!0);try{const z=await fetch(`${D}/get-root-nodes`,{method:"GET",headers:{Authorization:`Bearer ${k}`},credentials:"include"}),$=await z.json();z.ok?Array.isArray($.roots)&&a($.roots):x(`Failed to fetch root nodes: ${$.message}`)}catch(z){B(z,"fetching root nodes")}finally{b(!1)}})()},[k,a]),he.useEffect(()=>{e&&N(e)},[e]);const T=async(F,z)=>{b(!0);try{const $=await fetch(`${D}/invite`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k}`},body:JSON.stringify(z),credentials:"include"}),H=await $.json();$.ok?(x(H.message||"Action completed successfully"),N(e),F==="invite"&&m("")):x(`Failed to ${F}: ${H.message}`)}catch($){B($,F)}finally{b(!1)}},O=()=>{h&&T("invite",{userReceiving:y,isToBeOwner:!1,isUninviting:!1,rootId:e})},I=F=>{h&&T("remove",{userReceiving:F,isToBeOwner:!1,isUninviting:!0,rootId:e})},j=F=>{h&&T("transfer-ownership",{userReceiving:F,isToBeOwner:!0,isUninviting:!1,rootId:e})},M=()=>{h&&(h.rootOwner._id===o?h.contributors.length>0?alert("Your tree has contributors. Please assign a new owner before leaving."):T("leave",{userReceiving:o,isToBeOwner:!1,isUninviting:!0,rootId:e}).then(()=>{a(z=>z.filter($=>$!==e)),t(null),g(null)}):T("leave",{userReceiving:o,isToBeOwner:!1,isUninviting:!0,rootId:e}).then(()=>{a(z=>z.filter($=>$!==e)),t(null),g(null)}))},A=async F=>{if(F.preventDefault(),!k){x("No JWT token found!");return}const z=null;b(!0);try{const $=await fetch(`${D}/add-node`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k}`},body:JSON.stringify({parentId:z,name:s,schedule:u,reeffectTime:f,isRoot:!0}),credentials:"include"}),H=await $.json();if(!$.ok)throw x(`Error creating node: ${H.message}`),new Error("Failed to create node");x("Node created successfully!"),a(W=>[...W,H.newNode._id]),t(H.newNode._id),await N(H.newNode._id),l(""),d(""),v("")}catch($){x(`Error creating node: ${$.message}`)}finally{b(!1)}};return P.jsxs("div",{className:"rootNodeForm",children:[P.jsxs("div",{children:[P.jsx("h3",{children:"Existing Root Nodes"}),P.jsxs("select",{value:e||"",onChange:F=>t(F.target.value),style:{width:"100%",padding:"8px"},children:[P.jsx("option",{value:"",disabled:!0,children:"Select a root node"}),r.map(F=>P.jsx("option",{value:F,children:F},F))]})]}),P.jsxs("div",{children:[P.jsx("h3",{children:"Create a New Root Node"}),P.jsxs("form",{onSubmit:A,children:[P.jsx("input",{type:"text",placeholder:"Enter root node name",value:s,onChange:F=>l(F.target.value),required:!0}),P.jsx("button",{type:"submit",disabled:E,children:E?"Creating...":"Create Root Node"})]})]}),h&&P.jsxs("div",{children:[P.jsx("h3",{children:"Selected Root Details"}),P.jsxs("p",{children:["Root Owner: ",h.rootOwner.username]}),P.jsx("h4",{children:"Contributors:"}),P.jsx("ul",{children:h.contributors.map(F=>P.jsxs("li",{children:[F.username," ",h.rootOwner._id===o&&P.jsxs(P.Fragment,{children:[P.jsx("button",{onClick:()=>I(F._id),children:"Remove"}),P.jsx("button",{onClick:()=>j(F._id),children:"Transfer Ownership"})]})]},F._id))}),h.rootOwner._id===o?P.jsxs(P.Fragment,{children:[P.jsx("h4",{children:"Invite Contributor"}),P.jsx("input",{type:"text",value:y,onChange:F=>m(F.target.value),placeholder:"Enter username"}),P.jsx("button",{onClick:O,children:"Invite"}),S&&P.jsx("div",{children:S}),P.jsx("button",{onClick:M,children:"Leave Node"})]}):P.jsx("button",{onClick:M,children:"Leave Node"})]})]})},Dk=()=>{const[t,e]=he.useState([]),[r,a]=he.useState(!0),[o,s]=he.useState(null),l="https://voteonsol.com",u=lt.get("token");he.useEffect(()=>{(async()=>{try{const v=await fetch(`${l}/pending-invites`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},credentials:"include"}),h=await v.json();v.ok?e(h.invites):s(h.message||"Failed to fetch invites.")}catch{s("Error fetching invites")}finally{a(!1)}})()},[u]);const d=async(f,v)=>{try{const h=await fetch(`${l}/invite/accept`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({inviteId:f,acceptInvite:v}),credentials:"include"}),g=await h.json();h.ok?e(y=>y.filter(m=>m._id!==f)):s(g.message||"Failed to respond to invite.")}catch{s("Error responding to invite")}};return r?P.jsx("div",{children:"Loading..."}):o?P.jsx("div",{children:o}):P.jsxs("div",{children:[P.jsx("h3",{children:"Your Pending Invites"}),t.length===0?P.jsx("p",{children:"No pending invites"}):P.jsx("ul",{children:t.map(f=>P.jsxs("li",{children:["From: ",f.userInviting.username,", root: ",f.rootId.name," ","(Status: ",f.status,")",P.jsxs("div",{children:[P.jsx("button",{onClick:()=>d(f._id,!0),children:"Accept"}),P.jsx("button",{onClick:()=>d(f._id,!1),children:"Decline"})]})]},f._id))})]})},Pk="https://voteonsol.com",Nk=lt.get("token"),Lk=({username:t,userId:e,onLogout:r,rootNodes:a,setRootNodes:o,rootSelected:s,setRootSelected:l,tree:u})=>{const[d,f]=he.useState(!1),[v,h]=he.useState(!1),[g,y]=he.useState(!1);he.useEffect(()=>{f(!1),h(b=>!b)},[s]);const m=()=>{r&&r()},S=()=>{h(b=>!b)},x=()=>{y(b=>!b)},E=async()=>{try{const b=await fetch(`${Pk}/get-all-data`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Nk}`},body:JSON.stringify({rootId:s}),credentials:"include"});if(!b.ok){const T=await b.json();console.error("Error fetching data:",T);return}const k=await b.json(),D=JSON.stringify(k,null,2),B=new Blob([D],{type:"application/json"}),N=document.createElement("a");N.download=`${s}.json`,N.href=URL.createObjectURL(B),document.body.appendChild(N),N.click(),N.remove()}catch(b){console.error("Error fetching data:",b.message)}};return P.jsxs("div",{className:"account-tab",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:[P.jsx("span",{className:"account-info",children:d?P.jsxs("div",{children:[P.jsxs("p",{children:["Username: ",t]}),P.jsx("button",{onClick:m,children:"Logout"}),P.jsx("button",{onClick:S,children:v?"Hide Roots":"Show Roots"}),P.jsx("button",{onClick:x,children:g?"Hide Invites":"Show Invites"}),P.jsx("button",{onClick:E,disabled:!u,children:"Download Tree"})]}):P.jsx("p",{children:"Profile"})}),v&&P.jsx("div",{className:"account-tab-content",children:P.jsx(Tk,{rootNodes:a,setRootNodes:o,setRootSelected:l,rootSelected:s,userId:e})}),g&&P.jsx("div",{className:"account-tab-content-2",children:P.jsx(Dk,{userId:e})})]})},Rk=({setIsLoggedIn:t,setUsername:e,setUserId:r,userId:a})=>{const[o,s]=he.useState(!1),[l,u]=he.useState(""),[d,f]=he.useState(""),[v,h]=he.useState(""),g="https://voteonsol.com",y=async()=>{try{const x=await fetch(`${g}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:l,password:d}),credentials:"include"}),E=await x.json();x.ok?(console.log(E),lt.set("token",E.token,{expires:7,secure:!1}),lt.set("username",l,{expires:7,secure:!1}),lt.set("userId",E.userId,{expires:7,secure:!1}),lt.set("loggedIn",!0,{expires:7,secure:!1}),e(l),r(E.userId),t(!0)):h(E.message||"Login failed.")}catch(x){console.error("Error during login:",x),h("An error occurred. Please try again.")}},m=async()=>{try{const x=await fetch(`${g}/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:l,password:d}),credentials:"include"}),E=await x.json();x.ok?(h("Registration successful! You can now log in."),s(!1)):h(E.message||"Registration failed.")}catch(x){console.error("Error during registration:",x),h("An error occurred. Please try again.")}},S=x=>{x.preventDefault(),o?m():y()};return P.jsxs("div",{className:"login-container",children:[P.jsx("div",{className:"logo-container",children:P.jsx("img",{src:"../../tree.png",alt:"Logo",className:"logo"})}),P.jsx("h2",{children:o?"Register":"Login"}),P.jsxs("form",{onSubmit:S,children:[P.jsx("div",{children:P.jsx("input",{type:"text",placeholder:"Username",value:l,onChange:x=>u(x.target.value)})}),P.jsx("div",{children:P.jsx("input",{type:"password",placeholder:"Password",value:d,onChange:x=>f(x.target.value)})}),P.jsx("button",{type:"submit",children:o?"Register":"Login"})]}),P.jsx("p",{children:v}),P.jsxs("p",{children:[o?"Already have an account?":"Don't have an account yet?",P.jsx("button",{onClick:()=>s(!o),children:o?"Login":"Register"})]})]})},Bk="https://voteonsol.com",Ik=lt.get("token"),Qp=({tree:t,nodeSelected:e,nodeVersion:r,getTree:a,rootSelected:o})=>{var I,j;const[s,l]=he.useState(!1),[u,d]=he.useState(null),[f,v]=he.useState({}),[h,g]=he.useState({}),[y,m]=he.useState(null),[S,x]=he.useState(!0),E=()=>{l(!0),x(!0)},b=()=>{l(!1),d(null),v({}),g({}),m(null),x(!0)};he.useEffect(()=>{l(!1),d(null)},[e,r]);const k=M=>{d(M),m(M.prestige),x(!1)},D=(M,A,F)=>{const z=F?Number(F):0;M==="A"?v($=>({...$,[A]:z})):M==="B"&&g($=>({...$,[A]:z}))},B=M=>{m(Number(M.target.value))},N=async()=>{const M={nodeAId:e._id,versionAIndex:r,valuesA:f,nodeBId:u._id,versionBIndex:y,valuesB:h};try{const F=await(await fetch(`${Bk}/trade-values`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ik}`},body:JSON.stringify(M),credentials:"include"})).json();F&&(alert(F.message),a(o),b())}catch(A){alert("Error during trade: "+A.message)}},T=M=>{if(!t||!e)return[];let A=[];return M._id!==e._id&&A.push(M),M.children&&M.children.forEach(F=>{A=A.concat(T(F))}),A},O=T(t);return P.jsx("div",{children:s?P.jsxs("div",{className:"trade-window",children:[S&&P.jsxs(P.Fragment,{children:[P.jsx("h3",{children:"Select a Node to Trade With"}),P.jsx("ul",{children:O.map(M=>P.jsx("li",{children:P.jsx("button",{onClick:()=>k(M),children:M.name})},M.name))})]}),u&&P.jsxs("div",{children:[P.jsxs("h3",{children:["Trading Between ",e.name," & ",u.name]}),P.jsxs("div",{children:[P.jsxs("h4",{children:["This Node (",e.name,")"]}),e.versions[r].values&&Object.keys(e.versions[r].values).length>0?Object.entries(e.versions[r].values).map(([M,A])=>P.jsxs("div",{children:[P.jsxs("label",{children:[M,": ",A]}),P.jsx("br",{}),P.jsx("input",{type:"number",value:f[M]||0,onChange:F=>D("A",M,F.target.value)})]},M)):P.jsx("p",{children:"This node version has nothing to trade"})]}),P.jsxs("div",{children:[P.jsxs("h4",{children:[u.name,P.jsx("div",{children:P.jsx("select",{value:y,onChange:B,children:u.versions&&u.versions.map((M,A)=>P.jsxs("option",{value:A,children:["Prestige ",A]},A))})})]}),(I=u.versions[y])!=null&&I.values&&Object.keys(((j=u.versions[y])==null?void 0:j.values)||{}).length>0?Object.entries(u.versions[y].values).map(([M,A])=>P.jsxs("div",{children:[P.jsxs("label",{children:[M,": ",A]}),P.jsx("br",{}),P.jsx("input",{type:"number",value:h[M]||0,onChange:F=>D("B",M,F.target.value)})]},M)):P.jsx("p",{children:"This node version has nothing to trade"})]}),P.jsx("button",{onClick:N,children:"Submit Trade"}),P.jsx("button",{onClick:b,style:{marginLeft:"10px"},children:"Cancel Trade"})]})]}):P.jsx("button",{onClick:E,children:"Trade Values To Another Node"})})},Mk=()=>{const[t,e]=he.useState(!1),[r,a]=he.useState(""),[o,s]=he.useState(""),[l,u]=he.useState([]),[d,f]=he.useState(lt.get("rootSelected")||null),[v,h]=he.useState(null),[g,y]=he.useState(null),[m,S]=he.useState(null),[x,E]=he.useState({active:!0,trimmed:!1,completed:!1}),[b,k]=he.useState(0),[D,B]=he.useState(!1),[N,T]=he.useState(!0),O=[lf,uf],I="https://voteonsol.com";he.useEffect(()=>{const $=lt.get("username"),H=lt.get("userId");lt.get("loggedIn")&&(e(!0),a($||""),s(H||""))},[]),he.useEffect(()=>{h(null),d&&(j(d),lt.set("rootSelected",d))},[d]),he.useEffect(()=>{x&&d&&j(d)},[x,d]);const j=async $=>{try{const H=await fetch(`${I}/get-tree`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rootId:$})});if(!H.ok)throw new Error("Failed to fetch tree");const W=await H.json(),U=K=>x.active&&K.versions[K.prestige].status==="active"||x.trimmed&&K.versions[K.prestige].status==="trimmed"||x.completed&&K.versions[K.prestige].status==="completed"?(K.children&&(K.children=K.children.filter(U)),!0):!1,G=U(W)?W:null;if(S(G),v){const K=(_,Z)=>{if(_._id===Z)return _;for(let te of _.children||[]){const oe=K(te,Z);if(oe)return oe}return null},L=K(G,v._id);L&&h(L)}else h(G),y(G==null?void 0:G.prestige)}catch(H){console.error("Error loading tree:",H)}},M=()=>{e(!1),a(""),s(""),f(null),h(null),u([]),lt.remove("username"),lt.remove("userId"),lt.remove("loggedIn"),lt.remove("token"),lt.remove("rootSelected")},A=()=>{B(window.innerWidth<=1190||window.innerHeight<=500)};he.useEffect(()=>(A(),window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)),[]);const F=()=>{k($=>($+1)%O.length)},z=()=>D&&N?b===0?P.jsx("div",{className:"tree-view",children:P.jsx(lf,{rootSelected:d,getTree:j,tree:m,nodeSelected:v,setNodeSelected:h,nodeVersion:g,setNodeVersion:y,handleToggleView:F,statusFilter:x,setStatusFilter:E})}):b===1?P.jsx("div",{className:"tree-view-directory",children:P.jsx(uf,{tree:m,nodeSelected:v,setNodeSelected:h,handleToggleView:F,nodeVersion:g,getTree:j,rootSelected:d,statusFilter:x,setStatusFilter:E})}):null:D?null:P.jsxs(P.Fragment,{children:[P.jsx("div",{className:"tree-view",children:b===0?P.jsx(lf,{rootSelected:d,getTree:j,tree:m,nodeSelected:v,setNodeSelected:h,nodeVersion:g,setNodeVersion:y,handleToggleView:F,statusFilter:x,setStatusFilter:E}):P.jsx(uf,{tree:m,nodeSelected:v,setNodeSelected:h,handleToggleView:F,nodeVersion:g,getTree:j,rootSelected:d,statusFilter:x,setStatusFilter:E})}),P.jsxs("div",{className:"main-content",children:[P.jsxs("div",{className:"node-data",children:[P.jsx(Wp,{nodeSelected:v,nodeVersion:g,setNodeVersion:y,getTree:j,rootSelected:d,tree:m}),P.jsx(Qp,{nodeSelected:v,tree:m,nodeVersion:g,getTree:j,rootSelected:d})]}),P.jsx("div",{className:"notes",children:P.jsx(Kp,{nodeSelected:v,userId:o,nodeVersion:g})})]}),P.jsxs("div",{className:"side-content",children:[P.jsx("div",{className:"schedule",children:P.jsx(Yp,{nodeSelected:v,tree:m,nodeVersion:g,getTree:j,rootSelected:d})}),P.jsx("div",{className:"transaction",children:P.jsx(Gp,{nodeSelected:v})})]})]});return P.jsx("div",{className:"app-container",children:t?P.jsxs(P.Fragment,{children:[P.jsx("div",{className:"header",children:P.jsx(Lk,{username:r,userId:o,onLogout:M,setRootNodes:u,rootNodes:l,setRootSelected:f,rootSelected:d,tree:m})}),D&&N?z():P.jsxs(P.Fragment,{children:[z(),P.jsxs("div",{className:"main-content",children:[P.jsxs("div",{className:"node-data",children:[P.jsx(Wp,{nodeSelected:v,nodeVersion:g,setNodeVersion:y,getTree:j,rootSelected:d,tree:m}),P.jsx(Qp,{nodeSelected:v,tree:m,nodeVersion:g,getTree:j,rootSelected:d})]}),P.jsx("div",{className:"notes",children:P.jsx(Kp,{nodeSelected:v,userId:o,nodeVersion:g})})]}),P.jsxs("div",{className:"side-content",children:[P.jsx("div",{className:"schedule",children:P.jsx(Yp,{nodeSelected:v,tree:m,nodeVersion:g,getTree:j,rootSelected:d})}),P.jsx("div",{className:"transaction",children:P.jsx(Gp,{nodeSelected:v})})]})]}),D&&P.jsx("button",{className:"tree-view-toggle-btn",onClick:()=>T($=>!$),children:N?"Show Details":"Show Tree"})]}):P.jsx(Rk,{setIsLoggedIn:e,setUsername:a,setUserId:s})})};B0.createRoot(document.getElementById("root")).render(P.jsx(he.StrictMode,{children:P.jsx(Mk,{})}));
